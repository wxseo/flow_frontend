"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[865],{30058:function(e,t,a){a.d(t,{A:function(){return R}});var l=a(65451),i=(a(97042),a(63390),a(91542)),r=(a(37985),a(25136)),n=(a(69957),a(76408)),o=(a(87535),a(18111),a(22489),a(56768)),p=a(90144),d=a(24232),s=a(57477);const u={style:{"margin-right":"4px","font-size":"14px"}},c={key:2,style:{"flex-grow":"1","min-width":"10px"}};var f=(0,o.pM)({__name:"index",props:{hasSearch:{type:Boolean,default:!0},hasReset:{type:Boolean,default:!0}},emits:["reset","search"],setup(e,{emit:t}){const a=(0,o.Ht)(),f=t,h=(0,p.KR)(!1),m=()=>{f("search")},R=()=>{f("reset")},y=(0,o.EW)(()=>{let e=a.default?a.default():[];return e.filter(e=>e.type&&e.type.name&&null!==e.type.name)}),g=(0,o.EW)(()=>{if(h.value){let e=y.value.length%4;return 0===e?24:6*(4-e)}return y.value.length<=3?6*(4-y.value.length):6});return(0,o.sV)(()=>{null!=a.operation&&(h.value=!0)}),(e,t)=>{const f=n.uD,k=r.S2,F=i.tk,b=l.S2;return(0,o.uX)(),(0,o.Wv)(b,{class:"flex-box",type:"flex"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,p.R1)(y),(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:t},[t<((0,p.R1)(h)?(0,p.R1)(y).length:3)?((0,o.uX)(),(0,o.Wv)(f,{key:0,span:6},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e),{style:{width:"100%"}}))]),_:2},1024)):(0,o.Q3)("",!0)],64))),128)),e.hasSearch?((0,o.uX)(),(0,o.Wv)(f,{key:0,span:(0,p.R1)(g),class:"search-box"},{default:(0,o.k6)(()=>[(0,o.bF)(b,{type:"flex",align:"middle"},{default:(0,o.k6)(()=>[(0,o.bF)(k,{class:"search-btn",type:"default",plain:"",onClick:m,icon:(0,p.R1)(s.Search)},{default:(0,o.k6)(()=>t[1]||(t[1]=[(0,o.eW)(" 查询 ")])),_:1,__:[1]},8,["icon"]),e.hasReset?((0,o.uX)(),(0,o.Wv)(k,{key:0,type:"default",plain:"",onClick:R,style:{width:"72px"}},{default:(0,o.k6)(()=>t[2]||(t[2]=[(0,o.eW)("重置")])),_:1,__:[2]})):(0,o.Q3)("",!0),(0,p.R1)(y).length>3&&null==(0,p.R1)(a).operation?((0,o.uX)(),(0,o.Wv)(b,{key:1,type:"flex",align:"middle",class:"expand-btn",onClick:t[0]||(t[0]=e=>h.value=!(0,p.R1)(h))},{default:(0,o.k6)(()=>[(0,o.Lk)("span",u,(0,d.v_)((0,p.R1)(h)?"收起":"展开"),1),(0,o.bF)(F,null,{default:(0,o.k6)(()=>[(0,p.R1)(h)?((0,o.uX)(),(0,o.Wv)((0,p.R1)(s.ArrowUp),{key:0})):((0,o.uX)(),(0,o.Wv)((0,p.R1)(s.ArrowDown),{key:1}))]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,p.R1)(a).operation?((0,o.uX)(),(0,o.CE)("div",c)):(0,o.Q3)("",!0),(0,o.RG)(e.$slots,"operation")]),_:3})]),_:3},8,["span"])):(0,o.Q3)("",!0)]),_:3})}}}),h=a(71241);const m=(0,h.A)(f,[["__scopeId","data-v-3d53564d"]]);var R=m},37305:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var l=a(70944),i=a(65451),r=(a(97042),a(63390),a(69080)),n=(a(25374),a(12687)),o=(a(31112),a(25136)),p=(a(69957),a(21929)),d=(a(98421),a(30058)),s=(a(32465),a(85415)),u=(a(22243),a(7409),a(56768)),c=a(90144),f=a(45130),h=a(24232),m=a(164),R=a(26695),y=a(8588),g=a(34894),k=a(31372),F=a(60265),b=a(92380),_=a(82572),v=a(72215);const x={style:{position:"relative"}};var C=(0,u.pM)({__name:"index",setup(e,{expose:t}){const{Plus:a}=(0,y.x)(),C=(0,_.l5)(),D=(0,c.KR)(),w=e=>(null==e&&(e={}),e={...e,reportDictDtoFilter:{dictType:T.formFilterCopy.dictType}},new Promise((t,a)=>{g.vO.list(e).then(e=>{t({dataList:e.data.dataList,totalCount:e.data.totalCount})}).catch(e=>{a(e)})})),z=()=>(T.formFilterCopy.dictType=T.formFilter.dictType,!0),S={loadTableData:w,verifyTableParameter:z,paged:!0},T=(0,c.Kh)({formFilter:{dictType:void 0},formFilterCopy:{dictType:void 0},ReportDict:{impl:(0,F.K)(S)},isInit:!1}),W=(e=!1)=>{e?T.ReportDict.impl.refreshTable(!0,1):T.ReportDict.impl.refreshTable(),T.isInit=!0},I=()=>{D.value.resetFields(),W(!0)},X=()=>{let e={path:"thirdEditReportDict"};k.l.show("新建",v["default"],{area:"800px"},e,{width:"800px",height:"600px",pathName:"/thirdParty/thirdEditReportDict"}).then(()=>{W()}).catch(e=>{console.warn(e)})},E=(e=null)=>{let t={rowData:e,path:"thirdEditReportDict"};k.l.show("编辑",v["default"],{area:"600px"},t,{width:"800px",height:"600px",pathName:"/thirdParty/thirdEditReportDict"}).then(()=>{W()}).catch(e=>{console.warn(e)})},P=e=>{let t={dictId:e.dictId};m.s.confirm("是否删除此字典？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{g.vO.delete(t).then(()=>{R.nk.success("删除成功"),W()}).catch(e=>{console.warn(e)})}).catch(e=>{console.warn(e)})},A=()=>{W()};(0,u.sV)(()=>{A()});const K=()=>{W()};return t({onResume:K}),(e,t)=>{const m=s.P9,R=s.AV,y=p.xE,g=d.A,k=p.US,F=o.S2,_=(0,u.g2)("vxe-column"),v=n.u,w=r.aQ,z=i.S2,S=l.A;return(0,u.uX)(),(0,u.CE)("div",x,[(0,u.bF)(k,{ref_key:"form",ref:D,model:(0,c.R1)(T),size:(0,c.R1)(C).defaultFormItemSize,"label-width":"80px","label-position":"right",onSubmit:t[2]||(t[2]=(0,f.D$)(()=>{},["prevent"]))},{default:(0,u.k6)(()=>[(0,u.bF)(g,{"item-width":330,onSearch:t[1]||(t[1]=e=>W(!0)),onReset:I},{default:(0,u.k6)(()=>[(0,u.bF)(y,{label:"字典类型",prop:"formFilter.dictType"},{default:(0,u.k6)(()=>[(0,u.bF)(R,{class:"filter-item",modelValue:(0,c.R1)(T).formFilter.dictType,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,c.R1)(T).formFilter.dictType=e),clearable:!0,filterable:"",placeholder:"字典类型"},{default:(0,u.k6)(()=>[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,c.R1)(b.ReportDictType).getList(),e=>((0,u.uX)(),(0,u.Wv)(m,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model","size"]),(0,u.bF)(S,{ref:"reportDict",class:"page-table",data:(0,c.R1)(T).ReportDict.impl.dataList,size:(0,c.R1)(C).defaultFormItemSize,onSortChange:(0,c.R1)(T).ReportDict.impl.onSortChange,onRefresh:t[4]||(t[4]=e=>W(!0)),"seq-config":{startIndex:((0,c.R1)(T).ReportDict.impl.currentPage-1)*(0,c.R1)(T).ReportDict.impl.pageSize}},{operator:(0,u.k6)(()=>[(0,u.bF)(F,{type:"primary",icon:(0,c.R1)(a),size:(0,c.R1)(C).defaultFormItemSize,onClick:t[3]||(t[3]=e=>X())},{default:(0,u.k6)(()=>t[5]||(t[5]=[(0,u.eW)("新建")])),_:1,__:[5]},8,["icon","size"])]),pagination:(0,u.k6)(()=>[(0,u.bF)(z,{type:"flex",justify:"end",style:{"margin-top":"16px"}},{default:(0,u.k6)(()=>[(0,u.bF)(w,{total:(0,c.R1)(T).ReportDict.impl.totalCount,"current-page":(0,c.R1)(T).ReportDict.impl.currentPage,"page-size":(0,c.R1)(T).ReportDict.impl.pageSize,"page-sizes":[10,20,50,100],layout:"total, prev, pager, next, sizes",onCurrentChange:(0,c.R1)(T).ReportDict.impl.onCurrentPageChange,onSizeChange:(0,c.R1)(T).ReportDict.impl.onPageSizeChange},null,8,["total","current-page","page-size","onCurrentChange","onSizeChange"])]),_:1})]),default:(0,u.k6)(()=>[(0,u.bF)(_,{title:"序号",type:"seq",width:"55px",index:(0,c.R1)(T).ReportDict.impl.getTableIndex},null,8,["index"]),(0,u.bF)(_,{title:"字典名称",field:"dictName"}),(0,u.bF)(_,{title:"字典类型",field:"dictTypeDictMap.name"}),(0,u.bF)(_,{title:"树形标记",field:"treeFlag"},{default:(0,u.k6)(e=>[(0,u.bF)(v,{size:"default",type:e.row.treeFlag?"success":"primary"},{default:(0,u.k6)(()=>[(0,u.eW)((0,h.v_)(e.row.treeFlag?"是":"否"),1)]),_:2},1032,["type"])]),_:1}),(0,u.bF)(_,{title:"操作",fixed:"right",width:"100px"},{default:(0,u.k6)(e=>[(0,u.bF)(F,{onClick:(0,f.D$)(t=>E(e.row),["stop"]),link:"",type:"primary",size:(0,c.R1)(C).defaultFormItemSize},{default:(0,u.k6)(()=>t[6]||(t[6]=[(0,u.eW)(" 编辑 ")])),_:2,__:[6]},1032,["onClick","size"]),(0,u.bF)(F,{onClick:(0,f.D$)(t=>P(e.row),["stop"]),link:"",type:"danger",size:(0,c.R1)(C).defaultFormItemSize},{default:(0,u.k6)(()=>t[7]||(t[7]=[(0,u.eW)(" 删除 ")])),_:2,__:[7]},1032,["onClick","size"])]),_:1})]),_:1},8,["data","size","onSortChange","seq-config"])])}}});const D=C;var w=D}}]);