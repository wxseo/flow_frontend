"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[618],{618:function(e,l,a){a.r(l),a.d(l,{default:function(){return X}});var t=a(52920),u=(a(97042),a(95509),a(21929)),o=(a(98421),a(65451)),i=(a(63390),a(25136)),d=(a(69957),a(88284)),r=(a(36715),a(77649)),n=(a(87603),a(12687)),p=(a(31112),a(18888)),m=(a(3172),a(3740)),s=(a(42899),a(14022)),y=(a(72343),a(76408)),v=(a(87535),a(32465),a(85415)),b=(a(22243),a(7409),a(44114),a(18111),a(22489),a(20116),a(61701),a(13579),a(56768)),f=a(90144),g=a(45130),R=a(24232),c=a(61473),T=a(99540),C=a(26695),k=a(27385),O=a(40235),_=a(21016),V=a(92380),h=a(27007),W=a(36947),F=a(61617),I=a(71066),S=a(82572),E=a(99080);const L={class:"form-single-fragment third-party-dlg",style:{position:"relative"}},w={class:"form-box"},N={class:"variable-list"};var D=(0,b.pM)({__name:"EditCustomFormOperate",props:{rowData:{},formList:{},tableList:{},formConfig:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const l=(0,S.l5)(),a=e,D=(0,b.EW)(()=>l.defaultFormItemSize||P.value.defaultFormItemSize?.value),{thirdParams:P,onCloseThirdDialog:U}=(0,I.P)(a),X=(0,f.KR)(),A=(0,f.KR)(),x=(0,f.KR)({type:_.SysCustomWidgetOperationType.FORM,name:void 0,btnType:void 0,btnIcon:void 0,selectFormId:void 0,multiSelect:!1,dialogWidth:900,dialogHeight:600,plain:!1,enabled:!0,builtin:!1,rowOperation:!0,readOnly:!1,btnClass:"table-btn primary",showOrder:0,formId:void 0,exportColumnList:[],printTemplateId:"",printTemplateType:void 0,processDefinitionKey:void 0,skipHeader:!0,printParamList:[],eventList:[],updateColumnList:[],taskVariableList:[]}),K=(0,f.KR)({updateColumnName:void 0,updateValue:void 0,isEdit:void 0}),Q=(0,f.KR)(!1),M=(0,f.KR)({id:void 0,variableType:0,variableName:void 0,valueType:"String",variableValue:void 0}),z={name:[{required:!0,message:"操作按钮名称不能为空",trigger:"blur"}],formId:[{required:!0,message:"请选择按钮触发表单",trigger:"blur"}],printTemplateId:[{required:!0,message:"请选择打印模版",trigger:"blur"}],processDefinitionKey:[{required:!0,message:"请选择启动流程",trigger:"blur"}],selectFormId:[{required:!0,message:"请选择关联表单",trigger:"blur"}],dialogWidth:[{required:!0,message:"请输入弹窗宽度",trigger:"blur"}],dialogHeight:[{required:!0,message:"请输入弹窗高度",trigger:"blur"}]},q={variableType:[{required:!0,message:"请选择变量类型",trigger:"blur"}],variableName:[{required:!0,message:"请输入变量名称",trgger:"blur"}],valueType:[{required:!0,message:"请选择变量值类型",trigger:"blur"}],variableValue:[{required:!0,message:"请输入变量值",trigger:"blur"}]},G={updateColumnName:[{required:!0,message:"请选择更新字段",trigger:"blur"}],updateValue:[{required:!0,message:"请输入更新字段值",trigger:"blur"}]},H=(0,f.KR)([]),j=(0,f.KR)([]),Y=(0,f.KR)([]),B=(0,f.KR)([]),J=(0,f.KR)(),Z=(0,f.KR)([]),$=(0,f.KR)([]),ee=(0,b.EW)(()=>({rowData:a.rowData||P.value.rowData,formList:a.formList||P.value.formList,tableList:a.tableList||P.value.tableList,formConfig:a.formConfig||P.value.formConfig})),le=(0,b.EW)(()=>null!=ee.value.rowData),ae=(0,b.EW)(()=>{if(ee.value.formConfig.form.formType===_.SysOnlineFormType.WORK_ORDER)return[];{let e=[_.OnlineFormEventType.OPERATION_VISIBLE,_.OnlineFormEventType.OPERATION_DISABLED];return x.value.type===_.SysCustomWidgetOperationType.SCRIPT&&e.push(_.OnlineFormEventType.OPERATION_CLICK),x.value.type===_.SysCustomWidgetOperationType.SELECT_DIALOG&&(e.push(_.OnlineFormEventType.DIALOG_OPEN),e.push(_.OnlineFormEventType.DIALOG_SUBMIT)),e}}),te=(0,b.EW)(()=>ee.value.formList.filter(e=>x.value.type===_.SysCustomWidgetOperationType.FORM||e.formType===_.SysOnlineFormType.FORM)),ue=()=>new Promise((e,l)=>{W.k$.list({orderParam:[{fieldName:"createTime",asc:!0}]}).then(l=>{const a=ee.value.formList.filter(e=>e.formType===_.SysOnlineFormType.ONE_TO_ONE_QUERY||e.formType===_.SysOnlineFormType.ADVANCE_QUERY).map(e=>e.formId),t=l.data.dataList.filter(e=>!a.includes(e.formId)&&(e.formType===_.SysOnlineFormType.QUERY||e.formType===_.SysOnlineFormType.ADVANCE_QUERY));e({dataList:t||[]})}).catch(e=>{l(e)})}),oe={loadData:ue},ie=(0,f.Kh)((0,E.B)(oe)),de=(0,b.EW)(()=>{let e=_.SysCustomWidgetOperationType.getList().filter(e=>!!le.value||(ee.value.formConfig.form.formType===_.SysOnlineFormType.FORM?e.id===_.SysCustomWidgetOperationType.PRINT||e.id===_.SysCustomWidgetOperationType.FORM||e.id===_.SysCustomWidgetOperationType.SELECT_DIALOG:ee.value.formConfig.form.formType===_.SysOnlineFormType.FLOW&&e.id===_.SysCustomWidgetOperationType.SELECT_DIALOG||(ee.value.formConfig.form.formType===_.SysOnlineFormType.WORK_ORDER?e.id===_.SysCustomWidgetOperationType.PRINT:-1!==[_.SysCustomWidgetOperationType.FORM,_.SysCustomWidgetOperationType.PRINT,_.SysCustomWidgetOperationType.COPY,_.SysCustomWidgetOperationType.START_FLOW].indexOf(e.id))));return se.value&&se.value.widgetType===_.SysCustomWidgetType.Table&&!le.value&&(e.push({id:_.SysCustomWidgetOperationType.INLINE_ADD,name:_.SysCustomWidgetOperationType.getValue(_.SysCustomWidgetOperationType.INLINE_ADD)}),e.push({id:_.SysCustomWidgetOperationType.INLINE_EDIT,name:_.SysCustomWidgetOperationType.getValue(_.SysCustomWidgetOperationType.INLINE_EDIT)}),ee.value.formConfig.form.formType!==_.SysOnlineFormType.QUERY&&ee.value.formConfig.form.formType!==_.SysOnlineFormType.ADVANCE_QUERY&&ee.value.formConfig.form.formType!==_.SysOnlineFormType.GROUP_QUERY||(e.push({id:_.SysCustomWidgetOperationType.UPDATE,name:_.SysCustomWidgetOperationType.getValue(_.SysCustomWidgetOperationType.UPDATE)}),e.push({id:_.SysCustomWidgetOperationType.UPDATE_DIALOG,name:_.SysCustomWidgetOperationType.getValue(_.SysCustomWidgetOperationType.UPDATE_DIALOG)}))),"pc"===ee.value.formConfig.mode&&null==e.find(e=>e.id===_.SysCustomWidgetOperationType.SCRIPT)&&e.push({id:_.SysCustomWidgetOperationType.SCRIPT,name:_.SysCustomWidgetOperationType.getValue(_.SysCustomWidgetOperationType.SCRIPT)}),e}),re=(0,b.EW)(()=>{let e=null==ee.value.formConfig.getMasterTable?[]:(ee.value.formConfig.getMasterTable.columnList||[]).map(e=>({id:e.columnId,name:e.columnName}));return ee.value.formConfig.form.formType===_.SysOnlineFormType.WORK_ORDER&&e.unshift({id:"workOrderId",name:"workOrderId"},{id:"workOrderCode",name:"workOrderCode"}),e}),ne=(0,b.EW)(()=>$.value.filter(e=>e.groupId===J.value)),pe=(0,b.EW)(()=>x.value.type===_.SysCustomWidgetOperationType.ADD||x.value.type===_.SysCustomWidgetOperationType.EDIT||x.value.type===_.SysCustomWidgetOperationType.FORM||x.value.type===_.SysCustomWidgetOperationType.COPY||x.value.type===_.SysCustomWidgetOperationType.UPDATE_DIALOG),me=(0,b.EW)(()=>{if(null==K.value)return{};let e=ee.value.formConfig.getMasterTable.columnList.find(e=>e.columnName===K.value.updateColumnName);return e||{}}),se=(0,b.EW)(()=>ee.value.formConfig.currentWidget),ye=(0,b.EW)(()=>{let e=ee.value.tableList[0];return null!=e?e.columnList:[]}),ve=(0,b.EW)(()=>ee.value.formConfig.form.formType===_.SysOnlineFormType.QUERY||ee.value.formConfig.form.formType===_.SysOnlineFormType.ADVANCE_QUERY||ee.value.formConfig.form.formType===_.SysOnlineFormType.GROUP_QUERY),be=()=>{Array.isArray(H.value)&&(x.value.processDefinitionKey=H.value[H.value.length-1])},fe=e=>{M.value=null==e?{id:void 0,variableType:0,variableName:void 0,valueType:"String",variableValue:void 0}:{...e},Q.value=!0},ge=(0,f.KR)(),Re=(0,f.KR)(),ce=e=>{x.value.taskVariableList=x.value.taskVariableList.filter(l=>l.id!==e.id)},Te=()=>{ge.value.validate(e=>{if(e){if(null==M.value.id)M.value.id=(new Date).getTime(),x.value.taskVariableList.push({...M.value});else{let e=x.value.taskVariableList.findIndex(e=>e.id===M.value.id);x.value.taskVariableList.splice(e,1,{...M.value})}Ce()}})},Ce=()=>{ge.value.clearValidate(),M.value={id:void 0,variableType:0,variableName:void 0,valueType:"String",variableValue:void 0},Re.value.hide(),Q.value=!1},ke=()=>{x.value.type===_.SysCustomWidgetOperationType.EXPORT||x.value.type===_.SysCustomWidgetOperationType.IMPORT?x.value.exportColumnList=(B.value||[]).map(e=>e&&e.isColumn?{tableId:e.table.tableId,columnId:e.aggregationColumn?void 0:e.columnId,virtualColumnId:e.aggregationColumnId,showName:e.showName,showOrder:e.showOrder,duplicateCheckColumn:e.duplicateCheckColumn}:void 0).filter(e=>null!=e):x.value.exportColumnList=[],a.dialog?a.dialog.cancel():U(!1)},Oe=()=>{A.value.validate(e=>{e&&(!pe.value||x.value.formId?(x.value.type===_.SysCustomWidgetOperationType.EXPORT||x.value.type===_.SysCustomWidgetOperationType.IMPORT?x.value.exportColumnList=(B.value||[]).map(e=>e&&e.isColumn?{tableId:e.table.tableId,columnId:e.aggregationColumn?void 0:e.columnId,virtualColumnId:e.aggregationColumnId,showName:e.showName,showOrder:e.showOrder,duplicateCheckColumn:e.duplicateCheckColumn}:void 0).filter(e=>null!=e):x.value.exportColumnList=[],a.dialog?a.dialog.submit(x.value):U(!0,ee.value.rowData,x.value)):C.nk.error("请选择操作按钮触发表单"))})},_e=()=>{x.value.rowOperation=x.value.type!==_.SysCustomWidgetOperationType.INLINE_ADD,x.value.readOnly=!1,x.value.formId=void 0,x.value.printTemplateId="",x.value.printTemplateType=void 0,x.value.btnType=x.value.type!==_.SysCustomWidgetOperationType.INLINE_ADD?void 0:"primary",x.value.eventList=[]},Ve=()=>{B.value=X.value.getCheckboxRecords(!0)},he=e=>!!Array.isArray(B.value)&&-1!==B.value.indexOf(e),We=({row:e})=>e.isColumn,Fe=()=>{Y.value=[];let e=[];if(Array.isArray(ee.value.tableList)){let l=ee.value.tableList;x.value.type===_.SysCustomWidgetOperationType.IMPORT&&l.length>0&&(l=[l[0]]),Y.value=l.map(l=>({variableName:l.tableName,id:l.tableId,isTable:!0,relationType:l.relationType,children:(l.columnList||[]).map(a=>{let t=(0,h.PH)(x.value.exportColumnList,a.aggregationColumnId,"virtualColumnId");null==t&&(t=(0,h.PH)(x.value.exportColumnList,a.columnId,"columnId"));let u={...a,id:a.aggregationColumnId||a.columnId,table:l,variableName:a.columnName,showName:(t||{}).showName||a.columnComment,showOrder:(t||{}).showOrder||0,duplicateCheckColumn:(t||{}).duplicateCheckColumn||!1,isColumn:!0};return null!=t&&e.push(u),u})}))}return e},Ie=()=>{F.Dy.listAll({}).then(e=>{let l=e.data.flowCategoryList,a=e.data.flowEntryList;j.value=l.map(e=>({id:e.categoryId,name:e.name,children:a.filter(l=>l.categoryId===e.categoryId).map(e=>({id:e.processDefinitionKey,name:e.processDefinitionName}))})),x.value.processDefinitionKey&&(H.value=(0,h.Zi)(j.value,x.value.processDefinitionKey,"id"))}).catch(e=>{console.error(e)})},Se=(0,b.EW)(()=>(0,h.PH)($.value,x.value.printTemplateId,"id")),Ee=()=>{W.NZ.getPrintTemplate({}).then(e=>{Z.value=e.data.allPrintGroupList.map(e=>({id:e.groupId,name:e.groupName})),$.value=e.data.allPrintList.map(e=>{let l=e.printJson?JSON.parse(e.printJson):{},a=l.templateType||0;return{id:e.printId,groupId:e.groupId,name:e.printName,templateType:a,paramList:e.paramJson?JSON.parse(e.paramJson):[]}}),J.value=(Se.value||{}).groupId,Le(!0)}).catch(e=>{console.warn(e)})},Le=(e=!1)=>{x.value.printParamList=[],x.value.printTemplateType=(Se.value||{}).templateType,x.value.printTemplateType===V.PrintTemplateType.HIPRINT&&(x.value.rowOperation=!0),null!=Se.value&&Array.isArray(Se.value.paramList)&&(x.value.printParamList=Se.value.paramList.map(l=>{if(e&&null!=ee.value.rowData){let e=(ee.value.rowData.printParamList||[]).find(e=>e.paramName===l.variableName);return{paramName:l.variableName,paramValue:(e||{}).paramValue}}return{paramName:l.variableName,paramValue:void 0}}))},we=(0,f.KR)(),Ne=()=>{K.value={updateColumnName:void 0,updateValue:void 0,isEdit:!1}},De=()=>{K.value={updateColumnName:void 0,updateValue:void 0,isEdit:void 0},we.value&&we.value.clearValidate()},Pe=()=>{we.value.validate(e=>{if(!e)return;const l=x.value.updateColumnList.some(e=>e.updateColumnName===K.value.updateColumnName);l?x.value.updateColumnList=x.value.updateColumnList.map(e=>e.updateColumnName===K.value.updateColumnName?K.value:e):(K.value.isEdit=!0,x.value.updateColumnList.push({...K.value})),we.value.clearValidate(),De()})},Ue=e=>{x.value.updateColumnList=x.value.updateColumnList.filter(l=>l.updateColumnName!==e.updateColumnName)},Xe=()=>{K.value.updateValue=void 0,we.value&&we.value.clearValidate()};return(0,b.sV)(()=>{if(B.value=[],null!=ee.value.rowData)x.value={...x.value,...ee.value.rowData},x.value.type!==_.SysCustomWidgetOperationType.EXPORT&&x.value.type!==_.SysCustomWidgetOperationType.IMPORT||(B.value=Fe(),setTimeout(()=>{X.value.setCheckboxRow(B.value,!0)},100)),x.value.type===_.SysCustomWidgetOperationType.SELECT_DIALOG&&ie.onVisibleChange(!0);else switch(ee.value.formConfig.form.formType){case _.SysOnlineFormType.FORM:case _.SysOnlineFormType.WORK_ORDER:x.value.type=_.SysCustomWidgetOperationType.PRINT,x.value.rowOperation=ee.value.formConfig.form.formType===_.SysOnlineFormType.WORK_ORDER;break;default:x.value.type=_.SysCustomWidgetOperationType.FORM;break}if(null==x.value.btnIcon||""===x.value.btnIcon)switch(x.value.type){case _.SysCustomWidgetOperationType.ADD:case _.SysCustomWidgetOperationType.INLINE_ADD:x.value.btnIcon="Plus";break;case _.SysCustomWidgetOperationType.DELETE:x.value.btnIcon="Delete";break;case _.SysCustomWidgetOperationType.DOWNLOAD:x.value.btnIcon="Download";break;case _.SysCustomWidgetOperationType.IMPORT:x.value.btnIcon="Upload";break}Ee(),Ie()}),(e,a)=>{const C=v.P9,h=v.AV,W=u.xE,F=y.uD,I=s.WK,S=m.qi,E=p._m,P=n.u,U=r.lq,B=d.MG,$=i.S2,ue=o.S2,oe=u.US,se=t.Vc;return(0,b.uX)(),(0,b.CE)("div",L,[(0,b.Lk)("div",w,[(0,b.bF)(oe,{ref_key:"form",ref:A,model:(0,f.R1)(x),class:"full-width-input",rules:z,style:{width:"100%"},"label-width":"100px",size:(0,f.R1)(D),"label-position":"right",onSubmit:a[38]||(a[38]=(0,g.D$)(()=>{},["prevent"]))},{default:(0,b.k6)(()=>[(0,b.bF)(ue,null,{default:(0,b.k6)(()=>[(0,b.bF)(F,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"操作类型",prop:"type"},{default:(0,b.k6)(()=>[(0,b.bF)(h,{modelValue:(0,f.R1)(x).type,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,f.R1)(x).type=e),disabled:(0,f.R1)(x).builtin||(0,f.R1)(le),onChange:_e},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,f.R1)(de),e=>((0,b.uX)(),(0,b.Wv)(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),(0,b.bF)(F,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"操作名称",prop:"name"},{default:(0,b.k6)(()=>[(0,b.bF)(I,{class:"input-item",modelValue:(0,f.R1)(x).name,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,f.R1)(x).name=e),clearable:!0,placeholder:"操作按钮名称"},null,8,["modelValue"])]),_:1})]),_:1}),(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).PRINT||(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).UPDATE||(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).UPDATE_DIALOG||(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).SCRIPT||(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).SELECT_DIALOG?((0,b.uX)(),(0,b.Wv)(F,{key:0,span:12},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"表格行操作",prop:"rowOperation"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{modelValue:(0,f.R1)(x).rowOperation,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,f.R1)(x).rowOperation=e),disabled:(0,f.R1)(ee).formConfig.form.formType===(0,f.R1)(_.SysOnlineFormType).FORM&&(0,f.R1)(x).printTemplateType!==(0,f.R1)(V.PrintTemplateType).SCRIPT||(0,f.R1)(ee).formConfig.form.formType===(0,f.R1)(_.SysOnlineFormType).WORK_ORDER||(0,f.R1)(x).printTemplateType===(0,f.R1)(V.PrintTemplateType).HIPRINT},null,8,["modelValue","disabled"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,b.bF)(F,{span:12},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"是否启用"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{class:"input-item",modelValue:(0,f.R1)(x).enabled,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,f.R1)(x).enabled=e)},null,8,["modelValue"])]),_:1})]),_:1}),(0,f.R1)(x).rowOperation?(0,b.Q3)("",!0):((0,b.uX)(),(0,b.Wv)(F,{key:1,span:12},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"按钮类型",prop:"btnType"},{default:(0,b.k6)(()=>[(0,b.bF)(h,{modelValue:(0,f.R1)(x).btnType,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,f.R1)(x).btnType=e),clearable:""},{default:(0,b.k6)(()=>[(0,b.bF)(C,{label:"primary",value:"primary"}),(0,b.bF)(C,{label:"success",value:"success"}),(0,b.bF)(C,{label:"warning",value:"warning"}),(0,b.bF)(C,{label:"danger",value:"danger"})]),_:1},8,["modelValue"])]),_:1})]),_:1})),(0,f.R1)(x).rowOperation?(0,b.Q3)("",!0):((0,b.uX)(),(0,b.Wv)(F,{key:2,span:12},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"镂空模式",prop:"btnType"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{modelValue:(0,f.R1)(x).plain,"onUpdate:modelValue":a[5]||(a[5]=e=>(0,f.R1)(x).plain=e)},null,8,["modelValue"])]),_:1})]),_:1})),(0,f.R1)(x).rowOperation?(0,b.Q3)("",!0):((0,b.uX)(),(0,b.Wv)(F,{key:3,span:12},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"按钮图标",prop:"btnIcon"},{default:(0,b.k6)(()=>[(0,b.bF)(k.A,{value:(0,f.R1)(x).btnIcon,"onUpdate:value":a[6]||(a[6]=e=>(0,f.R1)(x).btnIcon=e),height:28},null,8,["value"])]),_:1})]),_:1})),(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).IMPORT?((0,b.uX)(),(0,b.Wv)(F,{key:4,span:12},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"跳过标题行"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{modelValue:(0,f.R1)(x).skipHeader,"onUpdate:modelValue":a[7]||(a[7]=e=>(0,f.R1)(x).skipHeader=e)},null,8,["modelValue"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,f.R1)(x).rowOperation?((0,b.uX)(),(0,b.Wv)(F,{key:5,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"按钮类名"},{default:(0,b.k6)(()=>[(0,b.bF)(I,{class:"input-item",modelValue:(0,f.R1)(x).btnClass,"onUpdate:modelValue":a[8]||(a[8]=e=>(0,f.R1)(x).btnClass=e),clearable:!0,placeholder:"操作按钮类名"},null,8,["modelValue"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,f.R1)(x).type!==(0,f.R1)(_.SysCustomWidgetOperationType).START_FLOW&&(0,f.R1)(x).type!==(0,f.R1)(_.SysCustomWidgetOperationType).ADD&&(0,f.R1)(x).type!==(0,f.R1)(_.SysCustomWidgetOperationType).EDIT||!(0,f.R1)(ve)?(0,b.Q3)("",!0):((0,b.uX)(),(0,b.Wv)(F,{key:6,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"启动流程",prop:(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).START_FLOW?"processDefinitionKey":""},{default:(0,b.k6)(()=>[(0,b.bF)(E,{class:"input-item",modelValue:(0,f.R1)(H),"onUpdate:modelValue":a[9]||(a[9]=e=>(0,f.i9)(H)?H.value=e:null),options:(0,f.R1)(j),props:{value:"id",label:"name"},placeholder:"请选择启动流程",clearable:"",onChange:be},null,8,["modelValue","options"])]),_:1},8,["prop"])]),_:1})),(0,f.R1)(x).type!==(0,f.R1)(_.SysCustomWidgetOperationType).START_FLOW&&(0,f.R1)(x).type!==(0,f.R1)(_.SysCustomWidgetOperationType).ADD&&(0,f.R1)(x).type!==(0,f.R1)(_.SysCustomWidgetOperationType).EDIT||!(0,f.R1)(ve)?(0,b.Q3)("",!0):((0,b.uX)(),(0,b.Wv)(F,{key:7,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"流程变量"},{default:(0,b.k6)(()=>[(0,b.Lk)("div",N,[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,f.R1)(x).taskVariableList,e=>((0,b.uX)(),(0,b.Wv)(P,{class:"variable-item",key:e.variableName,size:"large",closable:"",onClose:l=>ce(e)},{default:(0,b.k6)(()=>[(0,b.eW)((0,R.v_)(e.variableName),1)]),_:2},1032,["onClose"]))),128)),(0,b.bF)(se,{ref_key:"variablePoper",ref:Re,trigger:"click",width:"500",placement:"bottom-start",visible:(0,f.R1)(Q)},{reference:(0,b.k6)(()=>[(0,b.bF)($,{class:"variable-item",onClick:a[17]||(a[17]=e=>fe())},{default:(0,b.k6)(()=>a[42]||(a[42]=[(0,b.eW)(" 添加 ")])),_:1,__:[42]})]),default:(0,b.k6)(()=>[(0,b.bF)(oe,{ref_key:"addVariableForm",ref:ge,rules:q,model:(0,f.R1)(M),"label-width":"100px","label-position":"top",size:(0,f.R1)(D)},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"变量类型",prop:"variableType"},{default:(0,b.k6)(()=>[(0,b.bF)(h,{modelValue:(0,f.R1)(M).variableType,"onUpdate:modelValue":a[10]||(a[10]=e=>(0,f.R1)(M).variableType=e),placeholder:"变量类型",style:{width:"100%"}},{default:(0,b.k6)(()=>[(0,b.bF)(C,{label:"固定值",value:0}),(0,b.bF)(C,{label:"字段值",value:1})]),_:1},8,["modelValue"])]),_:1}),(0,b.bF)(W,{label:"变量名称",prop:"variableName"},{default:(0,b.k6)(()=>[(0,b.bF)(I,{modelValue:(0,f.R1)(M).variableName,"onUpdate:modelValue":a[11]||(a[11]=e=>(0,f.R1)(M).variableName=e),style:{width:"100%"},placeholder:"变量名称"},null,8,["modelValue"])]),_:1}),0===(0,f.R1)(M).variableType?((0,b.uX)(),(0,b.Wv)(W,{key:0,label:"变量值类型",prop:"valueType"},{default:(0,b.k6)(()=>[(0,b.bF)(h,{modelValue:(0,f.R1)(M).valueType,"onUpdate:modelValue":a[12]||(a[12]=e=>(0,f.R1)(M).valueType=e),style:{width:"100%"},placeholder:"变量值类型"},{default:(0,b.k6)(()=>[(0,b.bF)(C,{label:"字符串",value:"String"}),(0,b.bF)(C,{label:"数值型",value:"Number"}),(0,b.bF)(C,{label:"日期类型",value:"Date"})]),_:1},8,["modelValue"])]),_:1})):(0,b.Q3)("",!0),(0,b.bF)(W,{label:"变量值",prop:"variableValue"},{default:(0,b.k6)(()=>[0===(0,f.R1)(M).variableType?((0,b.uX)(),(0,b.CE)(b.FK,{key:0},["String"===(0,f.R1)(M).valueType?((0,b.uX)(),(0,b.Wv)(I,{key:0,style:{width:"100%"},modelValue:(0,f.R1)(M).variableValue,"onUpdate:modelValue":a[13]||(a[13]=e=>(0,f.R1)(M).variableValue=e),placeholder:"变量值"},null,8,["modelValue"])):"Number"===(0,f.R1)(M).valueType?((0,b.uX)(),(0,b.Wv)(U,{key:1,style:{width:"100%"},modelValue:(0,f.R1)(M).variableValue,"onUpdate:modelValue":a[14]||(a[14]=e=>(0,f.R1)(M).variableValue=e),placeholder:"变量值"},null,8,["modelValue"])):"Date"===(0,f.R1)(M).valueType?((0,b.uX)(),(0,b.Wv)(B,{key:2,style:{width:"100%"},modelValue:(0,f.R1)(M).variableValue,"onUpdate:modelValue":a[15]||(a[15]=e=>(0,f.R1)(M).variableValue=e),type:"datetime",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},null,8,["modelValue"])):(0,b.Q3)("",!0)],64)):((0,b.uX)(),(0,b.Wv)(h,{key:1,modelValue:(0,f.R1)(M).variableValue,"onUpdate:modelValue":a[16]||(a[16]=e=>(0,f.R1)(M).variableValue=e),placeholder:"选择字段",style:{width:"100%"},clearable:"",filterable:""},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,f.R1)(ye),e=>((0,b.uX)(),(0,b.Wv)(C,{key:e.columnId,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))]),_:1}),(0,b.bF)(ue,{type:"flex",justify:"end",align:"middle"},{default:(0,b.k6)(()=>[(0,b.bF)($,{type:"default",onClick:Ce},{default:(0,b.k6)(()=>a[40]||(a[40]=[(0,b.eW)(" 取消 ")])),_:1,__:[40]}),(0,b.bF)($,{type:"primary",onClick:Te},{default:(0,b.k6)(()=>a[41]||(a[41]=[(0,b.eW)(" 确定 ")])),_:1,__:[41]})]),_:1})]),_:1},8,["model","size"])]),_:1},8,["visible"])])]),_:1})]),_:1})),(0,b.bF)(F,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"显示顺序"},{default:(0,b.k6)(()=>[(0,b.bF)(U,{class:"input-item",modelValue:(0,f.R1)(x).showOrder,"onUpdate:modelValue":a[18]||(a[18]=e=>(0,f.R1)(x).showOrder=e),"controls-position":"right",placeholder:"按钮显示顺序"},null,8,["modelValue"])]),_:1})]),_:1}),(0,f.R1)(pe)?((0,b.uX)(),(0,b.Wv)(F,{key:8,span:(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).FORM?16:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"操作表单",prop:"formId"},{default:(0,b.k6)(()=>[(0,b.bF)(h,{class:"input-item",modelValue:(0,f.R1)(x).formId,"onUpdate:modelValue":a[19]||(a[19]=e=>(0,f.R1)(x).formId=e),placeholder:"选择操作按钮触发表单",clearable:""},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,f.R1)(te),e=>((0,b.uX)(),(0,b.Wv)(C,{key:e.formId,label:e.formName,value:e.formId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["span"])):(0,b.Q3)("",!0),(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).FORM?((0,b.uX)(),(0,b.Wv)(F,{key:9,span:8},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"只读表单"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{modelValue:(0,f.R1)(x).readOnly,"onUpdate:modelValue":a[20]||(a[20]=e=>(0,f.R1)(x).readOnly=e)},null,8,["modelValue"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).SELECT_DIALOG?((0,b.uX)(),(0,b.Wv)(F,{key:10,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"关联表单",prop:"selectFormId"},{default:(0,b.k6)(()=>[(0,b.bF)(h,{class:"input-item",modelValue:(0,f.R1)(x).selectFormId,"onUpdate:modelValue":a[21]||(a[21]=e=>(0,f.R1)(x).selectFormId=e),placeholder:"选择弹窗关联表单",clearable:"",filterable:"",loading:(0,f.R1)(ie).loading,onVisibleChange:(0,f.R1)(ie).onVisibleChange},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,f.R1)(ie).dropdownList,e=>((0,b.uX)(),(0,b.Wv)(C,{key:e.formId,label:e.formName,value:e.formId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","onVisibleChange"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).SELECT_DIALOG?((0,b.uX)(),(0,b.Wv)(F,{key:11,span:6},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"是否多选",prop:"multiSelect"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{modelValue:(0,f.R1)(x).multiSelect,"onUpdate:modelValue":a[22]||(a[22]=e=>(0,f.R1)(x).multiSelect=e)},null,8,["modelValue"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).SELECT_DIALOG?((0,b.uX)(),(0,b.Wv)(F,{key:12,span:9},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"弹窗宽度",prop:"dialogWidth"},{default:(0,b.k6)(()=>[(0,b.bF)(U,{modelValue:(0,f.R1)(x).dialogWidth,"onUpdate:modelValue":a[23]||(a[23]=e=>(0,f.R1)(x).dialogWidth=e),"controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).SELECT_DIALOG?((0,b.uX)(),(0,b.Wv)(F,{key:13,span:9},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"弹窗高度",prop:"dialogHeight"},{default:(0,b.k6)(()=>[(0,b.bF)(U,{modelValue:(0,f.R1)(x).dialogHeight,"onUpdate:modelValue":a[24]||(a[24]=e=>(0,f.R1)(x).dialogHeight=e),"controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).PRINT?((0,b.uX)(),(0,b.Wv)(F,{key:14,span:12},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"打印模版分组",placeholder:"请选择打印模版分组"},{default:(0,b.k6)(()=>[(0,b.bF)(h,{modelValue:(0,f.R1)(J),"onUpdate:modelValue":a[25]||(a[25]=e=>(0,f.i9)(J)?J.value=e:null),placeholder:"",clearable:"",onChange:a[26]||(a[26]=e=>(0,f.R1)(x).printTemplateId=void 0)},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,f.R1)(Z),e=>((0,b.uX)(),(0,b.Wv)(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).PRINT?((0,b.uX)(),(0,b.Wv)(F,{key:15,span:12},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"打印模版",prop:"printTemplateId",placeholder:"请选择打印模版"},{default:(0,b.k6)(()=>[(0,b.bF)(h,{modelValue:(0,f.R1)(x).printTemplateId,"onUpdate:modelValue":a[27]||(a[27]=e=>(0,f.R1)(x).printTemplateId=e),placeholder:"",clearable:"",onChange:Le},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,f.R1)(ne),e=>((0,b.uX)(),(0,b.Wv)(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).UPDATE?((0,b.uX)(),(0,b.Wv)(F,{key:16,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"更新字段",style:{"margin-bottom":"20px"}},{default:(0,b.k6)(()=>[(0,b.bF)(ue,{type:"flex"},{default:(0,b.k6)(()=>[(0,b.bF)(oe,{ref_key:"formUpdateColumn",ref:we,model:(0,f.R1)(K),rules:G,"label-position":"left","label-width":"80px"},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,f.R1)(x).updateColumnList,e=>((0,b.uX)(),(0,b.Wv)(se,{width:"325px",trigger:"click",key:e.updateColumnName,visible:(0,f.R1)(K)&&(0,f.R1)(K).updateColumnName===e.updateColumnName&&!0===(0,f.R1)(K).isEdit},{reference:(0,b.k6)(()=>[(0,b.bF)(P,{class:"update-column-item",size:"default",type:"info",closable:"",onClick:l=>K.value={...e},onClose:l=>Ue(e)},{default:(0,b.k6)(()=>[(0,b.eW)((0,R.v_)(e.updateColumnName),1)]),_:2},1032,["onClick","onClose"])]),default:(0,b.k6)(()=>[(0,b.bF)(ue,{style:{width:"300px"}},{default:(0,b.k6)(()=>[(0,b.bF)(F,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"更新字段",prop:"updateColumnName"},{default:(0,b.k6)(()=>[(0,b.bF)(h,{modelValue:(0,f.R1)(K).updateColumnName,"onUpdate:modelValue":a[28]||(a[28]=e=>(0,f.R1)(K).updateColumnName=e),placeholder:"请选择更新字段",style:{width:"100%"},disabled:(0,f.R1)(K).isEdit,clearable:"",onChange:Xe},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,f.R1)(ee).formConfig.getMasterTable.columnList,e=>((0,b.uX)(),(0,b.Wv)(C,{key:e.columnId,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),(0,b.bF)(F,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"新字段值",prop:"updateValue"},{default:(0,b.k6)(()=>["Boolean"===(0,f.R1)(me).objectFieldType?((0,b.uX)(),(0,b.Wv)(S,{key:0,modelValue:(0,f.R1)(K).updateValue,"onUpdate:modelValue":a[29]||(a[29]=e=>(0,f.R1)(K).updateValue=e)},null,8,["modelValue"])):-1!==["Integer","Long","BigDecimal","Double"].indexOf((0,f.R1)(me).objectFieldType)?((0,b.uX)(),(0,b.Wv)(U,{key:1,modelValue:(0,f.R1)(K).updateValue,"onUpdate:modelValue":a[30]||(a[30]=e=>(0,f.R1)(K).updateValue=e),placeholder:"请输入更新字段值",style:{width:"100%"},clearable:""},null,8,["modelValue"])):"Date"===(0,f.R1)(me).objectFieldType?((0,b.uX)(),(0,b.Wv)(B,{key:2,modelValue:(0,f.R1)(K).updateValue,"onUpdate:modelValue":a[31]||(a[31]=e=>(0,f.R1)(K).updateValue=e),type:"datetime",placeholder:"选择日期",style:{width:"100%"},clearable:""},null,8,["modelValue"])):((0,b.uX)(),(0,b.Wv)(I,{key:3,modelValue:(0,f.R1)(K).updateValue,"onUpdate:modelValue":a[32]||(a[32]=e=>(0,f.R1)(K).updateValue=e),placeholder:"请输入更新字段值",style:{width:"100%"},clearable:""},null,8,["modelValue"]))]),_:1})]),_:1}),(0,b.bF)(F,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(ue,{type:"flex",justify:"end"},{default:(0,b.k6)(()=>[(0,b.bF)($,{size:(0,f.R1)(l).defaultFormItemSize,type:"default",onClick:De},{default:(0,b.k6)(()=>a[43]||(a[43]=[(0,b.eW)("取消")])),_:1,__:[43]},8,["size"]),(0,b.bF)($,{size:(0,f.R1)(l).defaultFormItemSize,type:"primary",onClick:Pe},{default:(0,b.k6)(()=>a[44]||(a[44]=[(0,b.eW)("保存")])),_:1,__:[44]},8,["size"])]),_:1})]),_:1})]),_:1})]),_:2},1032,["visible"]))),128)),(0,b.bF)(se,{width:"325px",visible:(0,f.R1)(K)&&!1===(0,f.R1)(K).isEdit,trigger:"click"},{reference:(0,b.k6)(()=>[(0,b.bF)($,{class:"update-column-item",size:"small",type:"default",plain:"",onClick:Ne},{default:(0,b.k6)(()=>a[45]||(a[45]=[(0,b.eW)(" 添加字段 ")])),_:1,__:[45]})]),default:(0,b.k6)(()=>[(0,b.bF)(ue,{style:{width:"300px"}},{default:(0,b.k6)(()=>[(0,b.bF)(F,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"更新字段",prop:"updateColumnName"},{default:(0,b.k6)(()=>[(0,b.bF)(h,{modelValue:(0,f.R1)(K).updateColumnName,"onUpdate:modelValue":a[33]||(a[33]=e=>(0,f.R1)(K).updateColumnName=e),placeholder:"请选择更新字段",style:{width:"100%"},clearable:"",onChange:Xe},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,f.R1)(ee).formConfig.getMasterTable.columnList,e=>((0,b.uX)(),(0,b.Wv)(C,{key:e.columnId,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,b.bF)(F,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(W,{label:"新字段值",prop:"updateValue"},{default:(0,b.k6)(()=>["Boolean"===(0,f.R1)(me).objectFieldType?((0,b.uX)(),(0,b.Wv)(S,{key:0,modelValue:(0,f.R1)(K).updateValue,"onUpdate:modelValue":a[34]||(a[34]=e=>(0,f.R1)(K).updateValue=e)},null,8,["modelValue"])):-1!==["Integer","Long","BigDecimal","Double"].indexOf((0,f.R1)(me).objectFieldType)?((0,b.uX)(),(0,b.Wv)(U,{key:1,modelValue:(0,f.R1)(K).updateValue,"onUpdate:modelValue":a[35]||(a[35]=e=>(0,f.R1)(K).updateValue=e),placeholder:"请输入更新字段值",style:{width:"100%"},clearable:""},null,8,["modelValue"])):"Date"===(0,f.R1)(me).objectFieldType?((0,b.uX)(),(0,b.Wv)(B,{key:2,modelValue:(0,f.R1)(K).updateValue,"onUpdate:modelValue":a[36]||(a[36]=e=>(0,f.R1)(K).updateValue=e),type:"datetime",placeholder:"选择日期",style:{width:"100%"},clearable:""},null,8,["modelValue"])):((0,b.uX)(),(0,b.Wv)(I,{key:3,modelValue:(0,f.R1)(K).updateValue,"onUpdate:modelValue":a[37]||(a[37]=e=>(0,f.R1)(K).updateValue=e),placeholder:"请输入更新字段值",style:{width:"100%"},clearable:""},null,8,["modelValue"]))]),_:1})]),_:1}),(0,b.bF)(F,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(ue,{type:"flex",justify:"end"},{default:(0,b.k6)(()=>[(0,b.bF)($,{size:(0,f.R1)(l).defaultFormItemSize,type:"default",onClick:De},{default:(0,b.k6)(()=>a[46]||(a[46]=[(0,b.eW)("取消")])),_:1,__:[46]},8,["size"]),(0,b.bF)($,{size:(0,f.R1)(l).defaultFormItemSize,type:"primary",onClick:Pe},{default:(0,b.k6)(()=>a[47]||(a[47]=[(0,b.eW)("保存")])),_:1,__:[47]},8,["size"])]),_:1})]),_:1})]),_:1})]),_:1},8,["visible"])]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})):(0,b.Q3)("",!0)]),_:1})]),_:1},8,["model","size"]),(0,f.R1)(ae).length>0?((0,b.uX)(),(0,b.Wv)(O.A,{key:0,label:"操作脚本",value:(0,f.R1)(x).eventList,"onUpdate:value":a[39]||(a[39]=e=>(0,f.R1)(x).eventList=e),formConfig:(0,f.R1)(ee).formConfig,labelPosition:"right",labelWidth:"100px",allowEventList:(0,f.R1)(ae)},null,8,["value","formConfig","allowEventList"])):(0,b.Q3)("",!0),(0,b.bo)((0,b.bF)(F,{span:24,style:{"margin-bottom":"20px"}},{default:(0,b.k6)(()=>[(0,b.bF)((0,f.R1)(T.CP),{data:(0,f.R1)(Y),ref_key:"exportColumnTable",ref:X,border:"","show-overflow":"title","show-header-overflow":"title","row-config":{height:35,isHover:!0},"tree-config":{transform:!1,rowField:"id",parentField:"parentId",expandAll:!0},"checkbox-config":{checkMethod:We},height:"350px",onCheckboxAll:Ve,onCheckboxChange:Ve},{empty:(0,b.k6)(()=>a[50]||(a[50]=[(0,b.Lk)("div",{class:"table-empty unified-font"},[(0,b.Lk)("img",{src:c}),(0,b.Lk)("span",null,"暂无数据")],-1)])),default:(0,b.k6)(()=>[(0,b.bF)((0,f.R1)(T.Wq),{type:"checkbox",width:"60"}),(0,b.bF)((0,f.R1)(T.Wq),{title:(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).EXPORT?"导出字段":"导入字段",field:"variableName","tree-node":""},{default:(0,b.k6)(({row:e})=>[(0,b.Lk)("span",null,(0,R.v_)(e.variableName),1),e.aggregationColumnId?((0,b.uX)(),(0,b.Wv)(P,{key:0,style:{"margin-left":"10px"},size:"default",type:"danger"},{default:(0,b.k6)(()=>a[48]||(a[48]=[(0,b.eW)("聚合字段")])),_:1,__:[48]})):(0,b.Q3)("",!0),e.isTable&&null!=e.relationType?((0,b.uX)(),(0,b.Wv)(P,{key:1,style:{"margin-left":"10px"},size:"default",type:"success"},{default:(0,b.k6)(()=>a[49]||(a[49]=[(0,b.eW)("一对一关联")])),_:1,__:[49]})):(0,b.Q3)("",!0)]),_:1},8,["title"]),(0,b.bF)((0,f.R1)(T.Wq),{title:"显示名称",field:"showName"},{default:(0,b.k6)(({row:e})=>[e.isColumn?((0,b.uX)(),(0,b.Wv)(I,{key:0,size:"default",disabled:!he(e)||(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).IMPORT,modelValue:e.showName,"onUpdate:modelValue":l=>e.showName=l},null,8,["disabled","modelValue","onUpdate:modelValue"])):(0,b.Q3)("",!0)]),_:1}),(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).IMPORT?((0,b.uX)(),(0,b.Wv)((0,f.R1)(T.Wq),{key:0,title:"重复校验字段",field:"duplicateCheckColumn"},{default:(0,b.k6)(({row:e})=>[e.isColumn?((0,b.uX)(),(0,b.Wv)(S,{key:0,modelValue:e.duplicateCheckColumn,"onUpdate:modelValue":l=>e.duplicateCheckColumn=l,disabled:!he(e)},null,8,["modelValue","onUpdate:modelValue","disabled"])):(0,b.Q3)("",!0)]),_:1})):(0,b.Q3)("",!0),(0,b.bF)((0,f.R1)(T.Wq),{title:"显示顺序",field:"showOrder"},{default:(0,b.k6)(({row:e})=>[e.isColumn?((0,b.uX)(),(0,b.Wv)(U,{key:0,size:"default",disabled:!he(e),modelValue:e.showOrder,"onUpdate:modelValue":l=>e.showOrder=l,"controls-position":"right"},null,8,["disabled","modelValue","onUpdate:modelValue"])):(0,b.Q3)("",!0)]),_:1})]),_:1},8,["data","checkbox-config"])]),_:1},512),[[g.aG,(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).EXPORT||(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).IMPORT]]),(0,b.bo)((0,b.bF)(F,{span:24,style:{"margin-bottom":"20px"}},{default:(0,b.k6)(()=>[(0,b.bF)((0,f.R1)(T.CP),{data:(0,f.R1)(x).printParamList,border:"","show-overflow":"title","show-header-overflow":"title","row-config":{height:35,isHover:!0},height:"250px"},{empty:(0,b.k6)(()=>a[51]||(a[51]=[(0,b.Lk)("div",{class:"table-empty unified-font"},[(0,b.Lk)("img",{src:c}),(0,b.Lk)("span",null,"暂无数据")],-1)])),default:(0,b.k6)(()=>[(0,b.bF)((0,f.R1)(T.Wq),{type:"seq",title:"序号",width:60}),(0,b.bF)((0,f.R1)(T.Wq),{title:"参数名称",field:"paramName"}),(0,b.bF)((0,f.R1)(T.Wq),{title:"参数值"},{default:(0,b.k6)(({row:e})=>[(0,b.bF)(h,{modelValue:e.paramValue,"onUpdate:modelValue":l=>e.paramValue=l,clearable:"",placeholder:"请选择参数值",size:"default"},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,f.R1)(re),e=>((0,b.uX)(),(0,b.Wv)(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])]),_:1},512),[[g.aG,(0,f.R1)(x).type===(0,f.R1)(_.SysCustomWidgetOperationType).PRINT]])]),(0,b.bF)(ue,{class:"no-scroll menu-box",type:"flex",justify:"end"},{default:(0,b.k6)(()=>[(0,b.bF)($,{size:(0,f.R1)(D),plain:!0,onClick:ke},{default:(0,b.k6)(()=>a[52]||(a[52]=[(0,b.eW)(" 取消 ")])),_:1,__:[52]},8,["size"]),(0,b.bF)($,{type:"primary",size:(0,f.R1)(D),onClick:Oe},{default:(0,b.k6)(()=>a[53]||(a[53]=[(0,b.eW)(" 保存 ")])),_:1,__:[53]},8,["size"])]),_:1})])}}}),P=a(71241);const U=(0,P.A)(D,[["__scopeId","data-v-8d661dc0"]]);var X=U},27385:function(e,l,a){a.d(l,{A:function(){return g}});var t=a(52920),u=(a(97042),a(95509),a(69080)),o=(a(25374),a(25136)),i=(a(69957),a(65451)),d=(a(63390),a(44114),a(56768)),r=a(24232),n=a(90144),p=a(57477),m=a(9009);const s={class:"icon-select-dropdown"},y=["onClick","title"];var v=(0,d.pM)({__name:"index",props:{value:{default:""},height:{default:45}},emits:["update:value"],setup(e,{emit:l}){const a=[];for(const[t]of Object.entries(p))a.push(t);const v=l,b=e,f=(0,n.KR)(!1),g=(0,n.KR)(1),R=(0,n.KR)(32),c=e=>{v("update:value",e),f.value=!1},T=()=>{v("update:value",""),f.value=!1},C=()=>{g.value=1;let e=a.indexOf(b.value);e>=0&&(g.value+=Math.floor(e/R.value))},k=(0,d.EW)(()=>a.length),O=(0,d.EW)(()=>{let e=(g.value-1)*R.value,l=e+R.value;return a.slice(e,l)});return(e,l)=>{const a=i.S2,n=o.S2,p=u.aQ,v=t.Vc;return(0,d.uX)(),(0,d.Wv)(v,{width:"510",visible:f.value,"onUpdate:visible":l[1]||(l[1]=e=>f.value=e),onShow:C,trigger:"click"},{reference:(0,d.k6)(()=>[(0,d.Lk)("div",{class:"icon-select-input",style:(0,r.Tr)({width:e.height+"px",height:e.height+"px","line-height":e.height+"px","font-size":.5*e.height+"px"})},[e.value?((0,d.uX)(),(0,d.Wv)(m.A,{key:0,icon:e.value},null,8,["icon"])):(0,d.Q3)("",!0)],4)]),default:(0,d.k6)(()=>[(0,d.Lk)("div",s,[(0,d.bF)(a,{type:"flex",style:{"flex-wrap":"wrap"}},{default:(0,d.k6)(()=>[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(O.value,l=>((0,d.uX)(),(0,d.CE)("div",{key:l,class:(0,r.C4)(["icon-item",{active:e.value===l}]),onClick:e=>c(l),title:l},[(0,d.bF)(m.A,{icon:l},null,8,["icon"])],10,y))),128))]),_:1}),(0,d.bF)(a,{type:"flex",justify:"space-between"},{default:(0,d.k6)(()=>[(0,d.bF)(n,{link:"",onClick:T,style:{"margin-left":"10px"}},{default:(0,d.k6)(()=>l[2]||(l[2]=[(0,d.eW)("清空")])),_:1,__:[2]}),(0,d.bF)(p,{"current-page":g.value,"onUpdate:currentPage":l[0]||(l[0]=e=>g.value=e),"page-size":R.value,layout:"prev, pager, next",total:k.value},null,8,["current-page","page-size","total"])]),_:1})])]),_:1},8,["visible"])}}}),b=a(71241);const f=(0,b.A)(v,[["__scopeId","data-v-634d1fcb"]]);var g=f}}]);