"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[1066,7497],{3740:function(e,a,t){t.d(a,{qi:function(){return w}});var i=t(56768),n=t(90144),l=t(24232),c=t(45130),o=t(91542),s=t(57477),r=t(93889),u=t(99077),v=t(44216),d=t(37207),f=t(93513),p=t(93558),k=t(92056),y=t(86894),h=t(12235);const g="ElSwitch",m=(0,i.pM)({name:g}),b=(0,i.pM)({...m,props:r.Z,emits:r.x,setup(e,{expose:a,emit:t}){const r=e,{formItem:u}=(0,v.j)(),m=(0,d.NV)(),b=(0,f.DU)("switch"),{inputId:R}=(0,v.W)(r,{formItemContext:u}),C=(0,d.CB)((0,i.EW)(()=>r.loading)),w=(0,n.KR)(!1!==r.modelValue),x=(0,n.KR)(),I=(0,n.KR)(),E=(0,i.EW)(()=>[b.b(),b.m(m.value),b.is("disabled",C.value),b.is("checked",X.value)]),V=(0,i.EW)(()=>[b.e("label"),b.em("label","left"),b.is("active",!X.value)]),W=(0,i.EW)(()=>[b.e("label"),b.em("label","right"),b.is("active",X.value)]),S=(0,i.EW)(()=>({width:(0,p._V)(r.width)}));(0,i.wB)(()=>r.modelValue,()=>{w.value=!0});const T=(0,i.EW)(()=>!!w.value&&r.modelValue),X=(0,i.EW)(()=>T.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(T.value)||(t(k.l4,r.inactiveValue),t(k.YU,r.inactiveValue),t(k.qs,r.inactiveValue)),(0,i.wB)(X,e=>{var a;x.value.checked=e,r.validateEvent&&(null==(a=null==u?void 0:u.validate)||a.call(u,"change").catch(e=>(0,y.U)(e)))});const _=()=>{const e=X.value?r.inactiveValue:r.activeValue;t(k.l4,e),t(k.YU,e),t(k.qs,e),(0,i.dY)(()=>{x.value.checked=X.value})},L=()=>{if(C.value)return;const{beforeChange:e}=r;if(!e)return void _();const a=e(),t=[(0,l.yL)(a),(0,h.Lm)(a)].includes(!0);t||(0,y.$)(g,"beforeChange must return type `Promise<boolean>` or `boolean`"),(0,l.yL)(a)?a.then(e=>{e&&_()}).catch(e=>{(0,y.U)(g,`some error occurred: ${e}`)}):a&&_()},P=()=>{var e,a;null==(a=null==(e=x.value)?void 0:e.focus)||a.call(e)};return(0,i.sV)(()=>{x.value.checked=X.value}),a({focus:P,checked:X}),(e,a)=>((0,i.uX)(),(0,i.CE)("div",{class:(0,l.C4)((0,n.R1)(E)),onClick:(0,c.D$)(L,["prevent"])},[(0,i.Lk)("input",{id:(0,n.R1)(R),ref_key:"input",ref:x,class:(0,l.C4)((0,n.R1)(b).e("input")),type:"checkbox",role:"switch","aria-checked":(0,n.R1)(X),"aria-disabled":(0,n.R1)(C),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:(0,n.R1)(C),tabindex:e.tabindex,onChange:_,onKeydown:(0,c.jR)(L,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,l.C4)((0,n.R1)(V))},[e.inactiveIcon?((0,i.uX)(),(0,i.Wv)((0,n.R1)(o.tk),{key:0},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.inactiveIcon)))]),_:1})):(0,i.Q3)("v-if",!0),!e.inactiveIcon&&e.inactiveText?((0,i.uX)(),(0,i.CE)("span",{key:1,"aria-hidden":(0,n.R1)(X)},(0,l.v_)(e.inactiveText),9,["aria-hidden"])):(0,i.Q3)("v-if",!0)],2)),(0,i.Lk)("span",{ref_key:"core",ref:I,class:(0,l.C4)((0,n.R1)(b).e("core")),style:(0,l.Tr)((0,n.R1)(S))},[e.inlinePrompt?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,l.C4)((0,n.R1)(b).e("inner"))},[e.activeIcon||e.inactiveIcon?((0,i.uX)(),(0,i.Wv)((0,n.R1)(o.tk),{key:0,class:(0,l.C4)((0,n.R1)(b).is("icon"))},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.Wv)((0,i.$y)((0,n.R1)(X)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?((0,i.uX)(),(0,i.CE)("span",{key:1,class:(0,l.C4)((0,n.R1)(b).is("text")),"aria-hidden":!(0,n.R1)(X)},(0,l.v_)((0,n.R1)(X)?e.activeText:e.inactiveText),11,["aria-hidden"])):(0,i.Q3)("v-if",!0)],2)):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",{class:(0,l.C4)((0,n.R1)(b).e("action"))},[e.loading?((0,i.uX)(),(0,i.Wv)((0,n.R1)(o.tk),{key:0,class:(0,l.C4)((0,n.R1)(b).is("loading"))},{default:(0,i.k6)(()=>[(0,i.bF)((0,n.R1)(s.Loading))]),_:1},8,["class"])):(0,n.R1)(X)?(0,i.RG)(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?((0,i.uX)(),(0,i.Wv)((0,n.R1)(o.tk),{key:0},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.activeActionIcon)))]),_:1})):(0,i.Q3)("v-if",!0)]):(0,n.R1)(X)?(0,i.Q3)("v-if",!0):(0,i.RG)(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?((0,i.uX)(),(0,i.Wv)((0,n.R1)(o.tk),{key:0},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.inactiveActionIcon)))]),_:1})):(0,i.Q3)("v-if",!0)])],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("span",{key:1,class:(0,l.C4)((0,n.R1)(W))},[e.activeIcon?((0,i.uX)(),(0,i.Wv)((0,n.R1)(o.tk),{key:0},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.activeIcon)))]),_:1})):(0,i.Q3)("v-if",!0),!e.activeIcon&&e.activeText?((0,i.uX)(),(0,i.CE)("span",{key:1,"aria-hidden":!(0,n.R1)(X)},(0,l.v_)(e.activeText),9,["aria-hidden"])):(0,i.Q3)("v-if",!0)],2))],10,["onClick"]))}});var R=(0,u.A)(b,[["__file","switch.vue"]]),C=t(25376);const w=(0,C.GU)(R)},42899:function(e,a,t){t(97042)},71066:function(e,a,t){t.d(a,{P:function(){return o},i:function(){return s}});var i=t(81387),n=t(27007),l=t(56768),c=t(90144);const o=e=>{console.log("接收到的第三方参数",e);const a=(0,c.KR)(0),t=(0,l.EW)(()=>{let a={};try{e.thirdParamsString&&(a=JSON.parse(e.thirdParamsString))}catch(t){console.log(t),a={}}return a});console.log("thirdParams",t);const i=(i,n,l)=>{console.log("onCloseThirdDialog",n,l),window.parent&&window.parent.postMessage({type:"closeDialog",data:{index:a.value,dialogKey:e.dialogKey,path:t.value.path,rowData:n?JSON.parse(JSON.stringify(n)):void 0,data:l?JSON.parse(JSON.stringify(l)):void 0,isSuccess:i}},"*")},o=(e,t)=>{switch(e){case"setToken":t.token&&(0,n.WG)(t.token);break;case"dialogIndex":a.value=t;break;case"refreshData":break;case"message":break}},s=e=>{o(e.data.type,e.data.data)};return(0,l.sV)(()=>{console.log("onMounted message"),window.addEventListener("message",s,!1)}),(0,l.hi)(()=>{console.log("onUnmounted message"),window.removeEventListener("message",s)}),{thirdParams:t,onCloseThirdDialog:i}},s=()=>{let e;const a=(0,i.lq)(),t=()=>{window.parent&&window.parent.postMessage({type:"refreshToken"},"*")};-1!==a.path.indexOf("/thirdParty/")&&((0,l.sV)(()=>{(0,n.R7)()&&(e=setInterval(()=>{console.log("refreshToken thirdParty"),t()},18e4))}),(0,l.hi)(()=>{e&&clearInterval(e)}))}},93889:function(e,a,t){t.d(a,{Z:function(){return u},x:function(){return v}});var i=t(3027),n=t(47378),l=t(20464),c=t(58501),o=t(92056),s=t(12235),r=t(24232);const u=(0,n.b_)({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:i.x},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:l.Ze},activeActionIcon:{type:l.Ze},activeIcon:{type:l.Ze},inactiveIcon:{type:l.Ze},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:(0,n.jq)(Function)},id:String,tabindex:{type:[String,Number]},...(0,c.l)(["ariaLabel"])}),v={[o.l4]:e=>(0,s.Lm)(e)||(0,r.Kg)(e)||(0,s.Et)(e),[o.YU]:e=>(0,s.Lm)(e)||(0,r.Kg)(e)||(0,s.Et)(e),[o.qs]:e=>(0,s.Lm)(e)||(0,r.Kg)(e)||(0,s.Et)(e)}}}]);