"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[9550],{3736:function(e,l,t){t.d(l,{A:function(){return i}});var a=t(55583),n=t(18384);class i extends a.w{static list(e,l){return super.post(n.x+"/online/onlineApiGroup/list",e,l)}static view(e,l){return super.get(n.x+"/online/onlineApiGroup/view",e,l)}static add(e,l){return super.post(n.x+"/online/onlineApiGroup/add",e,l)}static update(e,l){return super.post(n.x+"/online/onlineApiGroup/update",e,l)}static delete(e,l){return super.post(n.x+"/online/onlineApiGroup/delete",e,l)}static listAll(e={},l){return super.post(n.x+"/online/onlineApiGroup/listAll",e,l)}}},20709:function(e,l,t){t(97042)},36947:function(e,l,t){t.d(l,{aq:function(){return d},hp:function(){return r},PC:function(){return s},yu:function(){return i},S1:function(){return u},k$:function(){return v},NZ:function(){return m},Pr:function(){return o},Uz:function(){return p},jk:function(){return c}});var a=t(55583),n=t(18384);class i extends a.w{static list(e,l){return super.post(n.x+"/online/onlineDblink/list",e,l)}static listDblinkTables(e,l){return super.get(n.x+"/online/onlineDblink/listDblinkTables",e,l)}static listDblinkTableColumns(e,l){return super.get(n.x+"/online/onlineDblink/listDblinkTableColumns",e,l)}static view(e,l){return super.get(n.x+"/online/onlineDblink/view",e,l)}static add(e,l){return super.post(n.x+"/online/onlineDblink/add",e,l)}static update(e,l){return super.post(n.x+"/online/onlineDblink/update",e,l)}static delete(e,l){return super.post(n.x+"/online/onlineDblink/delete",e,l)}static testConnection(e,l){return super.get(n.x+"/online/onlineDblink/testConnection",e,l)}}class u extends a.w{static list(e,l){return super.post(n.x+"/online/onlineDict/list",e,l)}static view(e,l){return super.get(n.x+"/online/onlineDict/view",e,l)}static add(e,l){return super.post(n.x+"/online/onlineDict/add",e,l)}static update(e,l){return super.post(n.x+"/online/onlineDict/update",e,l)}static delete(e,l){return super.post(n.x+"/online/onlineDict/delete",e,l)}static listAllGlobalDict(e,l){return super.post(n.x+"/online/onlineDict/listAllGlobalDict",e,l)}}class o extends a.w{static list(e,l){return super.post(n.x+"/online/onlinePage/list",e,l)}static listAllPageAndForm(e,l){return super.post(n.x+"/online/onlinePage/listAllPageAndForm",e,l)}static view(e,l){return super.get(n.x+"/online/onlinePage/view",e,l)}static add(e,l){return super.post(n.x+"/online/onlinePage/add",e,l)}static update(e,l){return super.post(n.x+"/online/onlinePage/update",e,l)}static updatePublished(e,l){return super.post(n.x+"/online/onlinePage/updatePublished",e,l)}static delete(e,l){return super.post(n.x+"/online/onlinePage/delete",e,l)}static updateStatus(e,l){return super.post(n.x+"/online/onlinePage/updateStatus",e,l)}static listOnlinePageDatasource(e,l){return super.post(n.x+"/online/onlinePage/listOnlinePageDatasource",e,l)}static listNotInOnlinePageDatasource(e,l){return super.post(n.x+"/online/onlinePage/listNotInOnlinePageDatasource",e,l)}static addOnlinePageDatasource(e,l){return super.post(n.x+"/online/onlinePage/addOnlinePageDatasource",e,l)}static deleteOnlinePageDatasource(e,l){return super.post(n.x+"/online/onlinePage/deleteOnlinePageDatasource",e,l)}static updateOnlinePageDatasource(e,l){return super.post(n.x+"/online/onlinePage/updateOnlinePageDatasource",e,l)}static viewOnlinePageDatasource(e,l){return super.get(n.x+"/online/onlinePage/viewOnlinePageDatasource",e,l)}static getDblinkIdByPageId(e,l){return super.get(n.x+"/online/onlinePage/getDblinkIdByPageId",e,l)}}class s extends a.w{static list(e,l){return super.post(n.x+"/online/onlineDatasourceRelation/list",e,l)}static view(e,l){return super.get(n.x+"/online/onlineDatasourceRelation/view",e,l)}static add(e,l){return super.post(n.x+"/online/onlineDatasourceRelation/add",e,l)}static update(e,l){return super.post(n.x+"/online/onlineDatasourceRelation/update",e,l)}static delete(e,l){return super.post(n.x+"/online/onlineDatasourceRelation/delete",e,l)}}class r extends a.w{static list(e,l){return super.post(n.x+"/online/onlineDatasource/list",e,l)}static view(e,l){return super.get(n.x+"/online/onlineDatasource/view",e,l)}static add(e,l){return super.post(n.x+"/online/onlineDatasource/add",e,l)}static update(e,l){return super.post(n.x+"/online/onlineDatasource/update",e,l)}static delete(e,l){return super.post(n.x+"/online/onlineDatasource/delete",e,l)}}class d extends a.w{static list(e,l){return super.post(n.x+"/online/onlineColumn/list",e,l)}static view(e,l){return super.get(n.x+"/online/onlineColumn/view",e,l)}static add(e,l){return super.post(n.x+"/online/onlineColumn/add",e,l)}static update(e,l){return super.post(n.x+"/online/onlineColumn/update",e,l)}static refreshColumn(e,l){return super.post(n.x+"/online/onlineColumn/refresh",e,l)}static delete(e,l){return super.post(n.x+"/online/onlineColumn/delete",e,l)}static listOnlineColumnRule(e,l){return super.post(n.x+"/online/onlineColumn/listOnlineColumnRule",e,l)}static listNotInOnlineColumnRule(e,l){return super.post(n.x+"/online/onlineColumn/listNotInOnlineColumnRule",e,l)}static addOnlineColumnRule(e,l){return super.post(n.x+"/online/onlineColumn/addOnlineColumnRule",e,l)}static deleteOnlineColumnRule(e,l){return super.post(n.x+"/online/onlineColumn/deleteOnlineColumnRule",e,l)}static updateOnlineColumnRule(e,l){return super.post(n.x+"/online/onlineColumn/updateOnlineColumnRule",e,l)}static viewOnlineColumnRule(e,l){return super.post(n.x+"/online/onlineColumn/viewOnlineColumnRule",e,l)}}class p extends a.w{static list(e,l){return super.post(n.x+"/online/onlineRule/list",e,l)}static view(e,l){return super.get(n.x+"/online/onlineRule/view",e,l)}static add(e,l){return super.post(n.x+"/online/onlineRule/add",e,l)}static update(e,l){return super.post(n.x+"/online/onlineRule/update",e,l)}static delete(e,l){return super.post(n.x+"/online/onlineRule/delete",e,l)}}class c extends a.w{static list(e,l){return super.post(n.x+"/online/onlineVirtualColumn/list",e,l)}static view(e,l){return super.get(n.x+"/online/onlineVirtualColumn/view",e,l)}static add(e,l){return super.post(n.x+"/online/onlineVirtualColumn/add",e,l)}static update(e,l){return super.post(n.x+"/online/onlineVirtualColumn/update",e,l)}static delete(e,l){return super.post(n.x+"/online/onlineVirtualColumn/delete",e,l)}}class m extends a.w{static listDict(e,l){return super.post(n.x+"/online/onlineOperation/listDict",e,l)}static listByDatasourceId(e,l){return super.post(n.x+"/online/onlineOperation/listByDatasourceId",e,l)}static listByOneToManyRelationId(e,l){return super.post(n.x+"/online/onlineOperation/listByOneToManyRelationId",e,l)}static addDatasource(e,l){return super.post(n.x+"/online/onlineOperation/addDatasource",e,l)}static addOneToManyRelation(e,l){return super.post(n.x+"/online/onlineOperation/addOneToManyRelation",e,l)}static updateDatasource(e,l){return super.post(n.x+"/online/onlineOperation/updateDatasource",e,l)}static updateOneToManyRelation(e,l){return super.post(n.x+"/online/onlineOperation/updateOneToManyRelation",e,l)}static viewByDatasourceId(e,l){return super.get(n.x+"/online/onlineOperation/viewByDatasourceId",e,l)}static viewByOneToManyRelationId(e,l){return super.get(n.x+"/online/onlineOperation/viewByOneToManyRelationId",e,l)}static deleteDatasource(e,l){return super.post(n.x+"/online/onlineOperation/deleteDatasource",e,l)}static deleteOneToManyRelation(e,l){return super.post(n.x+"/online/onlineOperation/deleteOneToManyRelation",e,l)}static getColumnRuleCode(e,l){return super.get(n.x+"/online/onlineOperation/getColumnRuleCode",e,l)}static getPrintTemplate(e,l){return super.post(n.x+"/report/reportPrint/listAll",e,l)}static listTableDict(e,l){return super.post(n.x+"/online/onlineOperation/listTableDict",e,l)}static listTableDictByIds(e,l){return super.post(n.x+"/online/onlineOperation/listTableDictByIds",e,l)}}class v extends a.w{static list(e,l){return super.post(n.x+"/online/onlineForm/list",e,l)}static view(e,l){return super.get(n.x+"/online/onlineForm/view",e,l)}static render(e,l){return super.get(n.x+"/online/onlineForm/render",e,l)}static add(e,l){return super.post(n.x+"/online/onlineForm/add",e,l)}static update(e,l){return super.post(n.x+"/online/onlineForm/update",e,l)}static delete(e,l){return super.post(n.x+"/online/onlineForm/delete",e,l)}static clone(e,l){return super.post(n.x+"/online/onlineForm/clone",e,l)}static saveFormUserExt(e,l){return super.post(n.x+"/online/onlineForm/saveFormUserExt",e,l)}}t(83283),t(3736)},68489:function(e,l,t){t(97042)},69550:function(e,l,t){t.r(l),t.d(l,{default:function(){return U}});var a=t(21929),n=(t(97042),t(98421),t(69080)),i=(t(25374),t(17851)),u=(t(68489),t(62436),t(65451)),o=(t(63390),t(3740)),s=(t(42899),t(25136)),r=(t(69957),t(85415)),d=(t(22243),t(7409),t(76408)),p=(t(87535),t(32465),t(14022)),c=(t(72343),t(44114),t(18111),t(22489),t(61701),t(56768)),m=t(45130),v=t(90144),b=t(61473),y=t(26695),f=t(99540),g=t(8588),k=t(36947),C=t(36525),x=t(99080),D=t(60265),T=t(27007),h=t(53155),F=t(78430),_=t(71066),R=t(82572),O=t(52920),S=(t(95509),t(77649)),w=(t(87603),t(20709),t(20116),t(24232)),N=(0,c.pM)({__name:"EditDictDataButton",props:{width:{default:"200px"},btnText:{},value:{},dictList:{default:void 0}},emits:["save"],setup(e,{emit:l}){const t=l,n=e,o=(0,v.KR)(),r=(0,v.KR)(!1),d=(0,v.KR)({type:"Integer"}),b=(0,R.l5)(),f={id:[{required:!0,message:"字典键数据不能为空",trigger:"blur"}],name:[{required:!0,message:"字典值数据不能为空",trigger:"blur"}]},g=(0,c.EW)(()=>{let e=n.dictList?.filter(e=>null==n.value||e.id!==n.value.id);return e}),k=()=>{r.value=!1},C=()=>{o.value.validate(e=>{if(e){if(g.value?.find(e=>e.id===d.value.id))return void y.nk.error("字典键数据已存在");r.value=!1,t("save",d.value,n.value)}})},x=()=>{d.value={type:"Integer"},n.value&&(d.value={...n.value})},D=e=>{console.log(e,d.value),"Integer"==e&&d.value.id&&!(0,T.Et)(d.value.id)&&(d.value.id=void 0)};return(e,l)=>{const t=i.Zh,y=i.MQ,g=a.xE,T=p.WK,h=S.lq,F=a.US,_=s.S2,R=u.S2,N=O.Vc;return(0,c.uX)(),(0,c.Wv)(N,{width:"300px",onShow:x,visible:r.value},{reference:(0,c.k6)(()=>[(0,c.bF)(_,{size:(0,v.R1)(b).defaultFormItemSize,link:"",type:"primary",onClick:l[5]||(l[5]=e=>r.value=!0),style:{padding:"0"}},{default:(0,c.k6)(()=>[(0,c.eW)((0,w.v_)(e.btnText),1)]),_:1},8,["size"])]),default:(0,c.k6)(()=>[(0,c.bF)(F,{ref_key:"form",ref:o,model:d.value,class:"full-width-input",rules:f,style:{width:"100%"},"label-width":"100px",size:(0,v.R1)(b).defaultFormItemSize,"label-position":"right",onSubmit:l[4]||(l[4]=(0,m.D$)(()=>{},["prevent"]))},{default:(0,c.k6)(()=>[(0,c.bF)(g,{label:"字典键类型"},{default:(0,c.k6)(()=>[(0,c.bF)(y,{modelValue:d.value.type,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value.type=e),disabled:null!=e.value,onChange:D},{default:(0,c.k6)(()=>[(0,c.bF)(t,{value:"Integer"},{default:(0,c.k6)(()=>l[6]||(l[6]=[(0,c.eW)("整数")])),_:1,__:[6]}),(0,c.bF)(t,{value:"String"},{default:(0,c.k6)(()=>l[7]||(l[7]=[(0,c.eW)("字符串")])),_:1,__:[7]})]),_:1},8,["modelValue","disabled"])]),_:1}),"String"===d.value.type?((0,c.uX)(),(0,c.Wv)(g,{key:0,label:"字典键数据",prop:"id"},{default:(0,c.k6)(()=>[(0,c.bF)(T,{modelValue:d.value.id,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value.id=e),disabled:null!=n.value},null,8,["modelValue","disabled"])]),_:1})):(0,c.Q3)("",!0),"Integer"===d.value.type?((0,c.uX)(),(0,c.Wv)(g,{key:1,label:"字典键数据",prop:"id"},{default:(0,c.k6)(()=>[(0,c.bF)(h,{modelValue:d.value.id,"onUpdate:modelValue":l[2]||(l[2]=e=>d.value.id=e),disabled:null!=n.value},null,8,["modelValue","disabled"])]),_:1})):(0,c.Q3)("",!0),(0,c.bF)(g,{label:"字典值数据",prop:"id"},{default:(0,c.k6)(()=>[(0,c.bF)(T,{modelValue:d.value.name,"onUpdate:modelValue":l[3]||(l[3]=e=>d.value.name=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","size"]),(0,c.bF)(R,{type:"flex",justify:"end"},{default:(0,c.k6)(()=>[(0,c.bF)(_,{size:(0,v.R1)(b).defaultFormItemSize,plain:!0,onClick:k},{default:(0,c.k6)(()=>l[8]||(l[8]=[(0,c.eW)("取消")])),_:1,__:[8]},8,["size"]),(0,c.bF)(_,{size:(0,v.R1)(b).defaultFormItemSize,type:"primary",onClick:C},{default:(0,c.k6)(()=>l[9]||(l[9]=[(0,c.eW)("保存")])),_:1,__:[9]},8,["size"])]),_:1})]),_:1},8,["visible"])}}});const V=N;var L=V,I=t(68092);const E={class:"form-single-fragment third-party-dlg",style:{position:"relative"}};var A=(0,c.pM)({__name:"EditOnlineDict",props:{dictId:{},dictList:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const l=(0,R.l5)(),{Dialog:t}=(0,g.x)(),O={...F.A},S=e,{thirdParams:w,onCloseThirdDialog:N}=(0,_.P)(S),V=(0,c.EW)(()=>l.defaultFormItemSize||w.value.defaultFormItemSize?.value),A=(0,v.KR)(),W=(0,v.KR)(),P=(0,v.Kh)({dictCode:void 0}),U=(0,v.KR)([]),X=(0,v.KR)([]),z=(0,v.KR)([]),B=(0,v.KR)({dictType:C.SysOnlineDictType.TABLE,treeFlag:!1,orderSql:""}),K={dictName:[{required:!0,message:"请输入字典名称",trigger:"blur"}],dblinkId:[{required:!0,message:"请选择字典数据表所属数据库",trigger:"blur"}],tableName:[{required:!0,message:"请选择字典数据表",trigger:"blur"}],dictListUrl:[{required:!0,message:"请输入字典数据获取URL",trigger:"blur"}],staticDictName:[{required:!0,message:"请选择静态字典",trigger:"blur"}],keyColumnName:[{required:!0,message:"请输入字典键字段名称",trigger:"blur"}],valueColumnName:[{required:!0,message:"请输入字典值字段名称",trigger:"blur"}]},q=()=>{t.show("弹窗设置",I["default"],{offset:"100px",area:"900px"},{data:B.value.dialogSetting,tableColumnList:X.value,dictList:S.dictList,path:"thirdEditOnlineDictPopup"},{width:"900px",height:"600px",pathName:"/thirdParty/thirdEditOnlineDictPopup"}).then(e=>{B.value.dialogSetting=e}).catch(e=>{console.log(e)})},Q=()=>new Promise((e,l)=>{k.yu.list({}).then(l=>e({dataList:l.data.dataList})).catch(e=>{l(e)})}),M={loadData:Q},G=(0,v.Kh)((0,x.B)(M)),H=()=>new Promise((e,l)=>{B.value.dblinkId?k.yu.listDblinkTables({dblinkId:B.value.dblinkId,includeViews:!0}).then(l=>{e({dataList:l.data.map(e=>({id:e.tableName,name:e.tableName}))})}).catch(e=>{l(e)}):l("请选择数据表所属数据库")}),j={loadData:H},J=(0,v.Kh)((0,x.B)(j)),Y=()=>Promise.resolve({dataList:C.SysOnlineDictType.getList()}),$={loadData:Y},Z=(0,v.Kh)((0,x.B)($)),ee=()=>{const e=[];for(const[l,t]of Object.entries(O))e.push({id:l,name:t.showName});return Promise.resolve({dataList:e})},le={loadData:ee},te=(0,v.Kh)((0,x.B)(le)),ae=e=>(null==e&&(e={}),e={...e,globalDictDtoFilter:{dictCode:""==P.dictCode?void 0:P.dictCode}},new Promise((l,t)=>{k.S1.listAllGlobalDict(e).then(e=>{if(Array.isArray(e.data.dataList)&&B.value.dictCode){let l=(0,T.PH)(e.data.dataList,B.value.dictCode,"dictCode");l&&W.value.setCurrentRow({...l})}l({dataList:e.data.dataList,totalCount:e.data.totalCount})}).catch(e=>{console.log(e),t(e)})})),ne=()=>!0,ie={loadTableData:ae,verifyTableParameter:ne,paged:!0},ue=(0,v.Kh)((0,D.K)(ie)),oe=()=>{B.value.dictCode=void 0,se()},se=()=>{ue.refreshTable(!0,1)},re=e=>{e&&U.value.push(e)},de=(0,c.EW)(()=>S.dictId||w.value.dictId),pe=(0,c.EW)(()=>!!de.value),ce=()=>{S.dialog?S.dialog.cancel():N()},me=()=>{A.value.validate(e=>{if(e){let e={onlineDictDto:{...B.value,dblinkId:B.value.dblinkId,dictDataJson:JSON.stringify({staticDictName:B.value.dictType==C.SysOnlineDictType.STATIC?B.value.staticDictName:void 0,dictData:B.value.dictType==C.SysOnlineDictType.CUSTOM?U.value:void 0,paramList:z.value.map(e=>({dictParamName:e})),dialogSetting:B.value.dialogSetting,filterSql:B.value.filterSql,orderSql:B.value.orderSql})}},l=pe.value?k.S1.update(e):k.S1.add(e);l.then(e=>{y.nk.success("保存成功"),S.dialog?S.dialog.submit(e):N()}).catch(e=>{console.warn(e),ce()})}})},ve=()=>{B.value.parentKeyColumnName=void 0,B.value.keyColumnName=void 0,B.value.valueColumnName=void 0,B.value.staticDictName=void 0,z.value=[],U.value=[]},be=(e,l)=>{e&&l&&(U.value=U.value.map(t=>t.id==l.id?e:t))},ye=e=>{null!=e&&(U.value=U.value.filter(l=>l.id!==e.id))},fe=()=>{ve(),J.setDirty(!0),B.value.tableName=void 0},ge=e=>{B.value.tableName=e,null!=B.value.tableName&&ke()},ke=()=>{let e={dblinkId:B.value.dblinkId,tableName:B.value.tableName};X.value=[],k.yu.listDblinkTableColumns(e).then(e=>{X.value=e.data}).catch(e=>{console.warn(e)})},Ce=()=>{ve(),B.value.dictListUrl=void 0,B.value.tableName=void 0,B.value.dblinkId=void 0,X.value=[],B.value.dictType==C.SysOnlineDictType.CODE&&oe()},xe=()=>{if(U.value=[],B.value.staticDictName){const e=O;let l=e[B.value.staticDictName];null!=l&&(U.value=l.getList())}},De=(e=!1)=>{let l=B.value.dictListUrl;null!=l&&""!=l?(X.value=[],(0,h.Jt)(l,{}).then(l=>{if(e&&y.nk.success("获取字典数据成功！"),Array.isArray(l.data)&&l.data.length>0){let e=l.data[0];X.value=Object.keys(e),X.value=X.value.map(e=>({columnName:e}))}}).catch(e=>{console.warn(e)})):y.nk.error("请输入字典数据获取URL")};return(0,c.sV)(()=>{Z.onVisibleChange(!0),pe.value&&k.S1.view({dictId:de.value}).then(e=>{B.value={...e.data},B.value.dictDataJson=void 0;let l=null;if(e.data.dictDataJson)try{l=JSON.parse(e.data.dictDataJson),l&&Array.isArray(l.paramList)&&(z.value=l.paramList.map(e=>e.dictParamName)),B.value.dialogSetting=(l||{}).dialogSetting}catch(t){console.warn(t)}if(B.value.dictType==C.SysOnlineDictType.TABLE)G.onVisibleChange(!0),J.onVisibleChange(!0),ke();else if(B.value.dictType==C.SysOnlineDictType.URL)De();else if(B.value.dictType==C.SysOnlineDictType.STATIC){te.onVisibleChange(!0),l&&(B.value.staticDictName=l.staticDictName);const e=O;U.value=B.value.staticDictName&&e[B.value.staticDictName]?e[B.value.staticDictName].getList():[]}else B.value.dictType==C.SysOnlineDictType.CUSTOM?l&&Array.isArray(l.dictData)&&(U.value=l.dictData):B.value.dictType==C.SysOnlineDictType.CODE&&se()}).catch(e=>{console.warn(e)})}),(e,l)=>{const t=p.WK,y=a.xE,g=d.uD,k=r.P9,x=r.AV,D=s.S2,T=o.qi,h=u.S2,F=i.ll,_=i.MQ,R=n.aQ,O=a.US;return(0,c.uX)(),(0,c.CE)("div",E,[(0,c.bF)(O,{ref_key:"form",ref:A,model:B.value,class:"full-width-input form-box",rules:K,style:{width:"100%"},"label-width":"100px",size:V.value,"label-position":"right",onSubmit:l[20]||(l[20]=(0,m.D$)(()=>{},["prevent"]))},{default:(0,c.k6)(()=>[(0,c.bF)(h,{gutter:20},{default:(0,c.k6)(()=>[(0,c.bF)(g,{span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"字典名称",prop:"dictName"},{default:(0,c.k6)(()=>[(0,c.bF)(t,{class:"input-item",modelValue:B.value.dictName,"onUpdate:modelValue":l[0]||(l[0]=e=>B.value.dictName=e),clearable:!0,placeholder:"字典名称"},null,8,["modelValue"])]),_:1})]),_:1}),(0,c.bF)(g,{span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"字典类型",prop:"dictType"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{class:"input-item",modelValue:B.value.dictType,"onUpdate:modelValue":l[1]||(l[1]=e=>B.value.dictType=e),clearable:!0,disabled:pe.value,placeholder:"字典类型",loading:Z.loading,onVisibleChange:Z.onVisibleChange,onChange:Ce},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(Z.dropdownList,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","disabled","loading","onVisibleChange"])]),_:1})]),_:1}),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).STATIC?((0,c.uX)(),(0,c.Wv)(g,{key:0,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"字典选择",prop:"staticDictName"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{class:"input-item",modelValue:B.value.staticDictName,"onUpdate:modelValue":l[2]||(l[2]=e=>B.value.staticDictName=e),clearable:!0,filterable:"",placeholder:"字典类型",loading:te.loading,onVisibleChange:te.onVisibleChange,onChange:xe},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(te.dropdownList,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","loading","onVisibleChange"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:1,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"数据库",prop:"dblinkId"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{class:"input-item",modelValue:B.value.dblinkId,"onUpdate:modelValue":l[3]||(l[3]=e=>B.value.dblinkId=e),clearable:!0,placeholder:"数据表所属数据库",loading:G.loading,onVisibleChange:G.onVisibleChange,onChange:fe},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(G.dropdownList,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.dblinkId,value:e.dblinkId,label:e.dblinkName},null,8,["value","label"]))),128))]),_:1},8,["modelValue","loading","onVisibleChange"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:2,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"数据表",prop:"tableName"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{class:"input-item",modelValue:B.value.tableName,"onUpdate:modelValue":l[4]||(l[4]=e=>B.value.tableName=e),clearable:!0,placeholder:"选择字典数据表",loading:J.loading,filterable:"",onVisibleChange:J.onVisibleChange,onChange:ge},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(J.dropdownList,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","loading","onVisibleChange"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).URL?((0,c.uX)(),(0,c.Wv)(g,{key:3,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"字典URL",prop:"dictListUrl"},{default:(0,c.k6)(()=>[(0,c.bF)(t,{class:"input-item",modelValue:B.value.dictListUrl,"onUpdate:modelValue":l[6]||(l[6]=e=>B.value.dictListUrl=e),clearable:!0,placeholder:"输入字典获取的Get请求URL",onChange:ve},{append:(0,c.k6)(()=>[(0,c.bF)(D,{size:V.value,onClick:l[5]||(l[5]=e=>De(!0))},{default:(0,c.k6)(()=>l[21]||(l[21]=[(0,c.eW)("获取数据")])),_:1,__:[21]},8,["size"])]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).URL||B.value.dictType==(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:4,span:24,style:{height:"47px"}},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"树状字典"},{default:(0,c.k6)(()=>[(0,c.bF)(T,{modelValue:B.value.treeFlag,"onUpdate:modelValue":l[7]||(l[7]=e=>B.value.treeFlag=e)},null,8,["modelValue"])]),_:1})]),_:1})):(0,c.Q3)("",!0),!B.value.treeFlag||B.value.dictType!=(0,v.R1)(C.SysOnlineDictType).URL&&B.value.dictType!=(0,v.R1)(C.SysOnlineDictType).TABLE?(0,c.Q3)("",!0):((0,c.uX)(),(0,c.Wv)(g,{key:5,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"字典父字段"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{modelValue:B.value.parentKeyColumnName,"onUpdate:modelValue":l[8]||(l[8]=e=>B.value.parentKeyColumnName=e),clearable:"",placeholder:"选择字典父字段",filterable:"","allow-create":"","default-first-option":""},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(X.value,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.columnName,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).URL||B.value.dictType==(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:6,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"字典键字段",prop:"keyColumnName"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{modelValue:B.value.keyColumnName,"onUpdate:modelValue":l[9]||(l[9]=e=>B.value.keyColumnName=e),clearable:"",placeholder:"选择字典键字段",filterable:"","allow-create":"","default-first-option":""},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(X.value,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.columnName,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).URL||B.value.dictType==(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:7,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"字典值字段",prop:"valueColumnName"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{modelValue:B.value.valueColumnName,"onUpdate:modelValue":l[10]||(l[10]=e=>B.value.valueColumnName=e),clearable:"",placeholder:"选择字典值字段",filterable:"","allow-create":"","default-first-option":""},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(X.value,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.columnName,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:8,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"逻辑删除字段"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{modelValue:B.value.deletedColumnName,"onUpdate:modelValue":l[11]||(l[11]=e=>B.value.deletedColumnName=e),clearable:"",placeholder:"选择逻辑删除字段",filterable:"","allow-create":"","default-first-option":""},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(X.value,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.columnName,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:9,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"用户过滤字段"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{modelValue:B.value.userFilterColumnName,"onUpdate:modelValue":l[12]||(l[12]=e=>B.value.userFilterColumnName=e),clearable:"",placeholder:"选择用户过滤字段，用于数据权限用户过滤",filterable:"","allow-create":"","default-first-option":""},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(X.value,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.columnName,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:10,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"部门过滤字段"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{modelValue:B.value.deptFilterColumnName,"onUpdate:modelValue":l[13]||(l[13]=e=>B.value.deptFilterColumnName=e),clearable:"",placeholder:"选择部门过滤字段，用于数据权限部门过滤",filterable:"","allow-create":"","default-first-option":""},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(X.value,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.columnName,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:11,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"租户过滤字段"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{modelValue:B.value.tenantFilterColumnName,"onUpdate:modelValue":l[14]||(l[14]=e=>B.value.tenantFilterColumnName=e),clearable:"",placeholder:"选择租户过滤字段，用于多租户租户过滤",filterable:"","allow-create":"","default-first-option":""},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(X.value,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.columnName,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).URL||B.value.dictType==(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:12,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"字典参数"},{default:(0,c.k6)(()=>[(0,c.bF)(x,{modelValue:z.value,"onUpdate:modelValue":l[15]||(l[15]=e=>z.value=e),placeholder:"请添加字典获取参数",multiple:"",filterable:"","allow-create":"","default-first-option":""},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(X.value,e=>((0,c.uX)(),(0,c.Wv)(k,{key:e.columnName,value:e.columnName,label:e.columnName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType===(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:13,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"弹窗选择设置"},{default:(0,c.k6)(()=>[(0,c.bF)(D,{type:"primary",size:e.defaultFormItemSize,onClick:q},{default:(0,c.k6)(()=>l[22]||(l[22]=[(0,c.eW)(" 设置 ")])),_:1,__:[22]},8,["size"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType===(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:14,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"SQL 过滤"},{default:(0,c.k6)(()=>[(0,c.bF)(t,{class:"input-item",type:"textarea",autosize:{minRows:2,maxRows:4},modelValue:B.value.filterSql,"onUpdate:modelValue":l[16]||(l[16]=e=>B.value.filterSql=e),clearable:!0,placeholder:"过滤条件前不要添加任何 AND/OR 等逻辑操作符"},null,8,["modelValue"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType===(0,v.R1)(C.SysOnlineDictType).TABLE?((0,c.uX)(),(0,c.Wv)(g,{key:15,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"SQL 排序"},{default:(0,c.k6)(()=>[(0,c.bF)(t,{class:"input-item",type:"textarea",autosize:{minRows:2,maxRows:4},modelValue:B.value.orderSql,"onUpdate:modelValue":l[17]||(l[17]=e=>B.value.orderSql=e),clearable:!0,placeholder:"排序语句前不要添加 ORDER BY"},null,8,["modelValue"])]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).STATIC||B.value.dictType==(0,v.R1)(C.SysOnlineDictType).CUSTOM?((0,c.uX)(),(0,c.Wv)(g,{key:16,span:24},{default:(0,c.k6)(()=>[(0,c.bF)((0,v.R1)(f.CP),{data:U.value,size:V.value,"row-config":{isHover:!0},"header-cell-class-name":"table-header-gray",height:"300px"},{empty:(0,c.k6)(()=>l[24]||(l[24]=[(0,c.Lk)("div",{class:"table-empty unified-font"},[(0,c.Lk)("img",{src:b}),(0,c.Lk)("span",null,"暂无数据")],-1)])),default:(0,c.k6)(()=>[(0,c.bF)((0,v.R1)(f.Wq),{title:"字典键数据",field:"id"}),(0,c.bF)((0,v.R1)(f.Wq),{title:"字典值数据",field:"name"}),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).CUSTOM?((0,c.uX)(),(0,c.Wv)((0,v.R1)(f.Wq),{key:0,title:"操作",width:"100px",fixed:"right",align:"right"},{header:(0,c.k6)(()=>[(0,c.bF)(h,{justify:"end",align:"middle"},{default:(0,c.k6)(()=>[(0,c.bF)(L,{width:"200px",btnText:"新建",dictList:U.value,onSave:re},null,8,["dictList"])]),_:1})]),default:(0,c.k6)(e=>[(0,c.bF)(L,{width:"200px",value:e.row,btnText:"编辑",dictList:U.value,onSave:be},null,8,["value","dictList"]),(0,c.bF)(D,{style:{padding:"0","margin-left":"10px"},size:V.value,type:"danger",link:"",onClick:l=>ye(e.row)},{default:(0,c.k6)(()=>l[23]||(l[23]=[(0,c.eW)("删除")])),_:2,__:[23]},1032,["size","onClick"])]),_:1})):(0,c.Q3)("",!0)]),_:1},8,["data","size"])]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).CODE?((0,c.uX)(),(0,c.Wv)(g,{key:17,span:24},{default:(0,c.k6)(()=>[(0,c.bF)(y,{label:"编码字典"},{default:(0,c.k6)(()=>[(0,c.bF)(h,{gutter:20,style:{width:"100%"}},{default:(0,c.k6)(()=>[(0,c.bF)(g,{span:21},{default:(0,c.k6)(()=>[(0,c.bF)(t,{modelValue:P.dictCode,"onUpdate:modelValue":l[18]||(l[18]=e=>P.dictCode=e),clearable:!0,placeholder:"输入字典编码查询"},null,8,["modelValue"])]),_:1}),(0,c.bF)(g,{span:3},{default:(0,c.k6)(()=>[(0,c.bF)(D,{type:"primary",plain:!0,size:V.value,onClick:oe},{default:(0,c.k6)(()=>l[25]||(l[25]=[(0,c.eW)("查询")])),_:1,__:[25]},8,["size"])]),_:1})]),_:1})]),_:1})]),_:1})):(0,c.Q3)("",!0),B.value.dictType==(0,v.R1)(C.SysOnlineDictType).CODE?((0,c.uX)(),(0,c.Wv)(g,{key:18,span:24,style:{"margin-bottom":"15px"}},{default:(0,c.k6)(()=>[(0,c.bF)(_,{class:"radio-table",modelValue:B.value.dictCode,"onUpdate:modelValue":l[19]||(l[19]=e=>B.value.dictCode=e),style:{width:"100%"}},{default:(0,c.k6)(()=>[(0,c.bF)((0,v.R1)(f.CP),{ref_key:"table",ref:W,data:ue.dataList,"row-config":{isHover:!0},size:V.value,"header-cell-class-name":"table-header-gray",height:"300px"},{empty:(0,c.k6)(()=>l[26]||(l[26]=[(0,c.Lk)("div",{class:"table-empty unified-font"},[(0,c.Lk)("img",{src:b}),(0,c.Lk)("span",null,"暂无数据")],-1)])),default:(0,c.k6)(()=>[(0,c.bF)((0,v.R1)(f.Wq),{title:"选择","header-align":"center",align:"center",width:"60px"},{default:(0,c.k6)(e=>[(0,c.bF)(F,{value:e.row.dictCode},null,8,["value"])]),_:1}),(0,c.bF)((0,v.R1)(f.Wq),{title:"字典名称",field:"dictName"}),(0,c.bF)((0,v.R1)(f.Wq),{title:"字典编码",field:"dictCode"})]),_:1},8,["data","size"])]),_:1},8,["modelValue"]),(0,c.bF)(h,{type:"flex",justify:"end",style:{"margin-top":"16px"}},{default:(0,c.k6)(()=>[(0,c.bF)(R,{total:ue.totalCount,"current-page":ue.currentPage,"page-size":ue.pageSize,"page-sizes":[10,20,50,100],layout:"total, prev, pager, next, sizes",onCurrentChange:ue.onCurrentPageChange,onSizeChange:ue.onPageSizeChange},null,8,["total","current-page","page-size","onCurrentChange","onSizeChange"])]),_:1})]),_:1})):(0,c.Q3)("",!0)]),_:1})]),_:1},8,["model","size"]),(0,c.bF)(h,{class:"menu-box"},{default:(0,c.k6)(()=>[(0,c.bF)(g,{span:24,style:{"margin-top":"15px"}},{default:(0,c.k6)(()=>[(0,c.bF)(h,{class:"no-scroll flex-box",type:"flex",justify:"end"},{default:(0,c.k6)(()=>[(0,c.bF)(D,{size:V.value,plain:!0,onClick:ce},{default:(0,c.k6)(()=>l[27]||(l[27]=[(0,c.eW)(" 取消 ")])),_:1,__:[27]},8,["size"]),(0,c.bF)(D,{type:"primary",size:V.value,onClick:me},{default:(0,c.k6)(()=>l[28]||(l[28]=[(0,c.eW)(" 保存 ")])),_:1,__:[28]},8,["size"])]),_:1})]),_:1})]),_:1})])}}}),W=t(71241);const P=(0,W.A)(A,[["__scopeId","data-v-240a0cce"]]);var U=P},78430:function(e,l,t){t.d(l,{A:function(){return c}});var a={};t.r(a),t.d(a,{ClassLevel:function(){return i},CourseDifficult:function(){return r},Gender:function(){return o},StudentActionType:function(){return d},StudentExpLevel:function(){return u},TeacherLevelType:function(){return s}});var n=t(52081);const i=new n.w("班级级别",[{id:0,name:"初级班",symbol:"LOWER"},{id:1,name:"培优班",symbol:"HIGH"},{id:2,name:"冲刺提分班",symbol:"INCREASE"},{id:3,name:"竞赛班",symbol:"MATH"}]),u=new n.w("学生经验等级",[{id:0,name:"初级学员",symbol:"LOWER"},{id:1,name:"中级学员",symbol:"NORMAL"},{id:2,name:"高级学员",symbol:"HIGH"},{id:3,name:"资深学员",symbol:"SENIOR"}]),o=new n.w("性别字典",[{id:1,name:"男",symbol:"MALE"},{id:0,name:"女",symbol:"FEMALE"}]),s=new n.w("教师职级",[{id:0,name:"初级教师",symbol:"LOWER"},{id:1,name:"中级教师",symbol:"NORMAL"},{id:2,name:"高级教师",symbol:"HIGH"}]),r=new n.w("课程难度",[{id:0,name:"容易",symbol:"EASY"},{id:1,name:"普通",symbol:"NORMAL"},{id:2,name:"困难",symbol:"DIFFICULT"}]),d=new n.w("学生行为",[{id:0,name:"充值",symbol:"RECHARGE"},{id:1,name:"购买课程",symbol:"BUY_COURSE"},{id:2,name:"上课签到",symbol:"SIGNIN_COURSE"},{id:3,name:"下课签退",symbol:"SIGNOUT_COURSE"},{id:4,name:"看视频课",symbol:"WATCH_VIDEO"},{id:5,name:"做作业",symbol:"DO_PAPER"},{id:6,name:"刷题",symbol:"REFRESH_EXERCISE"},{id:7,name:"献花",symbol:"PRESENT_FLOWER"},{id:8,name:"购买视频课",symbol:"BUY_VIDEO_COURSE"},{id:9,name:"购买鲜花",symbol:"BUY_FLOWER"},{id:10,name:"购买作业",symbol:"BUY_PAPER"}]);var p=t(21016),c={...p,...a}},83283:function(e,l,t){t.d(l,{A:function(){return i}});var a=t(55583),n=t(18384);class i extends a.w{static testScript(e,l){return super.post(n.x+"/online/onlineApi/testScript",e,l)}static list(e,l){return super.post(n.x+"/online/onlineApi/list",e,l)}static view(e,l){return super.get(n.x+"/online/onlineApi/view",e,l)}static add(e,l){return super.post(n.x+"/online/onlineApi/add",e,l)}static update(e,l){return super.post(n.x+"/online/onlineApi/update",e,l)}static delete(e,l){return super.post(n.x+"/online/onlineApi/delete",e,l)}static deleteBatch(e,l){return super.post(n.x+"/online/onlineApi/deleteBatch",e,l)}}}}]);