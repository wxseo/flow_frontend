"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[1066,4027,6339,8720],{348:function(e,a,t){t.r(a),t.d(a,{default:function(){return g}});var l=t(65451),o=(t(97042),t(63390),t(25136)),r=(t(69957),t(18111),t(61701),t(56768)),d=t(90144),i=t(71066),s=t(82572),n=t(47434);const u={class:"edit-dataset-param third-party-dlg"},p={class:"form-box",span:24},m={class:"menu-box",span:24,style:{"margin-top":"15px"}};var c=(0,r.pM)({__name:"editDatasetParam",props:{paramList:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const a=(0,s.l5)(),t=e,{thirdParams:c,onCloseThirdDialog:f}=(0,i.P)(t),g=(0,r.EW)(()=>a.defaultFormItemSize||c.value.defaultFormItemSize?.value),h=(0,d.KR)([]),w=(0,r.EW)(()=>({paramList:t.paramList||c.value.paramList||[]})),y=()=>{t.dialog?t.dialog.cancel():f(!1)},v=()=>{t.dialog?t.dialog.submit(h.value):f(!0,void 0,h.value)};return(0,r.wB)(()=>w.value.paramList,e=>{h.value=(e||[]).map(e=>({...e}))},{immediate:!0}),(e,a)=>{const t=o.S2,i=l.S2;return(0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("div",p,[(0,r.bF)(n.A,{datasetParamList:(0,d.R1)(h)},null,8,["datasetParamList"])]),(0,r.Lk)("div",m,[(0,r.bF)(i,{class:"no-scroll flex-box",type:"flex",justify:"end"},{default:(0,r.k6)(()=>[(0,r.bF)(t,{size:(0,d.R1)(g),plain:!0,onClick:y},{default:(0,r.k6)(()=>a[1]||(a[1]=[(0,r.eW)(" 取消 ")])),_:1,__:[1]},8,["size"]),(0,r.bF)(t,{type:"primary",size:(0,d.R1)(g),onClick:a[0]||(a[0]=e=>v())},{default:(0,r.k6)(()=>a[2]||(a[2]=[(0,r.eW)(" 保存 ")])),_:1,__:[2]},8,["size"])]),_:1})])])}}});const f=c;var g=f},47434:function(e,a,t){t.d(a,{A:function(){return h}});var l=t(25136),o=(t(97042),t(69957),t(88284)),r=(t(36715),t(77649)),d=(t(87603),t(85415)),i=(t(22243),t(7409),t(14022)),s=(t(72343),t(56768)),n=t(90144),u=t(24232),p=t(61473),m=t(99540);const c={key:1};var f=(0,s.pM)({__name:"datasetParamList",props:{height:{default:"450px"},datasetParamList:{},supportDelete:{type:Boolean,default:!1}},emits:["delete"],setup(e,{emit:a}){const t=a,f=e=>{t("delete",e)};return(e,a)=>{const t=i.WK,g=d.P9,h=d.AV,w=r.lq,y=o.MG,v=l.S2;return(0,s.uX)(),(0,s.Wv)((0,n.R1)(m.CP),{data:e.datasetParamList,size:"default","header-cell-class-name":"table-header-gray",height:e.height,"row-config":{isHover:!0},style:{width:"100%"}},{empty:(0,s.k6)(()=>a[1]||(a[1]=[(0,s.Lk)("div",{class:"table-empty unified-font"},[(0,s.Lk)("img",{src:p}),(0,s.Lk)("span",null,"暂无数据")],-1)])),default:(0,s.k6)(()=>[e.supportDelete?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)((0,n.R1)(m.Wq),{key:0,type:"seq",width:"55px",title:"序号"})),(0,s.bF)((0,n.R1)(m.Wq),{title:"参数名称",field:"paramName","max-width":"200px"},{default:(0,s.k6)(e=>[e.row.isEdit?((0,s.uX)(),(0,s.Wv)(t,{key:0,modelValue:e.row.paramName,"onUpdate:modelValue":a=>e.row.paramName=a,size:"default",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):((0,s.uX)(),(0,s.CE)("span",c,(0,u.v_)(e.row.paramName),1))]),_:1}),(0,s.bF)((0,n.R1)(m.Wq),{title:"参数类型",field:"paramType",width:"150px"},{default:(0,s.k6)(e=>[(0,s.bF)(h,{modelValue:e.row.paramType,"onUpdate:modelValue":a=>e.row.paramType=a,placeholder:"",size:"default"},{default:(0,s.k6)(()=>[(0,s.bF)(g,{title:"字符串",value:"String"}),(0,s.bF)(g,{title:"数字",value:"Number"}),(0,s.bF)(g,{title:"日期",value:"Date"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),(0,s.bF)((0,n.R1)(m.Wq),{title:"默认值",field:"defaultValue"},{default:(0,s.k6)(e=>["String"===e.row.paramType?((0,s.uX)(),(0,s.Wv)(t,{key:0,modelValue:e.row.defaultValue,"onUpdate:modelValue":a=>e.row.defaultValue=a,size:"default",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):(0,s.Q3)("",!0),"Number"===e.row.paramType?((0,s.uX)(),(0,s.Wv)(w,{key:1,modelValue:e.row.defaultValue,"onUpdate:modelValue":a=>e.row.defaultValue=a,size:"default",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):(0,s.Q3)("",!0),"Date"===e.row.paramType?((0,s.uX)(),(0,s.Wv)(y,{key:2,type:"datetime",modelValue:e.row.defaultValue,"onUpdate:modelValue":a=>e.row.defaultValue=a,size:"default",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):(0,s.Q3)("",!0)]),_:1}),e.supportDelete?((0,s.uX)(),(0,s.Wv)((0,n.R1)(m.Wq),{key:1,width:"55px",title:"操作"},{default:(0,s.k6)(e=>[(0,s.bF)(v,{link:"",type:"danger",size:"default",onClick:a=>f(e.row)},{default:(0,s.k6)(()=>a[0]||(a[0]=[(0,s.eW)(" 删除 ")])),_:2,__:[0]},1032,["onClick"])]),_:1})):(0,s.Q3)("",!0)]),_:1},8,["data","height"])}}});const g=f;var h=g},61473:function(e,a,t){e.exports=t.p+"img/empty.7e47f88a.png"},71066:function(e,a,t){t.d(a,{P:function(){return i},i:function(){return s}});var l=t(81387),o=t(27007),r=t(56768),d=t(90144);const i=e=>{console.log("接收到的第三方参数",e);const a=(0,d.KR)(0),t=(0,r.EW)(()=>{let a={};try{e.thirdParamsString&&(a=JSON.parse(e.thirdParamsString))}catch(t){console.log(t),a={}}return a});console.log("thirdParams",t);const l=(l,o,r)=>{console.log("onCloseThirdDialog",o,r),window.parent&&window.parent.postMessage({type:"closeDialog",data:{index:a.value,dialogKey:e.dialogKey,path:t.value.path,rowData:o?JSON.parse(JSON.stringify(o)):void 0,data:r?JSON.parse(JSON.stringify(r)):void 0,isSuccess:l}},"*")},i=(e,t)=>{switch(e){case"setToken":t.token&&(0,o.WG)(t.token);break;case"dialogIndex":a.value=t;break;case"refreshData":break;case"message":break}},s=e=>{i(e.data.type,e.data.data)};return(0,r.sV)(()=>{console.log("onMounted message"),window.addEventListener("message",s,!1)}),(0,r.hi)(()=>{console.log("onUnmounted message"),window.removeEventListener("message",s)}),{thirdParams:t,onCloseThirdDialog:l}},s=()=>{let e;const a=(0,l.lq)(),t=()=>{window.parent&&window.parent.postMessage({type:"refreshToken"},"*")};-1!==a.path.indexOf("/thirdParty/")&&((0,r.sV)(()=>{(0,o.R7)()&&(e=setInterval(()=>{console.log("refreshToken thirdParty"),t()},18e4))}),(0,r.hi)(()=>{e&&clearInterval(e)}))}},76010:function(e,a,t){t.d(a,{Am:function(){return o},bg:function(){return r}});t(17642),t(58004),t(33853),t(45876),t(32475),t(15024),t(31698);var l=t(24232);const o=e=>[...new Set(e)],r=e=>e||0===e?(0,l.cy)(e)?e:[e]:[]}}]);