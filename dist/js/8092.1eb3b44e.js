"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[8092],{3740:function(e,a,l){l.d(a,{qi:function(){return g}});var t=l(56768),i=l(90144),n=l(24232),o=l(45130),u=l(91542),d=l(57477),c=l(93889),s=l(99077),r=l(44216),v=l(37207),m=l(93513),f=l(93558),b=l(92056),p=l(86894),h=l(12235);const k="ElSwitch",y=(0,t.pM)({name:k}),C=(0,t.pM)({...y,props:c.Z,emits:c.x,setup(e,{expose:a,emit:l}){const c=e,{formItem:s}=(0,r.j)(),y=(0,v.NV)(),C=(0,m.DU)("switch"),{inputId:R}=(0,r.W)(c,{formItemContext:s}),w=(0,v.CB)((0,t.EW)(()=>c.loading)),g=(0,i.KR)(!1!==c.modelValue),V=(0,i.KR)(),L=(0,i.KR)(),x=(0,t.EW)(()=>[C.b(),C.m(y.value),C.is("disabled",w.value),C.is("checked",F.value)]),I=(0,t.EW)(()=>[C.e("label"),C.em("label","left"),C.is("active",!F.value)]),_=(0,t.EW)(()=>[C.e("label"),C.em("label","right"),C.is("active",F.value)]),W=(0,t.EW)(()=>({width:(0,f._V)(c.width)}));(0,t.wB)(()=>c.modelValue,()=>{g.value=!0});const E=(0,t.EW)(()=>!!g.value&&c.modelValue),F=(0,t.EW)(()=>E.value===c.activeValue);[c.activeValue,c.inactiveValue].includes(E.value)||(l(b.l4,c.inactiveValue),l(b.YU,c.inactiveValue),l(b.qs,c.inactiveValue)),(0,t.wB)(F,e=>{var a;V.value.checked=e,c.validateEvent&&(null==(a=null==s?void 0:s.validate)||a.call(s,"change").catch(e=>(0,p.U)(e)))});const S=()=>{const e=F.value?c.inactiveValue:c.activeValue;l(b.l4,e),l(b.YU,e),l(b.qs,e),(0,t.dY)(()=>{V.value.checked=F.value})},X=()=>{if(w.value)return;const{beforeChange:e}=c;if(!e)return void S();const a=e(),l=[(0,n.yL)(a),(0,h.Lm)(a)].includes(!0);l||(0,p.$)(k,"beforeChange must return type `Promise<boolean>` or `boolean`"),(0,n.yL)(a)?a.then(e=>{e&&S()}).catch(e=>{(0,p.U)(k,`some error occurred: ${e}`)}):a&&S()},N=()=>{var e,a;null==(a=null==(e=V.value)?void 0:e.focus)||a.call(e)};return(0,t.sV)(()=>{V.value.checked=F.value}),a({focus:N,checked:F}),(e,a)=>((0,t.uX)(),(0,t.CE)("div",{class:(0,n.C4)((0,i.R1)(x)),onClick:(0,o.D$)(X,["prevent"])},[(0,t.Lk)("input",{id:(0,i.R1)(R),ref_key:"input",ref:V,class:(0,n.C4)((0,i.R1)(C).e("input")),type:"checkbox",role:"switch","aria-checked":(0,i.R1)(F),"aria-disabled":(0,i.R1)(w),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:(0,i.R1)(w),tabindex:e.tabindex,onChange:S,onKeydown:(0,o.jR)(X,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.CE)("span",{key:0,class:(0,n.C4)((0,i.R1)(I))},[e.inactiveIcon?((0,t.uX)(),(0,t.Wv)((0,i.R1)(u.tk),{key:0},{default:(0,t.k6)(()=>[((0,t.uX)(),(0,t.Wv)((0,t.$y)(e.inactiveIcon)))]),_:1})):(0,t.Q3)("v-if",!0),!e.inactiveIcon&&e.inactiveText?((0,t.uX)(),(0,t.CE)("span",{key:1,"aria-hidden":(0,i.R1)(F)},(0,n.v_)(e.inactiveText),9,["aria-hidden"])):(0,t.Q3)("v-if",!0)],2)),(0,t.Lk)("span",{ref_key:"core",ref:L,class:(0,n.C4)((0,i.R1)(C).e("core")),style:(0,n.Tr)((0,i.R1)(W))},[e.inlinePrompt?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,n.C4)((0,i.R1)(C).e("inner"))},[e.activeIcon||e.inactiveIcon?((0,t.uX)(),(0,t.Wv)((0,i.R1)(u.tk),{key:0,class:(0,n.C4)((0,i.R1)(C).is("icon"))},{default:(0,t.k6)(()=>[((0,t.uX)(),(0,t.Wv)((0,t.$y)((0,i.R1)(F)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?((0,t.uX)(),(0,t.CE)("span",{key:1,class:(0,n.C4)((0,i.R1)(C).is("text")),"aria-hidden":!(0,i.R1)(F)},(0,n.v_)((0,i.R1)(F)?e.activeText:e.inactiveText),11,["aria-hidden"])):(0,t.Q3)("v-if",!0)],2)):(0,t.Q3)("v-if",!0),(0,t.Lk)("div",{class:(0,n.C4)((0,i.R1)(C).e("action"))},[e.loading?((0,t.uX)(),(0,t.Wv)((0,i.R1)(u.tk),{key:0,class:(0,n.C4)((0,i.R1)(C).is("loading"))},{default:(0,t.k6)(()=>[(0,t.bF)((0,i.R1)(d.Loading))]),_:1},8,["class"])):(0,i.R1)(F)?(0,t.RG)(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?((0,t.uX)(),(0,t.Wv)((0,i.R1)(u.tk),{key:0},{default:(0,t.k6)(()=>[((0,t.uX)(),(0,t.Wv)((0,t.$y)(e.activeActionIcon)))]),_:1})):(0,t.Q3)("v-if",!0)]):(0,i.R1)(F)?(0,t.Q3)("v-if",!0):(0,t.RG)(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?((0,t.uX)(),(0,t.Wv)((0,i.R1)(u.tk),{key:0},{default:(0,t.k6)(()=>[((0,t.uX)(),(0,t.Wv)((0,t.$y)(e.inactiveActionIcon)))]),_:1})):(0,t.Q3)("v-if",!0)])],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.CE)("span",{key:1,class:(0,n.C4)((0,i.R1)(_))},[e.activeIcon?((0,t.uX)(),(0,t.Wv)((0,i.R1)(u.tk),{key:0},{default:(0,t.k6)(()=>[((0,t.uX)(),(0,t.Wv)((0,t.$y)(e.activeIcon)))]),_:1})):(0,t.Q3)("v-if",!0),!e.activeIcon&&e.activeText?((0,t.uX)(),(0,t.CE)("span",{key:1,"aria-hidden":!(0,i.R1)(F)},(0,n.v_)(e.activeText),9,["aria-hidden"])):(0,t.Q3)("v-if",!0)],2))],10,["onClick"]))}});var R=(0,s.A)(C,[["__file","switch.vue"]]),w=l(25376);const g=(0,w.GU)(R)},42899:function(e,a,l){l(97042)},68092:function(e,a,l){l.r(a),l.d(a,{default:function(){return k}});var t=l(25136),i=(l(97042),l(69957),l(76408)),n=(l(87535),l(3740)),o=(l(42899),l(97863)),u=(l(44332),l(14022)),d=(l(72343),l(65451)),c=(l(63390),l(85415)),s=(l(22243),l(7409),l(18111),l(81148),l(7588),l(61701),l(56768)),r=l(90144),v=l(99540),m=l(71066),f=l(82572);const b={class:"dialog-box",style:{position:"relative"}};var p=(0,s.pM)({__name:"editTableDictPopup",props:{data:{},tableColumnList:{},dictList:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const a=(0,f.l5)(),l=e,{thirdParams:p,onCloseThirdDialog:h}=(0,m.P)(l),k=(0,s.EW)(()=>a.defaultFormItemSize),y=(0,r.KR)({filterFields:[],tableColumnList:{}}),C=(0,r.KR)(),R=(0,r.KR)([]),w=(0,r.KR)(!1),g=(0,r.KR)([{value:!0,label:"是"},{value:!1,label:"否"}]),V=(0,s.EW)(()=>({data:l.data||p.value.data||{},tableColumnList:l.tableColumnList||p.value.tableColumnList||[],dictList:l.dictList||p.value.dictList||[]})),L=(0,s.EW)(()=>{const e=R.value.every(e=>e.isShow===R.value[0].isShow);return!e}),x=()=>{l.dialog?l.dialog.cancel():h(!1)},I=()=>{y.value.tableColumnList={};const{fullData:e}=C.value.getTableData();e.forEach((e,a)=>{y.value.tableColumnList[e.columnName]={columnComment:e.columnComment,dictId:e.dictId,isShow:e.isShow,showOrder:a}}),l.dialog?l.dialog.submit(y.value):h(!0,V.value.data,y.value)},_=e=>{R.value.forEach(a=>{a.isShow=e})},W=()=>{const e=R.value.every(e=>e.isShow===R.value[0].isShow);e&&(this.selectAll=this.tableData[0].isShow)};return(0,s.sV)(()=>{y.value.tableColumnList=V.value.data.tableColumnList||{},y.value.filterFields=V.value.data.filterFields||[];let e=V.value.tableColumnList.map(e=>({columnName:e.columnName,columnComment:y.value.tableColumnList[e.columnName]?y.value.tableColumnList[e.columnName].columnComment:e.columnComment,dictId:y.value.tableColumnList[e.columnName]?y.value.tableColumnList[e.columnName].dictId:"",isShow:!y.value.tableColumnList[e.columnName]||y.value.tableColumnList[e.columnName].isShow,showOrder:y.value.tableColumnList[e.columnName]?y.value.tableColumnList[e.columnName].showOrder:void 0}));e.sort((e,a)=>void 0===e.showOrder&&void 0===a.showOrder?0:void 0===e.showOrder?1:void 0===a.showOrder?-1:e.showOrder-a.showOrder),R.value=e}),(e,a)=>{const l=c.P9,m=c.AV,f=d.S2,p=u.WK,h=o.dI,E=n.qi,F=i.uD,S=t.S2;return(0,s.uX)(),(0,s.CE)("div",b,[(0,s.bF)(f,{type:"flex",justify:"space-between",align:"middle"},{default:(0,s.k6)(()=>[a[3]||(a[3]=(0,s.Lk)("span",null,"表格配置",-1)),(0,s.bF)(m,{modelValue:(0,r.R1)(y).filterFields,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,r.R1)(y).filterFields=e),size:(0,r.R1)(k),clearable:"",filterable:"",multiple:"","collapse-tags":!0,placeholder:"请选择过滤字段",style:{width:"250px"}},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,r.R1)(V).tableColumnList,e=>((0,s.uX)(),(0,s.Wv)(l,{key:e.columnName,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue","size"])]),_:1,__:[3]}),(0,s.bF)(f,{style:{margin:"16px 0px"}},{default:(0,s.k6)(()=>[(0,s.bF)(F,{span:24},{default:(0,s.k6)(()=>[(0,s.bF)((0,r.R1)(v.CP),{ref_key:"table",ref:C,"header-cell-class-name":"table-header-gray",data:(0,r.R1)(R),"row-config":{height:50,isHover:!0,drag:!0},"virtual-y-config":{enabled:!0,gt:20},height:"400px"},{default:(0,s.k6)(()=>[(0,s.bF)((0,r.R1)(v.Wq),{type:"seq",width:"60px",title:"序号"}),(0,s.bF)((0,r.R1)(v.Wq),{title:"字段名称",field:"columnName","min-width":"150px"}),(0,s.bF)((0,r.R1)(v.Wq),{title:"显示名称",field:"columnComment","min-width":"150px"},{default:(0,s.k6)(e=>[(0,s.bF)(p,{modelValue:e.row.columnComment,"onUpdate:modelValue":a=>e.row.columnComment=a,size:"default",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),(0,s.bF)((0,r.R1)(v.Wq),{title:"绑定字典",field:"dictId","min-width":"150px"},{default:(0,s.k6)(e=>[(0,s.bF)(m,{modelValue:e.row.dictId,"onUpdate:modelValue":a=>e.row.dictId=a,size:"default",filterable:"",clearable:"",placeholder:"请选择字典"},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,r.R1)(V).dictList,e=>((0,s.uX)(),(0,s.Wv)(l,{key:e.dictId,label:e.dictName,value:e.dictId},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),(0,s.bF)((0,r.R1)(v.Wq),{title:"是否显示",field:"isShow",filters:(0,r.R1)(g),"min-width":"150px"},{header:(0,s.k6)(()=>[a[4]||(a[4]=(0,s.Lk)("span",null,"是否显示",-1)),(0,s.bF)(h,{style:{"margin-left":"6px"},modelValue:(0,r.R1)(w),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,r.i9)(w)?w.value=e:null),indeterminate:(0,r.R1)(L),onChange:_},null,8,["modelValue","indeterminate"])]),default:(0,s.k6)(e=>[(0,s.bF)(E,{modelValue:e.row.isShow,"onUpdate:modelValue":a=>e.row.isShow=a,onChange:W},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["filters"]),(0,s.bF)((0,r.R1)(v.Wq),{"drag-sort":"",width:"60px",title:"排序"})]),_:1},8,["data"])]),_:1})]),_:1}),(0,s.bF)(f,{type:"flex",justify:"end"},{default:(0,s.k6)(()=>[(0,s.bF)(S,{size:(0,r.R1)(k),onClick:a[2]||(a[2]=e=>x())},{default:(0,s.k6)(()=>a[5]||(a[5]=[(0,s.eW)("取消")])),_:1,__:[5]},8,["size"]),(0,s.bF)(S,{size:(0,r.R1)(k),type:"primary",onClick:I},{default:(0,s.k6)(()=>a[6]||(a[6]=[(0,s.eW)("确定")])),_:1,__:[6]},8,["size"])]),_:1})])}}});const h=p;var k=h},93889:function(e,a,l){l.d(a,{Z:function(){return s},x:function(){return r}});var t=l(3027),i=l(47378),n=l(20464),o=l(58501),u=l(92056),d=l(12235),c=l(24232);const s=(0,i.b_)({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:t.x},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:n.Ze},activeActionIcon:{type:n.Ze},activeIcon:{type:n.Ze},inactiveIcon:{type:n.Ze},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:(0,i.jq)(Function)},id:String,tabindex:{type:[String,Number]},...(0,o.l)(["ariaLabel"])}),r={[u.l4]:e=>(0,d.Lm)(e)||(0,c.Kg)(e)||(0,d.Et)(e),[u.YU]:e=>(0,d.Lm)(e)||(0,c.Kg)(e)||(0,d.Et)(e),[u.qs]:e=>(0,d.Lm)(e)||(0,c.Kg)(e)||(0,d.Et)(e)}}}]);