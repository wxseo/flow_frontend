(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[3393],{771:function(t){"use strict";t.exports=JSON.parse('{"请选择字段":"請選擇欄位","计数":"計數","合计":"合計","平均值":"平均值","最小值":"最小值","最大值":"最大值","此格式不支持该文本":"此格式不支援該文字","二维码生成失败":"二維碼產生失敗","字体行高":"字體行高","默认":"預設","字体":"字型","宋体":"宋體","微软雅黑":"微軟雅黑","字体大小":"字型大小","字体粗细":"字型粗細","更细":"更細","粗体":"粗體","粗体+":"粗體+","字间距":"字間距","左右对齐":"左右對齊","居左":"靠左","居中":"置中","居右":"靠右","两端对齐":"兩端對齊","标题显示隐藏":"標題顯示隱藏","显示":"顯示","隐藏":"隱藏","表格边框":"表格邊框","有边框":"有邊框","无边框":"無邊框","表头边框":"表頭邊框","左边框":"左邊框","右边框":"右邊框","左右边框":"左右邊框","上边框":"上邊框","下边框":"下邊框","上下边框":"上下邊框","表头单元格边框":"表頭儲存格邊框","表尾边框":"表尾邊框","表尾单元格边框":"表尾儲存格邊框","表头行高":"表頭列高","表头字体大小":"表頭字型大小","表头字体粗细":"表頭字型粗細","表体单元格边框":"表體儲存格邊框","表体行高":"表體列高","表头背景":"表頭背景","线宽":"線寬","边框大小":"邊框大小","条形码格式":"條碼格式","商品条码":"商品條碼","条形码":"條碼","物流":"物流","邮政和快递编码":"郵政和快遞編碼","医疗产品编码":"醫療產品編碼","不常用编码":"不常用編碼","附加组件":"附加元件","实验编码":"實驗編碼","条码类型":"條碼類型","二维码类型":"二維碼類型","二维码容错率":"二維碼容錯率","字体颜色":"字型顏色","文本修饰":"文字修飾","下划线":"底線","上划线":"上線","穿梭线":"穿梭線","字段名":"欄位名稱","请输入字段名":"請輸入欄位名稱","标题":"標題","请输入标题":"請輸入標題","测试数据":"測試資料","仅字段名称存在时有效":"僅欄位名稱存在時有效","位置坐标":"位置座標","X位置(左)":"X位置(左)","Y位置(上)":"Y位置(上)","同步":"同步","不同步":"不同步","宽高大小":"寬高大小","宽":"寬","高":"高","图片地址":"圖片網址","请输入图片地址":"請輸入圖片網址","选择":"選擇","图片缩放":"圖片縮放","等比":"等比","裁切":"裁切","填充":"填充","原始尺寸":"原始尺寸","颜色":"顏色","边框颜色":"邊框顏色","水印功能":"浮水印功能","水印内容":"浮水印內容","旋转角度":"旋轉角度","水平密度":"水平密度","垂直密度":"垂直密度","水印时间":"浮水印時間","时间格式":"時間格式","页码格式":"頁碼格式","显示页码":"顯示頁碼","页码续排":"頁碼續排","续排":"續排","重排":"重排","每行缩进":"每行縮排","显示规则":"顯示規則","始终隐藏":"始終隱藏","首页":"首頁","奇数页":"奇數頁","偶数页":"偶數頁","尾页":"尾頁","强制分页":"強制分頁","是":"是","否":"否","打印规则":"列印規則","保持奇数":"保持奇數","保持偶数":"保持偶數","分页规则":"分頁規則","不分页":"不分頁","移除段落左侧空白":"移除段落左側空白","移除":"移除","不移除":"不移除","首页页尾":"首頁頁尾","尾页页尾":"尾頁頁尾","偶数页页尾":"偶數頁頁尾","奇数页页尾":"奇數頁頁尾","位置固定":"位置固定","拖动方向":"拖動方向","横向":"橫向","竖向":"豎向","左偏移":"左偏移","偏移量":"偏移量","最低高度":"最低高度","文本过短或为空时的高度":"文本過短或為空時的高度","隐藏规则":"隱藏規則","表体行边框":"表體列邊框","元素层级":"元素層級","边框设置":"邊框設置","实线":"實線","虚线":"虛線","左内边距":"左內邊距","上内边距":"上內邊距","右内边距":"右內邊距","下内边距":"下內邊距","样式":"樣式","边框样式":"邊框樣式","长虚线":"長虛線","短虚线":"短虛線","背景颜色":"背景顏色","纸张方向(仅自定义纸质有效)":"紙張方向(僅自訂紙質有效)","纵向":"縱向","上下对齐":"上下對齊","垂直居中":"垂直置中","底部":"底部","文本换行":"文字換行","不换行":"不換行","不换行&隐藏":"不換行&隱藏","不换行&省略":"不換行&省略","打印类型":"列印類型","文本":"文字","二维码":"二維碼","字段类型":"欄位類型","默认(文本)":"預設(文字)","序号":"序號","图片":"圖片","单元格高度":"儲存格高度","条形码、二维码以及图片有效":"條碼、二維碼以及圖片有效","底部聚合标题":"底部彙總標題","底部聚合文本":"底部彙總文字","聚合类型":"彙總類型","底部聚合合并列数":"底部彙總合併列數","合并列数":"合併列數","底部聚合类型左右对齐":"底部彙總類型左右對齊","整数":"整數","保留%s位":"保留%s位","底部聚合小数":"底部彙總小數","底部聚合格式化函数":"底部彙總格式化函数","转大小写":"轉大小寫","底部聚合类型":"底部彙總類型","不聚合":"不彙總","仅文本":"僅文字","顶部偏移":"頂部偏移","一行多组":"一行多組","一行二列":"一行二欄","一行三列":"一行三欄","一行四列":"一行四欄","一行多组间隔":"一行多組間隔","表格头显示":"表格頭顯示","每页显示":"每頁顯示","首页显示":"首頁顯示","不显示":"不顯示","数据类型":"資料類型","日期时间":"日期時間","布尔":"布爾","格式":"格式","格式化函数":"格式化函數","样式函数":"樣式函數","行/列合并函数":"行/列合併函數","跨页合并是否清除":"跨頁合併是否清除","表格脚函数":"表格腳函數","分组字段函数":"分組欄位函數","分组头格式化函数":"分組頭格式化函數","分组头信息":"分組頭資訊","分组脚格式化函数":"分組腳格式化函數","分组脚信息":"分組腳資訊","多组表格脚函数":"多組表格腳函數","行样式函数":"行樣式函數","单元格左右对齐":"儲存格左右對齊","单元格上下对齐":"儲存格上下對齐","上":"上","中":"中","表格头单元格左右对齐":"表格頭儲存格左右對齐","单元格样式函数":"儲存格樣式函數","表格头样式函数":"表格頭樣式函數","单元格格式化函数":"儲存格格式化函數","单元格渲染函数":"儲存格渲染函數","自动补全":"自動完成","每页最大行数":"每頁最大行數","表格脚显示":"表格腳顯示","最后显示":"最後顯示","没有足够空间进行表格分页，请调整页眉/页脚线":"沒有足夠空間進行表格分頁,請調整頁眉/頁腳線","没有足够空间,显示下方内容, 可分页高度":"沒有足夠空間,顯示下方內容, 可分頁高度","列属性":"列屬性","在上方插入行":"在上方插入列","在下方插入行":"在下方插入列","向左方插入列":"向左方插入列","向右方插入列":"向右方插入列","删除行":"刪除列","删除列":"刪除列","对齐":"對齊","左":"左","左右居中":"左右置中","右":"右","下":"下","合并单元格":"合併儲存格","解开单元格":"解開儲存格","条形码生成失败":"條碼生成失敗","请检查 hiprint.init 的 provider 是否配置了":"請檢查 hiprint.init 的 provider 是否配置了","已移除\'tableCustom\',请替换使用\'table\'详情见更新记录":"已移除\'tableCustom\',請替換使用\'table\'詳情見更新記錄","确定":"確定","删除":"刪除","连接客户端失败":"連接客戶端失敗","基础":"基礎","边框":"邊框","列":"列","高级":"高級","面板排列":"面板排列","排列方式":"排列方式","垂直间距%s":"垂直間距%s","水平间距%s":"水平間距%s","边框圆角":"邊框圓角","显示码值":"顯示碼值"}')},4529:function(t,e,i){i(44114),window.QRCode,function(){function t(t){this.mode=i.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;e<n;e++){var o=[],r=this.data.charCodeAt(e);r>65536?(o[0]=240|(1835008&r)>>>18,o[1]=128|(258048&r)>>>12,o[2]=128|(4032&r)>>>6,o[3]=128|63&r):r>2048?(o[0]=224|(61440&r)>>>12,o[1]=128|(4032&r)>>>6,o[2]=128|63&r):r>128?(o[0]=192|(1984&r)>>>6,o[1]=128|63&r):o[0]=r,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,i=this.parsedData.length;e<i;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var i=new t(e);this.dataList.push(i),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,i),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var n=r.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e},createMovieClip:function(t,e,i){var n=t.createEmptyMovieClip(e,i),o=1;this.make();for(var r=0;r<this.modules.length;r++)for(var a=r*o,s=0;s<this.modules[r].length;s++){var l=s*o,p=this.modules[r][s];p&&(n.beginFill(0,100),n.moveTo(l,a),n.lineTo(l+o,a),n.lineTo(l+o,a+o),n.lineTo(l,a+o),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=r.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],o=t[i];if(null==this.modules[n][o])for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)this.modules[n+a][o+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},setupTypeNumber:function(t){for(var e=r.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;i<18;i++){n=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=this.errorCorrectLevel<<3|e,n=r.getBCHTypeInfo(i),o=0;o<15;o++){var a=!t&&1==(n>>o&1);o<6?this.modules[o][8]=a:o<8?this.modules[o+1][8]=a:this.modules[this.moduleCount-15+o][8]=a}for(o=0;o<15;o++){a=!t&&1==(n>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=a:o<9?this.modules[8][15-o-1+1]=a:this.modules[8][15-o-1]=a}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,o=7,a=0,s=this.moduleCount-1;s>0;s-=2){6==s&&s--;while(1){for(var l=0;l<2;l++)if(null==this.modules[n][s-l]){var p=!1;a<t.length&&(p=1==(t[a]>>>o&1));var d=r.getMask(e,n,s-l);d&&(p=!p),this.modules[n][s-l]=p,o--,-1==o&&(a++,o=7)}if(n+=i,n<0||this.moduleCount<=n){n-=i,i=-i;break}}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,i,n){for(var o=p.getRSBlocks(t,i),a=new d,s=0;s<n.length;s++){var l=n[s];a.put(l.mode,4),a.put(l.getLength(),r.getLengthInBits(l.mode,t)),l.write(a)}var c=0;for(s=0;s<o.length;s++)c+=o[s].dataCount;if(a.getLengthInBits()>8*c)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*c+")");a.getLengthInBits()+4<=8*c&&a.put(0,4);while(a.getLengthInBits()%8!=0)a.putBit(!1);while(1){if(a.getLengthInBits()>=8*c)break;if(a.put(e.PAD0,8),a.getLengthInBits()>=8*c)break;a.put(e.PAD1,8)}return e.createBytes(a,o)},e.createBytes=function(t,e){for(var i=0,n=0,o=0,a=new Array(e.length),s=new Array(e.length),p=0;p<e.length;p++){var d=e[p].dataCount,c=e[p].totalCount-d;n=Math.max(n,d),o=Math.max(o,c),a[p]=new Array(d);for(var h=0;h<a[p].length;h++)a[p][h]=255&t.buffer[h+i];i+=d;var u=r.getErrorCorrectPolynomial(c),f=new l(a[p],u.getLength()-1),g=f.mod(u);s[p]=new Array(u.getLength()-1);for(h=0;h<s[p].length;h++){var m=h+g.getLength()-s[p].length;s[p][h]=m>=0?g.get(m):0}}var _=0;for(h=0;h<e.length;h++)_+=e[h].totalCount;var v=new Array(_),y=0;for(h=0;h<n;h++)for(p=0;p<e.length;p++)h<a[p].length&&(v[y++]=a[p][h]);for(h=0;h<o;h++)for(p=0;p<e.length;p++)h<s[p].length&&(v[y++]=s[p][h]);return v};for(var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(r.getBCHDigit(e)-r.getBCHDigit(r.G15)>=0)e^=r.G15<<r.getBCHDigit(e)-r.getBCHDigit(r.G15);return(t<<10|e)^r.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(r.getBCHDigit(e)-r.getBCHDigit(r.G18)>=0)e^=r.G18<<r.getBCHDigit(e)-r.getBCHDigit(r.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return r.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case o.PATTERN000:return(e+i)%2==0;case o.PATTERN001:return e%2==0;case o.PATTERN010:return i%3==0;case o.PATTERN011:return(e+i)%3==0;case o.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case o.PATTERN101:return e*i%2+e*i%3==0;case o.PATTERN110:return(e*i%2+e*i%3)%2==0;case o.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new l([1],0),i=0;i<t;i++)e=e.multiply(new l([1,a.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0;n<e;n++)for(var o=0;o<e;o++){for(var r=0,a=t.isDark(n,o),s=-1;s<=1;s++)if(!(n+s<0||e<=n+s))for(var l=-1;l<=1;l++)o+l<0||e<=o+l||0==s&&0==l||a==t.isDark(n+s,o+l)&&r++;r>5&&(i+=3+r-5)}for(n=0;n<e-1;n++)for(o=0;o<e-1;o++){var p=0;t.isDark(n,o)&&p++,t.isDark(n+1,o)&&p++,t.isDark(n,o+1)&&p++,t.isDark(n+1,o+1)&&p++,0!=p&&4!=p||(i+=3)}for(n=0;n<e;n++)for(o=0;o<e-6;o++)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(i+=40);for(o=0;o<e;o++)for(n=0;n<e-6;n++)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(i+=40);var d=0;for(o=0;o<e;o++)for(n=0;n<e;n++)t.isDark(n,o)&&d++;var c=Math.abs(100*d/e/e-50)/5;return i+=10*c,i}},a={glog:function(t){if(t<1)throw new Error("glog("+t+")");return a.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return a.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},s=0;s<8;s++)a.EXP_TABLE[s]=1<<s;for(s=8;s<256;s++)a.EXP_TABLE[s]=a.EXP_TABLE[s-4]^a.EXP_TABLE[s-5]^a.EXP_TABLE[s-6]^a.EXP_TABLE[s-8];for(s=0;s<255;s++)a.LOG_TABLE[a.EXP_TABLE[s]]=s;function l(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var i=0;while(i<t.length&&0==t[i])i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function p(t,e){this.totalCount=t,this.dataCount=e}function d(){this.buffer=[],this.length=0}l.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=a.gexp(a.glog(this.get(i))+a.glog(t.get(n)));return new l(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=a.glog(this.get(0))-a.glog(t.get(0)),i=new Array(this.getLength()),n=0;n<this.getLength();n++)i[n]=this.get(n);for(n=0;n<t.getLength();n++)i[n]^=a.gexp(a.glog(t.get(n))+e);return new l(i,0).mod(t)}},p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p.getRSBlocks=function(t,e){var i=p.getRsBlockTable(t,e);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=i.length/3,o=[],r=0;r<n;r++)for(var a=i[3*r+0],s=i[3*r+1],l=i[3*r+2],d=0;d<a;d++)o.push(new p(s,l));return o},p.getRsBlockTable=function(t,e){switch(e){case n.L:return p.RS_BLOCK_TABLE[4*(t-1)+0];case n.M:return p.RS_BLOCK_TABLE[4*(t-1)+1];case n.Q:return p.RS_BLOCK_TABLE[4*(t-1)+2];case n.H:return p.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},d.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var c=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function h(){return"undefined"!=typeof CanvasRenderingContext2D}function u(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var i=e.toString().match(/android ([0-9]\.[0-9])/i);i&&i[1]&&(t=parseFloat(i[1]))}return t}var f=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){var e=this._htOption,i=this._el,n=t.getModuleCount();Math.floor(e.width/n),Math.floor(e.height/n);function o(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg",t);for(var n in e)e.hasOwnProperty(n)&&i.setAttribute(n,e[n]);return i}this.clear();var r=o("svg",{viewBox:"0 0 "+String(n)+" "+String(n),width:"100%",height:"100%",fill:e.colorLight});r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(r),r.appendChild(o("rect",{fill:e.colorLight,width:"100%",height:"100%"})),r.appendChild(o("rect",{fill:e.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<n;a++)for(var s=0;s<n;s++)if(t.isDark(a,s)){var l=o("use",{x:String(s),y:String(a)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),r.appendChild(l)}},t.prototype.clear=function(){while(this._el.hasChildNodes())this._el.removeChild(this._el.lastChild)},t}(window),g="svg"===document.documentElement.tagName.toLowerCase(),m=g?f:h()?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this&&this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,i=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,n,o,r,a,s,l,p,d){if("nodeName"in t&&/img/i.test(t.nodeName))for(var c=arguments.length-1;c>=1;c--)arguments[c]=arguments[c]*e;else"undefined"==typeof p&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);i.apply(this,arguments)}}function n(t,e){var i=this;if(i._fFail=e,i._fSuccess=t,null===i._bSupportDataURI){var n=document.createElement("img"),o=function(){i._bSupportDataURI=!1,i._fFail&&i._fFail.call(i)},r=function(){i._bSupportDataURI=!0,i._fSuccess&&i._fSuccess.call(i)};return n.onabort=o,n.onerror=o,n.onload=r,void(n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===i._bSupportDataURI&&i._fSuccess?i._fSuccess.call(i):!1===i._bSupportDataURI&&i._fFail&&i._fFail.call(i)}var o=function(t,e){this._bIsPainted=!1,this._android=u(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return o.prototype.draw=function(t){var e=this._elImage,i=this._oContext,n=this._htOption,o=t.getModuleCount(),r=n.width/o,a=n.height/o,s=Math.round(r),l=Math.round(a);e.style.display="none",this.clear();for(var p=0;p<o;p++)for(var d=0;d<o;d++){var c=t.isDark(p,d),h=d*r,u=p*a;i.strokeStyle=c?n.colorDark:n.colorLight,i.lineWidth=1,i.fillStyle=c?n.colorDark:n.colorLight,i.fillRect(h,u,r,a),i.strokeRect(Math.floor(h)+.5,Math.floor(u)+.5,s,l),i.strokeRect(Math.ceil(h)-.5,Math.ceil(u)-.5,s,l)}this._bIsPainted=!0},o.prototype.makeImage=function(){this._bIsPainted&&n.call(this,t)},o.prototype.isPainted=function(){return this._bIsPainted},o.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},o.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},o}(window):function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,i=this._el,n=t.getModuleCount(),o=Math.floor(e.width/n),r=Math.floor(e.height/n),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<n;s++){a.push("<tr>");for(var l=0;l<n;l++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+o+"px;height:"+r+"px;background-color:"+(t.isDark(s,l)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),i.innerHTML=a.join("");var p=i.childNodes[0],d=(e.width-p.offsetWidth)/2,c=(e.height-p.offsetHeight)/2;d>0&&c>0&&(p.style.margin=c+"px "+d+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}(window);function _(t,e){for(var i=1,o=v(t),r=0,a=c.length;r<=a;r++){var s=0;switch(e){case n.L:s=c[r][0];break;case n.M:s=c[r][1];break;case n.Q:s=c[r][2];break;case n.H:s=c[r][3];break}if(o<=s)break;i++}if(i>c.length)throw new Error("Too long data");return i}function v(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}var y=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.H},"string"===typeof e&&(e={text:e}),e)for(var i in e)this._htOption[i]=e[i];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(m=f),this._android=u(),this._el=t,this._oQRCode=null,this._oDrawing=new m(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)};y.prototype.makeCode=function(t){this._oQRCode=new e(_(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},y.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},y.prototype.clear=function(){this._oDrawing.clear()},y.CorrectLevel=n,window.QRCode=y}(window)},9384:function(){(function(t){function e(t,e){try{if(t.focus(),n()||i())try{t.contentWindow.document.execCommand("print",!1,null)}catch(o){t.contentWindow.print()}else t.contentWindow.print();e.callback&&e.callback()}catch(r){console.log(r)}}function i(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode}function n(){return!i()&&!!window.StyleMedia}function o(t,e,i){void 0===i&&(i=0);for(var n=t.getElementsByTagName("img"),r=!0,a=0;a<n.length;a++){var s=n[a];s.src&&s.src!==window.location.href&&-1==s.src.indexOf("base64")&&(s&&"undefined"!==typeof s.naturalWidth&&0!==s.naturalWidth&&s.complete||s.complete||(r=!1))}i++,!r&&i<10?setTimeout(function(){o(t,e,i)},500):e()}t.fn.hiwprint=function(i){var n=document.getElementById("hiwprint_iframe");n&&n.parentNode.removeChild(n);var r=t.extend({},t.fn.hiwprint.defaults,i),a=this,s=t('<iframe id="hiwprint_iframe"  style="visibility: hidden; height: 0; width: 0; position: absolute;"></iframe>'),l="";r.importCss&&(r.styleHandler&&(l+=r.styleHandler()),t("link[media=print]").length>0&&t("link[media=print]").each(function(){t(this).attr("href").indexOf("print-lock.css")>=0&&(l+='<link rel="stylesheet" type="text/css" media="print" href="'+t(this).attr("href")+'">',l+='<link rel="stylesheet" type="text/css" href="'+t(this).attr("href")+'">')})),s[0].srcdoc='<!DOCTYPE html><html><head><title></title><meta charset="UTF-8">'+l+"</head><body></body></html>",s[0].onload=function(){var t=s[0].contentWindow||s[0].contentDocument;t.document&&(t=t.document),s.attr("srcdoc")||t.write('<!DOCTYPE html><html><head><title></title><meta charset="UTF-8">'+l+"</head><body></body></html>"),r.printContainer?t.body.innerHTML=a[0].outerHTML:t.body.innerHTML=a.html(),o(t,function(){e(s[0],r)})},s.appendTo("body")},t.fn.hiwprint.defaults={importCss:!0,printContainer:!0,callback:null,styleHandler:null}})(jQuery)},10739:function(t){"use strict";t.exports=JSON.parse('{"请选择字段":"Please select field","计数":"Count","合计":"Sum","平均值":"Average","最小值":"Min","最大值":"Max","此格式不支持该文本":"This format does not support this text","二维码生成失败":"QR code generation failed","字体行高":"Font Height","默认":"Default","字体":"Font","宋体":"SimSun","微软雅黑":"Microsoft YaHei","字体大小":"Font Size","字体粗细":"Font Weight","更细":"Lighter","粗体":"Bold","粗体+":"Bolder","字间距":"Letter Spacing","左右对齐":"Justified","居左":"Left","居中":"Center","居右":"Right","两端对齐":"Justified","标题显示隐藏":"Title Display","显示":"Show","隐藏":"Hide","表格边框":"Table Border","有边框":"Yes","无边框":"No","表头边框":"Header Border","左边框":"Left","右边框":"Right","左右边框":"Left & Right","上边框":"Top","下边框":"Bottom","上下边框":"Top & Bottom","表头单元格边框":"Header Cell Border","表尾边框":"Footer Border","表尾单元格边框":"Footer Cell Border","表头行高":"Header Row Height","表头字体大小":"Header Font Size","表头字体粗细":"Header Font Weight","表体单元格边框":"Body Cell Border","表体行高":"Body Row Height","表头背景":"Header Background","线宽":"Line Width","边框大小":"Border Size","条形码格式":"Barcode Type","商品条码":"Goods Barcode","条形码":"Barcode","物流":"Logistics","邮政和快递编码":"Postal and Courier Code","医疗产品编码":"Medical Product Code","不常用编码":"Uncommon Code","附加组件":"Additional Component","实验编码":"Experimental Code","条码类型":"Barcode Type","二维码类型":"QRCode Type","二维码容错率":"QRCode ErrorCorrectionLevel","字体颜色":"Font Color","文本修饰":"Text Decoration","下划线":"Underline","上划线":"Overline","穿梭线":"Line Through","字段名":"Field","请输入字段名":"Please enter field","标题":"Title","请输入标题":"Please enter title","测试数据":"Test Data","仅字段名称存在时有效":"Only valid when field name exists","位置坐标":"Position Coordinate","X位置(左)":"X Position(Left)","Y位置(上)":"Y Position(Top)","同步":"Sync","不同步":"Unsync","宽高大小":"Width & Height","宽":"Width","高":"Height","图片地址":"Image URL","请输入图片地址":"Please enter image URL","选择":"Choose","图片缩放":"Image Scale","等比":"Proportional","裁切":"Crop","填充":"Fill","原始尺寸":"Original Size","颜色":"Color","边框颜色":"Border Color","水印功能":"Watermark","水印内容":"Watermark Content","旋转角度":"Rotate Angle","水平密度":"Horizontal Density","垂直密度":"Vertical Density","水印时间":"Watermark Time","时间格式":"Time Format","页码格式":"Page Number Format","显示页码":"Show Page Number","页码续排":"Page Number Continue","续排":"Continue","重排":"Reset","每行缩进":"Indent","显示规则":"Display Rule","始终隐藏":"Always Hide","首页":"First Page","奇数页":"Odd Page","偶数页":"Even Page","尾页":"Last Page","强制分页":"Force Page Break","是":"Yes","否":"No","打印规则":"Print Rule","保持奇数":"Keep Odd","保持偶数":"Keep Even","分页规则":"Page Break Rule","不分页":"No Page Break","移除段落左侧空白":"Remove Left Blank","移除":"Remove","不移除":"No Remove","首页页尾":"First Page","尾页页尾":"Last Page","偶数页页尾":"Even Page","奇数页页尾":"Odd Page","位置固定":"Fixed Position","拖动方向":"Drag Direction","横向":"Horizontal","竖向":"Vertical","左偏移":"Left Offset","偏移量":"Offset","最低高度":"Min Height","文本过短或为空时的高度":"Height when text is too short or empty","隐藏规则":"Hide Rule","表体行边框":"Body Row Border","元素层级":"Zindex","边框设置":"Border Setting","实线":"Solid","虚线":"Dashed","左内边距":"Left Padding","上内边距":"Top Padding","右内边距":"Right Padding","下内边距":"Bottom Padding","样式":"Style","边框样式":"Border Style","长虚线":"Long Dashed","短虚线":"Short Dashed","背景颜色":"Background Color","纸张方向(仅自定义纸质有效)":"Paper Orientation (Only Custom Paper)","纵向":"Portrait","上下对齐":"Vertical Align","垂直居中":"Middle","底部":"Bottom","文本换行":"Text Wrap","不换行":"No Wrap","不换行&隐藏":"No Wrap & Hide","不换行&省略":"No Wrap & Ellipsis","打印类型":"Print Type","文本":"Text","二维码":"QRCode","字段类型":"Field Type","默认(文本)":"Default(Text)","序号":"Index","图片":"Image","单元格高度":"Cell Height","条形码、二维码以及图片有效":"Barcode, QRCode and Image are valid","底部聚合标题":"Summary Title","底部聚合文本":"Summary Text","聚合类型":"Summary Type","底部聚合合并列数":"Summary Colspan","合并列数":"Colspan","底部聚合类型左右对齐":"Summary Align","整数":"Integer","保留%s位":"Keep %s Decimal","底部聚合小数":"Summary Decimal","底部聚合格式化函数":"Summary Format Function","转大小写":"UpperCase or LowerCase","底部聚合类型":"Summary Type","不聚合":"No Summary","仅文本":"Text Only","顶部偏移":"Top Offset","一行多组":"Multi Group","一行二列":"One Line Two Column","一行三列":"One Line Three Column","一行四列":"One Line Four Column","一行多组间隔":"Multi Group Spacing","表格头显示":"Table Header Display","每页显示":"Display Per Page","首页显示":"Display On First Page","不显示":"No Display","数据类型":"Data Type","日期时间":"DateTime","布尔":"Boolean","格式":"Format","格式化函数":"Format Function","样式函数":"Style Function","行/列合并函数":"Row/Column Merge Function","跨页合并是否清除":"Clear Page Break Merge","表格脚函数":"Table Footer Function","分组字段函数":"Group Field Function","分组头格式化函数":"Group Header Format Function","分组头信息":"Group Header Info","分组脚格式化函数":"Group Footer Format Function","分组脚信息":"Group Footer Info","多组表格脚函数":"Multi Group Table Footer Function","行样式函数":"Row Style Function","单元格左右对齐":"Cell Align","单元格上下对齐":"Cell Vertical Align","上":"Top","中":"Middle","表格头单元格左右对齐":"Header Cell Align","单元格样式函数":"Cell Style Function","表格头样式函数":"Header Style Function","单元格格式化函数":"Cell Format Function","单元格渲染函数":"Cell Render Function","自动补全":"Auto Complete","每页最大行数":"Max Rows Per Page","表格脚显示":"Table Footer Display","最后显示":"Display On Last Page","没有足够空间进行表格分页，请调整页眉/页脚线":"There is not enough space for table pagination, please adjust the header/footer line","没有足够空间,显示下方内容, 可分页高度":"Not enough space, display the content below, the height can be paginated:","列属性":"Column Property","在上方插入行":"Insert Row Above","在下方插入行":"Insert Row Below","向左方插入列":"Insert Column Left","向右方插入列":"Insert Column Right","删除行":"Delete Row","删除列":"Delete Column","对齐":"Align","左":"Left","左右居中":"Center","右":"Right","下":"Bottom","合并单元格":"Merge Cell","解开单元格":"Unmerge Cell","条形码生成失败":"Barcode generation failed","请检查 hiprint.init 的 provider 是否配置了":"Please check if the provider of hiprint.init is configured","已移除\'tableCustom\',请替换使用\'table\'详情见更新记录":"The \'tableCustom\' has been removed, please replace it with \'table\', see the update log for details","确定":"Confirm","删除":"Delete","连接客户端失败":"Failed to connect to the client","基础":"Basic","边框":"Border","列":"Column","高级":"Advanced","面板排列":"Panel Arrangement","排列方式":"Arrangement Method","垂直间距%s":"Vertical Spacing %s","水平间距%s":"Horizontal Spacing %s","边框圆角":"Border Radius","显示码值":"Display Code value"}')},12724:function(t){"use strict";t.exports=JSON.parse('{"请选择字段":"Por favor, selecciona un campo","计数":"Recuento","合计":"Suma","平均值":"Promedio","最小值":"Mínimo","最大值":"Máximo","此格式不支持该文本":"Este formato no es compatible con este texto","二维码生成失败":"Error al generar código QR","字体行高":"Altura de fuente","默认":"Predeterminado","字体":"Fuente","宋体":"SimSun","微软雅黑":"Microsoft YaHei","字体大小":"Tamaño de fuente","字体粗细":"Grosor de fuente","更细":"Más fino","粗体":"Negrita","粗体+":"Más negrita","字间距":"Espacio entre letras","左右对齐":"Justificado","居左":"Izquierda","居中":"Centrado","居右":"Derecha","两端对齐":"Justificado","标题显示隐藏":"Visualización de título","显示":"Mostrar","隐藏":"Ocultar","表格边框":"Borde de tabla","有边框":"Sí","无边框":"No","表头边框":"Borde de encabezado","左边框":"Izquierda","右边框":"Derecha","左右边框":"Izquierda y derecha","上边框":"Superior","下边框":"Inferior","上下边框":"Superior e inferior","表头单元格边框":"Borde de celda de encabezado","表尾边框":"Borde de pie de página","表尾单元格边框":"Borde de celda de pie de página","表头行高":"Altura de fila de encabezado","表头字体大小":"Tamaño de fuente de encabezado","表头字体粗细":"Grosor de fuente de encabezado","表体单元格边框":"Borde de celda de cuerpo","表体行高":"Altura de fila de cuerpo","表头背景":"Fondo de encabezado","线宽":"Ancho de línea","边框大小":"Tamaño de borde","条形码格式":"Tipo de código de barras","商品条码":"Código de barras de producto","条形码":"Código de barras","物流":"Logística","邮政和快递编码":"Código postal y de mensajería","医疗产品编码":"Código de producto médico","不常用编码":"Código inusual","附加组件":"Componente adicional","实验编码":"Código experimental","条码类型":"Tipo de código de barras","二维码类型":"Tipo de código QR","二维码容错率":"Nivel de corrección de errores de código QR","字体颜色":"Color de fuente","文本修饰":"Decoración de texto","下划线":"Subrayado","上划线":"Tachado","穿梭线":"Tachado","字段名":"Nombre de campo","请输入字段名":"Introduce el nombre del campo","标题":"Título","请输入标题":"Introduce el título","测试数据":"Datos de prueba","仅字段名称存在时有效":"Válido solo cuando existe el nombre de campo","位置坐标":"Coordenada de posición","X位置(左)":"Posición X (izquierda)","Y位置(上)":"Posición Y (superior)","同步":"Sincronizar","不同步":"No sincronizar","宽高大小":"Ancho y alto","宽":"Ancho","高":"Alto","图片地址":"URL de imagen","请输入图片地址":"Introduce la URL de la imagen","选择":"Elegir","图片缩放":"Escala de imagen","等比":"Proporcional","裁切":"Recortar","填充":"Rellenar","原始尺寸":"Tamaño original","颜色":"Color","边框颜色":"Color de borde","水印功能":"Marca de agua","水印内容":"Contenido de la marca de agua","旋转角度":"Ángulo de rotación","水平密度":"Densidad horizontal","垂直密度":"Densidad vertical","水印时间":"Hora de la marca de agua","时间格式":"Formato de hora","页码格式":"Formato del número de página","显示页码":"Mostrar número de página","页码续排":"Continuar con el número de página","续排":"Continuar","重排":"Reiniciar","每行缩进":"Sangría","显示规则":"Regla de visualización","始终隐藏":"Ocultar siempre","首页":"Primera página","奇数页":"Páginas impares","偶数页":"Páginas pares","尾页":"Última página","强制分页":"Forzar salto de página","是":"Sí","否":"No","打印规则":"Regla de impresión","保持奇数":"Mantener impares","保持偶数":"Mantener pares","分页规则":"Regla de salto de página","不分页":"Sin salto de página","移除段落左侧空白":"Eliminar espacio en blanco izquierdo","移除":"Eliminar","不移除":"No eliminar","首页页尾":"Pie de página de primera página","尾页页尾":"Pie de página de última página","偶数页页尾":"Pie de página en páginas pares","奇数页页尾":"Pie de página en páginas impares","位置固定":"Posición fija","拖动方向":"Dirección de arrastre","横向":"Horizontal","竖向":"Vertical","左偏移":"Desplazamiento izquierdo","偏移量":"Desplazamiento","最低高度":"Altura mínima","文本过短或为空时的高度":"Altura cuando el texto es demasiado corto o está vacío","隐藏规则":"Regla para ocultar","表体行边框":"Borde de fila de cuerpo","元素层级":"Índice Z","边框设置":"Ajustes de borde","实线":"Sólido","虚线":"Discontinuo","左内边距":"Relleno izquierdo","上内边距":"Relleno superior","右内边距":"Relleno derecho","下内边距":"Relleno inferior","样式":"Estilo","边框样式":"Estilo de borde","长虚线":"Discontinuo largo","短虚线":"Discontinuo corto","背景颜色":"Color de fondo","纸张方向(仅自定义纸质有效)":"Orientación del papel (solo papel personalizado)","纵向":"Vertical","上下对齐":"Alineación vertical","垂直居中":"Centrado vertical","底部":"Inferior","文本换行":"Ajuste de texto","不换行":"Sin ajuste","不换行&隐藏":"Sin ajuste y ocultar","不换行&省略":"Sin ajuste y puntos suspensivos","打印类型":"Tipo de impresión","文本":"Texto","二维码":"Código QR","字段类型":"Tipo de campo","默认(文本)":"Predeterminado (texto)","序号":"Índice","图片":"Imagen","单元格高度":"Altura de celda","条形码、二维码以及图片有效":"Código de barras, código QR e imagen son válidos","底部聚合标题":"Título de resumen","底部聚合文本":"Texto de resumen","聚合类型":"Tipo de resumen","底部聚合合并列数":"Columnas combinadas de resumen","合并列数":"Columnas combinadas","底部聚合类型左右对齐":"Alineación de resumen","整数":"Entero","保留%s位":"Mantener %s decimales","底部聚合小数":"Decimales en resumen","转大小写":"Mayúsculas o minúsculas","底部聚合类型":"Tipo de resumen","不聚合":"Sin resumen","仅文本":"Solo texto","顶部偏移":"Desplazamiento superior","一行多组":"Varios grupos en una línea","一行二列":"Una línea dos columnas","一行三列":"Una línea tres columnas","一行四列":"Una línea cuatro columnas","一行多组间隔":"Espaciado de varios grupos en una línea","表格头显示":"Visualización de encabezado de tabla","每页显示":"Mostrar por página","首页显示":"Mostrar en primera página","不显示":"No mostrar","数据类型":"Tipo de dato","日期时间":"Fecha y hora","布尔":"Booleano","格式":"Formato","格式化函数":"Función de formato","样式函数":"Función de estilo","行/列合并函数":"Función combinar fila/columna","跨页合并是否清除":"¿Borrar combinación entre páginas?","表格脚函数":"Función de pie de tabla","分组字段函数":"Función de campo de agrupación","分组头格式化函数":"Función de formato de encabezado de grupo","分组头信息":"Información de encabezado de grupo","分组脚格式化函数":"Función de formato de pie de grupo","分组脚信息":"Información de pie de grupo","多组表格脚函数":"Función de pie de tabla de varios grupos","行样式函数":"Función de estilo de fila","单元格左右对齐":"Alineación de celda","单元格上下对齐":"Alineación vertical de celda","上":"Superior","中":"Centro","表格头单元格左右对齐":"Alineación de celda de encabezado","单元格样式函数":"Función de estilo de celda","表格头样式函数":"Función de estilo de encabezado","单元格格式化函数":"Función de formato de celda","单元格渲染函数":"Función de representación de celda","自动补全":"Autocompletar","每页最大行数":"Filas máximo por página","表格脚显示":"Visualización de pie de tabla","最后显示":"Mostrar en última página","没有足够空间进行表格分页，请调整页眉/页脚线":"No hay suficiente espacio para la paginación de tablas, ajuste la línea de encabezado/pie de página","没有足够空间,显示下方内容, 可分页高度":"No hay suficiente espacio, muestre el contenido a continuación, se puede paginar la altura:","列属性":"Propiedad de columna","在上方插入行":"Insertar fila encima","在下方插入行":"Insertar fila debajo","向左方插入列":"Insertar columna a la izquierda","向右方插入列":"Insertar columna a la derecha","删除行":"Eliminar fila","删除列":"Eliminar columna","对齐":"Alinear","左":"Izquierda","左右居中":"Centrar","右":"Derecha","下":"Inferior","合并单元格":"Combinar celda","解开单元格":"Descombinar celda","条形码生成失败":"Error al generar código de barras","请检查 hiprint.init 的 provider 是否配置了":"Verifique si se ha configurado el proveedor de hiprint.init","已移除\'tableCustom\',请替换使用\'table\'详情见更新记录":"Se ha eliminado \'tableCustom\', reemplácelo por \'table\', consulte el registro de actualización para obtener detalles","确定":"Confirmar","删除":"Eliminar","连接客户端失败":"Error al conectarse al cliente","基础":"Básico","边框":"Borde","列":"Columna","高级":"Avanzado","面板排列":"Disposición del panel","排列方式":"Método de disposición","垂直间距%s":"Espaciado Vertical %s","水平间距%s":"Espaciado Horizontal %s","边框圆角":"Radio de Borde","显示码值":"Mostrar Valor del Código"}')},18870:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return R}});var n=i(54880),o=(i(97042),i(60713),i(69225),i(65451)),r=(i(63390),i(25136)),a=(i(69957),i(44114),i(18111),i(7588),i(61701),i(14603),i(47566),i(98721),i(56768)),s=i(90144),l=i(24232),p=i(45130),d=i(94373),c=i(26695),h=i(57477),u=i(44003),f=i.n(u),g=i(27007),m=i(84068),_=i(18384),v=i(71066);i(66874);const y=["colspan","rowspan"],b=["src"],E=["src"];function w(t,e,i,n,o,r){return(0,a.uX)(),(0,a.CE)("td",{colspan:i.itemCell.mergeCellColSpan||1,rowspan:i.itemCell.mergeCellRowSpan||1,style:(0,l.Tr)({"border-top":i.itemCell.hasTopBorder?"1px solid"+i.itemCell.topBorderColor:"0","border-right":i.itemCell.hasRightBorder?"1px solid"+i.itemCell.rightBorderColor:"0","border-bottom":i.itemCell.hasBottomBorder?"1px solid"+i.itemCell.bottomBorderColor:"0","border-left":i.itemCell.hasLeftBorder?"1px solid"+i.itemCell.leftBorderColor:"0","background-color":i.itemCell.backgroundColor?i.itemCell.backgroundColor+" !important":void 0})},[(0,a.Lk)("div",{style:(0,l.Tr)([{display:"flex","align-items":"center","justify-content":"center","word-break":"break-all",overflow:"hidden"},{width:i.itemCell.mergeCell&&i.itemCell.mergeCellColSpan>1?r.getWidth(i.itemCell.colIndex,i.itemCell.mergeCellColSpan)+"px":i.itemCell.colWidth+"px",height:i.itemCell.imageCell&&i.itemCell.mergeCellRowSpan>1?r.getHeight(i.itemRow.rowIndex,i.itemCell.mergeCellRowSpan)+"px":i.itemRow.rowHeight+"px","font-weight":i.itemCell.bold?"bold":"normal","font-style":i.itemCell.italic?"italic":"normal","font-size":i.itemCell.fontSize?i.itemCell.fontSize+"px":void 0,"text-decoration":r.getTextdecoration(i.itemCell),color:i.itemCell.fontColor,display:"flex","justify-content":o.justifyContent[i.itemCell.horizontalType]||"center","align-items":o.alignItems[i.itemCell.verticalType]||"center"}])},[i.itemCell.imageCell?((0,a.uX)(),(0,a.CE)("img",{key:0,src:r.getImgUrl(i.itemCell.data),alt:"",style:{width:"100%",height:"100%"}},null,8,b)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,l.v_)(i.itemCell.data),1)],64)),i.itemCell.cellValue&&i.itemCell.cellValue.watermark&&i.itemCell.cellValue.watermarkData?((0,a.uX)(),(0,a.CE)("img",{key:2,src:r.getImgUrl(i.itemCell.cellValue.watermarkData),alt:"",style:(0,l.Tr)([{"z-index":"1"},{width:i.itemCell.cellValue.watermarkWidth+"px",height:i.itemCell.cellValue.watermarkHeight+"px",position:"absolute",top:r.getWatermarkTop(i.itemCell),left:r.getWatermarkLeft(i.itemCell)}])},null,12,E)):(0,a.Q3)("",!0)],4)],12,y)}var P={name:"previewPrintCell.vue",props:{itemCell:{type:Object,require:!0},itemRow:{type:Object,require:!0},rows:{type:Array,require:!0}},data(){return{justifyContent:{0:"center",1:"flex-start",2:"flex-end"},alignItems:{0:"center",1:"flex-start",2:"flex-end"}}},methods:{getImgUrl(t){null!=t&&""!==t&&"/"===t.substr(0,1)&&(t=t.substr(1));let e="./"+t+"&Authorization="+(0,g.gf)();return e},getWidth(t,e){let i=0;for(let n=t;n<t+e;n++)i+=Number(this.itemRow.cells[n].colWidth);return i},getHeight(t,e){let i=0;for(let n=t;n<t+e;n++)i+=Number(this.rows[n].rowHeight);return i},getTextdecoration(t){return t.cancelLine&&t.underline?"line-through underline":t.cancelLine?"line-through":t.underline?"underline":void 0},getCellX(t){let e=0;for(let i=0;i<t.colIndex;i++)e+=Number(this.itemRow.cells[i].colWidth)+3;return e},getCellY(t){let e=0;for(let i=0;i<t.rowIndex;i++)e+=Number(this.rows[i].rowHeight)+3;return e},getWatermarkTop(t){let e=this.getCellY(t);return e+t.cellValue.watermarkOffsetY+"px"},getWatermarkLeft(t){let e=this.getCellX(t);return e+t.cellValue.watermarkOffsetX+"px"}},mounted(){}},T=i(71241);const C=(0,T.A)(P,[["render",w]]);var x=C;const O={class:"preview-print-spread-sheet"},D=["colspan","height"];var M=(0,a.pM)({__name:"previewPrintSpreadSheet",props:{printId:{},printName:{},printParam:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(t){const e=t,{thirdParams:i,onCloseThirdDialog:u}=(0,v.P)(e),y=(0,s.KR)(1),b=((0,s.KR)(),{styles:[],merges:[],rows:{},cols:{}}),E=((0,s.KR)(),(0,s.KR)([])),{buildGetUrl:w}=(0,m.a)(),P=(0,s.KR)({rows:[],maxCol:0}),T=(0,s.Kh)({width:"",height:"",topMargin:"",leftMargin:"",rightMargin:"",bottomMargin:"",landscape:!1}),C=(0,s.KR)(!0),M=async()=>{await d.A.post(w(_.x+"/report/reportPrint/preview"),{printId:e.printId||i.value.printId,printParam:e.printParam||i.value.printParam,renderType:3},{headers:{Authorization:(0,g.gf)()}}).then(t=>{200===t.status?(P.value=t.data.reportSheet,I(t.data)):c.nk.error("请求失败！")}).catch(()=>{c.nk.error("请求失败！")})},I=async t=>{console.log("data",t);const e=t.reportSheet?.rows;let i=-1,n={};e?.forEach((t,e)=>{let o={};t.cells.forEach(async(r,a)=>{0===e&&(n[a]={width:r.colWidth});let s="",l="text",p="";if(r.imageCell&&r.data){l="image",s="";const t=w(r.data+"&Authorization="+(0,g.gf)());E.value.push({url:t,row:e,col:a})}else s=r?.data;if(!r.emptyCell){i++;let d={border:{bottom:r?.hasBottomBorder?["medium",r.bottomBorderColor]:null,top:r?.hasTopBorder?["medium",r.topBorderColor]:null,left:r?.hasLeftBorder?["medium",r.leftBorderColor]:null,right:r?.hasRightBorder?["medium",r.rightBorderColor]:null},underline:r?.underline,valign:0===r?.verticalType?"middle":1===r?.verticalType?"top":"bottom",align:0===r?.horizontalType?"center":1===r?.horizontalType?"left":"right",font:{size:r.fontSize,bold:r.bold,italic:r.italic,name:"微软雅黑"}};if(b.styles[i]=d,o[a]={text:s,type:l,value:p,style:i},"image"===o[a].type&&(o[a].imagewidth=n[a].width-2,o[a].imageheight=t.rowHeight-2,o[a].top=0,o[a].left=0),r.mergeCell&&!r.emptyCell){o[a].merge=[r.mergeCellRowSpan-1,r.mergeCellColSpan-1];let t=S(a)+(e+1)+":"+S(a+r.mergeCellColSpan-1)+(r.mergeCellRowSpan+r.mergeCellTopRow);b.merges.push(t.toString())}}}),b.rows[e]={cells:o,height:t.rowHeight}}),await Promise.all(E.value.map(async t=>{const e=await R(t.url);return b.rows[t.row].cells[t.col].value=e,e})),b.cols=n},R=t=>new Promise(e=>{const i=new Image;i.crossOrigin="Anonymous",i.src=t,i.onload=()=>{const t=document.createElement("CANVAS");t.width=i.width,t.height=i.height,t.getContext("2d").drawImage(i,0,0);const n=t.toDataURL("image/jpeg");e(n)},i.onerror=()=>{e({message:"相片处理失败"})}}),S=t=>{let e=String.fromCharCode(65+t);return e},B=()=>{e.dialog?e.dialog.cancel():u(!0)},A=()=>{d.A.post(w(_.x+"/report/reportPrint/preview"),{printId:e.printId,printParam:e.printParam,renderType:2},{headers:{Authorization:(0,g.gf)()},responseType:"blob"}).then(t=>{200===t.status&&t.data instanceof Blob?L(e.printName||i.value.printName,t.data):c.nk.error("下载文件失败")}).catch(t=>{if(t instanceof Blob){let e=new FileReader;e.onload=()=>{c.nk.error(e.result?JSON.parse(e.result.toString()).errorMessage:"下载文件失败")},e.readAsText(t)}else c.nk.error("下载文件失败")})},L=(t,e)=>{let i=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});const n=document.createElement("a"),o=URL.createObjectURL(i);n.href=o,n.setAttribute("download",t+".xls"),n.style.display="none",n.click(),URL.revokeObjectURL(o),n.remove()},k=()=>{H(210),document.getElementById("print-table")?.getBoundingClientRect().width;f()({printable:"print-table",type:"html",scanStyles:!0,targetStyles:["*"],documentTitle:e.printName,font_size:"10px",style:`@page {size: ${T.width}mm ${T.height}mm portrait};`,onPrintDialogClose(){y.value=1}})},H=t=>{const e=document.createElement("div");e.style.width="1in",document.body.appendChild(e);const i=e.offsetWidth;document.body.removeChild(e);const n=Number(t),o=n/25.4,r=o*i;return Math.round(r)};return(0,a.sV)(async()=>{await M()}),(t,e)=>{const i=r.S2,d=o.S2,c=n.bZ,u=n.ZO;return(0,a.uX)(),(0,a.CE)("div",O,[(0,a.bF)(c,{class:"step-header",style:{overflow:"hidden",height:"72px",background:"white","border-bottom":"1px solid #ebeef5"}},{default:(0,a.k6)(()=>[(0,a.bF)(d,{type:"flex",justify:"space-between",align:"middle",style:{height:"100%"}},{default:(0,a.k6)(()=>[e[3]||(e[3]=(0,a.Lk)("div",{class:"title",style:{display:"flex",width:"200px",height:"40px","line-height":"40px"}},[(0,a.Lk)("span",{style:{"font-size":"22px",color:"#333","font-weight":"bold"}},"BIQS打印预览")],-1)),(0,a.bF)(d,{class:"operation",justify:"end"},{default:(0,a.k6)(()=>[(0,a.bF)(i,{size:"default",icon:(0,s.R1)(h.Printer),type:"primary",onClick:k,style:{width:"85px"}},{default:(0,a.k6)(()=>e[0]||(e[0]=[(0,a.eW)("打印")])),_:1,__:[0]},8,["icon"]),(0,a.bF)(i,{size:"default",icon:(0,s.R1)(h.Download),onClick:A,style:{width:"85px"}},{default:(0,a.k6)(()=>e[1]||(e[1]=[(0,a.eW)("Excel")])),_:1,__:[1]},8,["icon"]),(0,a.bF)(i,{size:"default",onClick:B,style:{width:"85px"}},{default:(0,a.k6)(()=>e[2]||(e[2]=[(0,a.eW)("退出")])),_:1,__:[2]})]),_:1})]),_:1,__:[3]})]),_:1}),(0,a.bF)(u,{style:{padding:"16px",background:"#f6f6f6","min-height":"calc(100vh - 72px)"}},{default:(0,a.k6)(()=>[(0,a.bo)((0,a.Lk)("div",{id:"print-container",style:(0,l.Tr)([{width:(0,s.R1)(T).width+"mm",height:(0,s.R1)(T).height+"mm"},{overflow:"auto","max-height":"calc(100vh - 104px)"}])},[(0,a.Lk)("div",{style:(0,l.Tr)({width:(0,s.R1)(T).width+"mm",height:(0,s.R1)(T).height+"mm",paddingTop:(0,s.R1)(T).topMargin+"mm",paddingRight:(0,s.R1)(T).rightMargin+"mm",paddingBottom:(0,s.R1)(T).bottomMargin+"mm",paddingLeft:(0,s.R1)(T).leftMargin+"mm",margin:"0 auto",pageBreakAfter:"always",display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start",boxSizing:"border-box"})},[(0,a.Lk)("table",{id:"print-table",style:(0,l.Tr)([{"border-collapse":"collapse",position:"relative","transform-origin":"top center"},{transform:`scale(${(0,s.R1)(y)})`}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,s.R1)(P).rows,t=>((0,a.uX)(),(0,a.CE)("tr",{key:t.rowIndex},[1==t.emptyRow?((0,a.uX)(),(0,a.CE)("td",{key:0,colspan:(0,s.R1)(P).maxCol+1,height:t.rowHeight+"px"},null,8,D)):((0,a.uX)(!0),(0,a.CE)(a.FK,{key:1},(0,a.pI)(t.cells,e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[e.mergeCell?e.mergeCell&&(e.mergeCellColSpan||e.mergeCellRowSpan)?((0,a.uX)(),(0,a.Wv)(x,{rows:(0,s.R1)(P).rows,"item-cell":e,"item-row":t,key:"row_"+t.rowIndex+"col_"+e.colIndex},null,8,["rows","item-cell","item-row"])):(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(x,{rows:(0,s.R1)(P).rows,"item-cell":e,"item-row":t,key:"row_"+t.rowIndex+"col_"+e.colIndex},null,8,["rows","item-cell","item-row"]))],64))),256))]))),128))],4)],4)],4),[[p.aG,(0,s.R1)(C)]])]),_:1})])}}});const I=(0,T.A)(M,[["__scopeId","data-v-a576c9e2"]]);var R=I},22833:function(t){"use strict";t.exports=JSON.parse('{"请选择字段":"Seleziona campo","计数":"Conteggio","合计":"Somma","平均值":"Media","最小值":"Minimo","最大值":"Massimo","此格式不支持该文本":"Questo formato non supporta questo testo","二维码生成失败":"Generazione codice QR non riuscita","字体行高":"Altezza carattere","默认":"Predefinito","字体":"Carattere","宋体":"SimSun","微软雅黑":"Microsoft YaHei","字体大小":"Dimensione carattere","字体粗细":"Spessore carattere","更细":"Più leggero ","粗体":"Grassetto","粗体+":"Più grassetto","字间距":"Spaziatura lettere","左右对齐":"Giustificato","居左":"Sinistra","居中":"Centrato","居右":"Destra","两端对齐":"Giustificato","标题显示隐藏":"Visualizzazione titolo","显示":"Mostra","隐藏":"Nascondi","表格边框":"Bordo tabella","有边框":"Sì","无边框":"No","表头边框":"Bordo intestazione","左边框":"Sinistra","右边框":"Destra","左右边框":"Sinistra e destra","上边框":"Alto","下边框":"Basso","上下边框":"Alto e basso","表头单元格边框":"Bordo cella intestazione","表尾边框":"Bordo piè di pagina","表尾单元格边框":"Bordo cella piè di pagina","表头行高":"Altezza riga intestazione","表头字体大小":"Dimensione carattere intestazione","表头字体粗细":"Spessore carattere intestazione","表体单元格边框":"Bordo cella corpo","表体行高":"Altezza riga corpo","表头背景":"Sfondo intestazione","线宽":"Larghezza linea","边框大小":"Dimensione bordo","条形码格式":"Tipo codice a barre","商品条码":"Codice a barre prodotto","条形码":"Codice a barre","物流":"Logistica","邮政和快递编码":"Codice postale e corriere","医疗产品编码":"Codice prodotto medico","不常用编码":"Codice insolito","附加组件":"Componente aggiuntivo","实验编码":"Codice sperimentale","条码类型":"Tipo di codice a barre","二维码类型":"Tipo codice QR","二维码容错率":"Livello correzione errore codice QR","字体颜色":"Colore carattere","文本修饰":"Decorazione testo","下划线":"Sottolineato","上划线":"Barrato","穿梭线":"Barrato","字段名":"Nome campo","请输入字段名":"Inserisci nome campo","标题":"Titolo","请输入标题":"Inserisci titolo","测试数据":"Dati di prova","仅字段名称存在时有效":"Valido solo quando esiste nome campo","位置坐标":"Coordinate di posizione","X位置(左)":"Posizione X (sinistra)","Y位置(上)":"Posizione Y (alto)","同步":"Sincronizzare","不同步":"Non sincronizzare","宽高大小":"Larghezza e altezza","宽":"Larghezza","高":"Altezza","图片地址":"URL immagine","请输入图片地址":"Inserisci URL immagine","选择":"Scegliere","图片缩放":"Ridimensionamento immagine","等比":"Proporzionale","裁切":"Ritagliare","填充":"Riempire","原始尺寸":"Dimensione originale","颜色":"Colore","边框颜色":"Colore bordo","水印功能":"Filigrana","水印内容":"Contenuto filigrana","旋转角度":"Angolo di rotazione","水平密度":"Densità orizzontale","垂直密度":"Densità verticale","水印时间":"Ora filigrana","时间格式":"Formato ora","页码格式":"Formato numero pagina","显示页码":"Mostra numero pagina","页码续排":"Continua numero pagina","续排":"Continua","重排":"Ripristina","每行缩进":"Rientro","显示规则":"Regola di visualizzazione","始终隐藏":"Nascondi sempre","首页":"Prima pagina","奇数页":"Pagine dispari","偶数页":"Pagine pari","尾页":"Ultima pagina","强制分页":"Forza interruzione pagina","是":"Sì","否":"No","打印规则":"Regola di stampa","保持奇数":"Mantieni dispari","保持偶数":"Mantieni pari","分页规则":"Regola interruzione pagina","不分页":"Nessuna interruzione pagina","移除段落左侧空白":"Rimuovi spazio vuoto a sinistra","移除":"Rimuovere","不移除":"Non rimuovere","首页页尾":"Piè di pagina prima pagina","尾页页尾":"Piè di pagina ultima pagina","偶数页页尾":"Piè di pagina pagine pari","奇数页页尾":"Piè di pagina pagine dispari","位置固定":"Posizione fissa","拖动方向":"Direzione trascinamento","横向":"Orizzontale","竖向":"Verticale","左偏移":"Scostamento a sinistra","偏移量":"Scostamento","最低高度":"Altezza minima","文本过短或为空时的高度":"Altezza quando testo troppo corto o vuoto","隐藏规则":"Regola nascondi","表体行边框":"Bordo riga corpo","元素层级":"Indice Z","边框设置":"Impostazioni bordo","实线":"Continuo","虚线":"Tratteggiato","左内边距":"Riempimento sinistro","上内边距":"Riempimento superiore","右内边距":"Riempimento destro","下内边距":"Riempimento inferiore","样式":"Stile","边框样式":"Stile bordo","长虚线":"Tratteggiato lungo","短虚线":"Tratteggiato corto","背景颜色":"Colore sfondo","纸张方向(仅自定义纸质有效)":"Orientamento carta (solo carta personalizzata)","纵向":"Verticale","上下对齐":"Allineamento verticale","垂直居中":"Centrato verticalmente","底部":"In basso","文本换行":"A capo automatico","不换行":"Nessun a capo","不换行&隐藏":"Nessun a capo e nascondi","不换行&省略":"Nessun a capo e puntini","打印类型":"Tipo di stampa","文本":"Testo","二维码":"Codice QR","字段类型":"Tipo di campo","默认(文本)":"Predefinito (testo)","序号":"Indice","图片":"Immagine","单元格高度":"Altezza cella","条形码、二维码以及图片有效":"Codice a barre, codice QR e immagine validi","底部聚合标题":"Titolo del riepilogo","底部聚合文本":"Testo del riepilogo","聚合类型":"Tipo di riepilogo","底部聚合合并列数":"Colonne del riepilogo unite","合并列数":"Colonne unite","底部聚合类型左右对齐":"Allineamento riepilogo","整数":"Intero","保留%s位":"Mantieni %s decimali","底部聚合小数":"Decimali del riepilogo","转大小写":"Maiuscole o minuscole","底部聚合类型":"Tipo di riepilogo","不聚合":"Nessun riepilogo","仅文本":"Solo testo","顶部偏移":"Scostamento superiore","一行多组":"Più gruppi in una riga","一行二列":"Una riga due colonne","一行三列":"Una riga tre colonne","一行四列":"Una riga quattro colonne","一行多组间隔":"Spaziatura più gruppi in una riga","表格头显示":"Visualizzazione intestazione tabella","每页显示":"Mostra per pagina","首页显示":"Mostra in prima pagina","不显示":"Non visualizzare","数据类型":"Tipo di dati","日期时间":"DataOra","布尔":"Booleano","格式":"Formato","格式化函数":"Funzione di formattazione","样式函数":"Funzione di stile","行/列合并函数":"Unisci riga/colonna","跨页合并是否清除":"Annulla unione interruzione pagina","表格脚函数":"Funzione piè di pagina tabella","分组字段函数":"Funzione campo di raggruppamento","分组头格式化函数":"Funzione di formattazione intestazione gruppo","分组头信息":"Informazioni intestazione gruppo","分组脚格式化函数":"Funzione di formattazione piè di gruppo","分组脚信息":"Informazioni piè di gruppo","多组表格脚函数":"Funzione piè di pagina tabella multi-gruppo","行样式函数":"Funzione stile riga","单元格左右对齐":"Allineamento cella","单元格上下对齐":"Allineamento verticale cella","上":"Alto","中":"Centro","表格头单元格左右对齐":"Allineamento cella intestazione","单元格样式函数":"Funzione stile cella","表格头样式函数":"Funzione stile intestazione","单元格格式化函数":"Funzione di formattazione cella","单元格渲染函数":"Funzione di rendering cella","自动补全":"Completamento automatico","每页最大行数":"Righe massime per pagina","表格脚显示":"Visualizzazione piè di pagina tabella","最后显示":"Mostra nell\'ultima pagina","没有足够空间进行表格分页，请调整页眉/页脚线":"Spazio insufficiente per la paginazione della tabella, regolare la linea di intestazione/piè di pagina","没有足够空间,显示下方内容, 可分页高度":"Spazio insufficiente, visualizza il contenuto sottostante, l\'altezza può essere impaginata:","列属性":"Proprietà colonna","在上方插入行":"Inserisci riga sopra","在下方插入行":"Inserisci riga sotto","向左方插入列":"Inserisci colonna a sinistra","向右方插入列":"Inserisci colonna a destra","删除行":"Elimina riga","删除列":"Elimina colonna","对齐":"Allinea","左":"Sinistra","左右居中":"Centra","右":"Destra","下":"Basso","合并单元格":"Unisci cella","解开单元格":"Separa cella","条形码生成失败":"Generazione codice a barre non riuscita","请检查 hiprint.init 的 provider 是否配置了":"Controlla se il provider di hiprint.init è configurato","已移除\'tableCustom\',请替换使用\'table\'详情见更新记录":"\'TableCustom\' è stato rimosso, sostituirlo con \'table\', vedi il log di aggiornamento per i dettagli","确定":"Conferma","删除":"Elimina","连接客户端失败":"Connessione al client non riuscita","基础":"Di base","边框":"Bordo","列":"Colonna","高级":"Avanzate","面板排列":"Disposizione del pannello","排列方式":"Metodo di disposizione","垂直间距%s":"Spaziatura Verticale %s","水平间距%s":"Spaziatura Orizzontale %s","边框圆角":"Raggio del Bordo","显示码值":"Mostra Valore del Codice"}')},23649:function(t,e,i){"use strict";i.d(e,{hy:function(){return n.h}});var n=i(28050);i(9384),i(73360);n.h.version="o_print",window.hiprint=n.h},28050:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return defaultElementTypeProvider},h:function(){return hiprint}});var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18111),core_js_modules_es_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_iterator_filter_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22489),core_js_modules_es_iterator_filter_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_iterator_filter_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_iterator_find_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20116),core_js_modules_es_iterator_find_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_iterator_find_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7588),core_js_modules_es_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_iterator_map_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(61701),core_js_modules_es_iterator_map_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_iterator_map_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(18237),core_js_modules_es_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_iterator_some_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(13579),core_js_modules_es_iterator_some_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_iterator_some_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_web_dom_exception_stack_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(64979),core_js_modules_web_dom_exception_stack_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_web_dom_exception_stack_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_web_url_search_params_delete_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(14603),core_js_modules_web_url_search_params_delete_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_web_url_search_params_delete_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_web_url_search_params_has_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(47566),core_js_modules_web_url_search_params_has_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_web_url_search_params_has_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_web_url_search_params_size_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(98721),core_js_modules_web_url_search_params_size_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_web_url_search_params_size_js__WEBPACK_IMPORTED_MODULE_11__),jquery__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(46587),jquery__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_12__),_claviska_jquery_minicolors_jquery_minicolors_min_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(68086),_claviska_jquery_minicolors_jquery_minicolors_min_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_claviska_jquery_minicolors_jquery_minicolors_min_js__WEBPACK_IMPORTED_MODULE_13__),jsbarcode__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(6240),jsbarcode__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(jsbarcode__WEBPACK_IMPORTED_MODULE_14__),_plugins_qrcode_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(4529),_plugins_qrcode_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_plugins_qrcode_js__WEBPACK_IMPORTED_MODULE_15__),bwip_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(55113),_plugins_watermark_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(83729),socket_io_client__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(71714),nzh__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(50130),nzh__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(nzh__WEBPACK_IMPORTED_MODULE_19__),_css_image_l_img_svg__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(94169),_css_image_v_img_svg__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(70587),jspdf__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(11749),_wtto00_html2canvas__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(62698),_wtto00_html2canvas__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(_wtto00_html2canvas__WEBPACK_IMPORTED_MODULE_23__),canvg__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(96234),_etypes_default_etyps_provider__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(45208);function _instanceof(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function _typeof(t){return _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}window.$=window.jQuery=jquery__WEBPACK_IMPORTED_MODULE_12___default(),window.autoConnect=!1,window.io=socket_io_client__WEBPACK_IMPORTED_MODULE_18__.io;var languages={};const ctx=__webpack_require__(37866);ctx.keys().forEach(t=>{languages[t.match(/\.\/([^.]+)/)[1]]=ctx(t)});var i18n={lang:"cn",languages:languages,__:function(t,e){var i=this.languages[this.lang][t]||t;return e&&e instanceof Object?(Object.keys(e).forEach(t=>{i=i.replace(new RegExp(`{{${t}}}`,"g"),e[t])}),i):e?(i=i.replace(/%s/g,e),i):i},__n:function(t,e){var i=this.languages[this.lang][t];return i=i.replace(/%s/g,e),i}},hiprint=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=21)}([function(t,e,i){var n;i.d(e,"a",function(){return hinnn}),window.hinnn={},hinnn.event=(n={},{on:function(t,e){n[t]||(n[t]=[]),n[t].push(e)},id:0,off:function(t,e){var i=n[t];if(i){for(var o=-1,r=0;r<i.length;r++)if(i[r]===e){o=r;break}o<0||n[t].splice(o,1)}},trigger:function(t){var e=n[t];if(e&&e.length)for(var i=Array.prototype.slice.call(arguments,1),o=0;o<e.length;o++)e[o].apply(this,i)},clear:function(t){n[t]=[]},getId:function(){return this.id+=1,this.id},getNameWithId:function(t){return t+"-"+this.getId()}}),hinnn.form={serialize:function(t){var e=jquery__WEBPACK_IMPORTED_MODULE_12___default()(t).serializeArray(),i={};return jquery__WEBPACK_IMPORTED_MODULE_12___default().each(e,function(){i[this.name]?"[object Array]"==Object.prototype.toString.call(i[this.name])?i[this.name].push(this.value):i[this.name]=[i[this.name],this.value]:i[this.name]=this.value}),i}},hinnn.pt={toPx:function(t){return t*(this.getDpi()/72)},toMm:function(t){return hinnn.px.toMm(hinnn.pt.toPx(t))},dpi:0,getDpi:function(){if(!this.dpi){var t=document.createElement("DIV");t.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(t),this.dpi=t.offsetHeight}return this.dpi}},hinnn.px={toPt:function(t){return t*(72/this.getDpi())},toMm:function(t){return Math.round(t/this.getDpi()*25.4*100)/100},dpi:0,getDpi:function(){if(!this.dpi){var t=document.createElement("DIV");t.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(t),this.dpi=t.offsetHeight}return this.dpi}},hinnn.mm={toPt:function(t){return 72/25.4*t},toPx:function(t){return hinnn.pt.toPx(hinnn.mm.toPt(t))}},hinnn.throttle=function(t,e,i){var n,o,r,a=null,s=0;i||(i={});var l=function(){s=!1===i.leading?0:_.now(),a=null,r=t.apply(n,o),a||(n=o=null)};return function(){var p=_.now();s||!1!==i.leading||(s=p);var d=e-(p-s);return n=this,o=arguments,d<=0||d>e?(a&&(clearTimeout(a),a=null),s=p,r=t.apply(n,o),a||(n=o=null)):a||!1===i.trailing||(a=setTimeout(l,d)),r}},hinnn.debounce=function(t,e,i){var n,o,r,a,s,l=function l(){var p=_.now()-a;p<e&&p>=0?n=setTimeout(l,e-p):(n=null,i||(s=t.apply(r,o),n||(r=o=null)))};return function(){r=this,o=arguments,a=_.now();var p=i&&!n;return n||(n=setTimeout(l,e)),p&&(s=t.apply(r,o),r=o=null),s}},hinnn.toUtf8=function(t){var e,i,n,o;for(e="",n=t.length,i=0;i<n;i++)(o=t.charCodeAt(i))>=1&&o<=127?e+=t.charAt(i):o>2047?(e+=String.fromCharCode(224|o>>12&15),e+=String.fromCharCode(128|o>>6&63),e+=String.fromCharCode(128|63&o)):(e+=String.fromCharCode(192|o>>6&31),e+=String.fromCharCode(128|63&o));return e},hinnn.groupBy=function(t,e,i){var n={};return t.forEach(function(t){var o=JSON.stringify(i(t));n[o]||(n[o]={rows:[]},e.forEach(function(e){n[o][e]=t[e]})),n[o].rows.push(t)}),Object.keys(n).map(function(t){return n[t]})},hinnn.orderBy=function(t,e){if(t.length<=1)return t;var i=Math.floor(t.length/2),n=t.splice(i,1)[0],o=[],r=[],a=!0,s=!1,l=void 0;try{for(var p,d=t[Symbol.iterator]();!(a=(p=d.next()).done);a=!0){var c=p.value;e(c)<e(n)?o.push(c):r.push(c)}}catch(h){s=!0,l=h}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}return this.orderBy(o,e).concat([n],this.orderBy(r,e))},hinnn.dateFormat=function(t,e){if(t)try{var i="string"==typeof t?new Date(t):t,n={"y+":i.getFullYear(),"M+":i.getMonth()+1,"d+":i.getDate(),"H+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(i.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return e}catch(t){return console.log(t),""}return""},hinnn.numFormat=function(t,e){if(void 0!=t)try{var i="string"==typeof t?parseFloat(t):t,n=parseInt(e);return n>0?i.toFixed(n):parseInt(i.toString())}catch(t){return console.log(t),""}return""},hinnn.toUpperCase=function(t,e){if(!nzh__WEBPACK_IMPORTED_MODULE_19___default())return e;var i=e;switch(t){case"0":i=nzh__WEBPACK_IMPORTED_MODULE_19___default().cn.encodeS(e);break;case"1":i=nzh__WEBPACK_IMPORTED_MODULE_19___default().cn.encodeS(e,{tenMin:!1});break;case"2":i=nzh__WEBPACK_IMPORTED_MODULE_19___default().cn.encodeB(e,{tenMin:!0});break;case"3":i=nzh__WEBPACK_IMPORTED_MODULE_19___default().cn.encodeB(e);break;case"4":i=nzh__WEBPACK_IMPORTED_MODULE_19___default().cn.toMoney(e,{tenMin:!0});break;case"5":i=nzh__WEBPACK_IMPORTED_MODULE_19___default().cn.toMoney(e);break;case"6":i=nzh__WEBPACK_IMPORTED_MODULE_19___default().cn.toMoney(e,{complete:!0});break;case"7":i=nzh__WEBPACK_IMPORTED_MODULE_19___default().cn.toMoney(e,{complete:!0,outSymbol:!1});break}return i}},function(t,e,i){i.d(e,"a",function(){return o});var n=i(9),o=function(){function t(){}return t.prototype.init=function(t){t&&jquery__WEBPACK_IMPORTED_MODULE_12___default().extend(this,t)},t.prototype.on=function(t,e){hinnn.event.on(t,e)},t.prototype.clear=function(t){hinnn.event.clear(t)},t.prototype.registerItems=function(t){t.forEach(function(t){n.a.registerItem(new t)})},Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t,window.HIPRINT_CONFIG&&jquery__WEBPACK_IMPORTED_MODULE_12___default().extend(t._instance,HIPRINT_CONFIG),t._instance.optionItems&&t._instance.optionItems.forEach(function(t){n.a.registerItem(new t)})),t._instance},enumerable:!0,configurable:!0}),t}()},function(t,e,i){var n=function(){function t(t){this.printElement=t}return t.prototype.updatePosition=function(t,e){this.left=t,this.top=e},t}();i.d(e,"a",function(){return o});var o=function(){function t(){this.printTemplateContainer={},this.A1={width:841,height:594},this.A2={width:420,height:594},this.A3={width:420,height:297},this.A4={width:210,height:297},this.A5={width:210,height:148},this.A6={width:105,height:148},this.A7={width:105,height:74},this.A8={width:52,height:74},this.B1={width:1e3,height:707},this.B2={width:500,height:707},this.B3={width:500,height:353},this.B4={width:250,height:353},this.B5={width:250,height:176},this.B6={width:125,height:176},this.B7={width:125,height:88},this.B8={width:62,height:88},this.dragLengthCNum=function(t,e){var i=.75*t;return Math.round(i/e)*e}}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.getDragingPrintElement=function(){return t.instance.dragingPrintElement},t.prototype.setDragingPrintElement=function(e){t.instance.dragingPrintElement=new n(e)},t.prototype.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.prototype.imageToBase64=function(t){if(-1==jquery__WEBPACK_IMPORTED_MODULE_12___default()(t).attr("src").indexOf("base64"))try{var e=document.createElement("canvas"),i=new Image;i.src=t.attr("src"),e.width=i.width,e.height=i.height,e.getContext("2d").drawImage(i,0,0),t.attr("src",e.toDataURL("image/png"))}catch(e){try{this.xhrLoadImage(t)}catch(t){console.log(t)}}},t.prototype.xhrLoadImage=function(t){},t.prototype.transformImg=function(t){var e=this;t.map(function(t,i){e.imageToBase64(jquery__WEBPACK_IMPORTED_MODULE_12___default()(i))})},t.prototype.getPrintTemplateById=function(e){return t.instance.printTemplateContainer[e]},t.prototype.setPrintTemplateById=function(e,i){return t.instance.printTemplateContainer[e]=i},t}()},function(t,e,i){var n=function(){return function(){}}();i.d(e,"a",function(){return o});var o=function(){function t(t){t=t||{},this.left=t.left,this.top=t.top,this.topInDesign=this.top,this.height=t.height,this.width=t.width,this.transform=t.transform,this.init(t)}return t.prototype.setDefault=function(t){this.defaultOptions=t,this.initSize(),Object.keys(this.defaultOptions).forEach(t=>{this[t]=this[t]||this.defaultOptions[t]})},t.prototype.initSize=function(){this.width||this.setWidth(this.defaultOptions.width),this.height||this.setHeight(this.defaultOptions.height)},t.prototype.initSizeByHtml=function(t,e){this.width||this.setWidth(t),this.height||this.setHeight(e)},t.prototype.getRectInfo=function(){var t={w:0,h:0,diffW:0,diffH:0};if(this.transform){var e=this.transform*Math.PI/180,i=this.width,n=this.height,o=Math.sin(e),r=Math.cos(e),a=Math.abs(i*r)+Math.abs(n*o),s=Math.abs(i*o)+Math.abs(n*r),l=(i-a)/2,p=(n-s)/2;t.w=a,t.h=s,t.diffW=l,t.diffH=p}return t},t.prototype.getLeft=function(){return this.left-0},t.prototype.posLeft=function(){var t=this.left;return this.transform&&(t+=this.getRectInfo().diffW),Math.floor(10*t)/10},t.prototype.setRotate=function(t){null!=t&&(this.transform=t)},t.prototype.displayLeft=function(t){return this.transform&&t?this.left+this.getRectInfo().diffW+"pt":this.left+"pt"},t.prototype.setLeft=function(t){null!=t&&(this.left=t)},t.prototype.getTop=function(){return this.top-0},t.prototype.posTop=function(){var t=this.top;return this.transform&&(t+=this.getRectInfo().diffH),Math.floor(10*t)/10},t.prototype.getTopInDesign=function(){return this.topInDesign},t.prototype.displayTop=function(t){return this.transform&&t?this.top+this.getRectInfo().diffH+"pt":this.top+"pt"},t.prototype.setTop=function(t){null!=t&&(this.top=t)},t.prototype.copyDesignTopFromTop=function(){this.topInDesign=this.top},t.prototype.getHeight=function(){if(this.transform){var t=this.getRectInfo();return t.h+t.diffH}return this.height-0},t.prototype.displayHeight=function(){return this.height+"pt"},t.prototype.setHeight=function(t){null!=t&&(this.height=t)},t.prototype.getWidth=function(){if(this.transform){var t=this.getRectInfo();return t.w+t.diffW}return this.width-0},t.prototype.displayWidth=function(){return this.width+"pt"},t.prototype.setWidth=function(t){null!=t&&(this.width=t)},t.prototype.getValueFromOptionsOrDefault=function(t){return null==this[t]?this.defaultOptions[t]:this[t]},t.prototype.getPrintElementOptionEntity=function(){var t=new n,e=this;return Object.keys(this).filter(function(t){return"topInDesign"!=t}).forEach(function(i){if("number"!=typeof e[i]&&"string"!=typeof e[i]&&!["fields"].includes(i)&&_typeof(e[i])!=_typeof(!0)||(t[i]=e[i]),"style"==i){t.style={};var n=e[i];n&&Object.keys(n).forEach(function(e){"number"!=typeof n[e]&&"string"!=typeof n[e]||(t.style[e]=n[e])})}}),t},t.prototype.init=function(t){var e=this;t&&Object.keys(t).forEach(function(i){e[i]=t[i]})},t}()},function(module,__nested_webpack_exports__,__nested_webpack_require_14313__){__nested_webpack_require_14313__.d(__nested_webpack_exports__,"a",function(){return BasePrintElement});var _entity_PrintElementEntity__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_14313__(17),_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_14313__(1),_print_element_option_PrintElementOptionItemManager__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_14313__(9),_dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_14313__(6),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_14313__(0),_PrintReferenceElement__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_14313__(8),_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_14313__(2),BasePrintElement=function(){function BasePrintElement(t){this.printElementType=t,this.id=_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.guid()}return BasePrintElement.prototype.getConfigOptionsByName=function(t){return _HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance[t]},BasePrintElement.prototype.getProxyTarget=function(t){t&&this.SetProxyTargetOption(t);var e=this.getData(),i=this.createTarget(this.getTitle(),e);return this.updateTargetSize(i),this.css(i,e),i},BasePrintElement.prototype.SetProxyTargetOption=function(t){this.options.getPrintElementOptionEntity(),jquery__WEBPACK_IMPORTED_MODULE_12___default().extend(this.options,t),this.copyFromType()},BasePrintElement.prototype.showInPage=function(t,e){var i=this.options.showInPage,n=this.options.unShowInPage;if(i){if("first"==i)return 0==t;if(t==e-1&&"last"==n)return!1;if("odd"==i)return(0!=t||"first"!=n)&&t%2==0;if("even"==i)return t%2==1;if("last"==i)return t==e-1}return(0!=t||"first"!=n)&&(t!=e-1||"last"!=n)},BasePrintElement.prototype.setTemplateId=function(t){this.templateId=t},BasePrintElement.prototype.setPanel=function(t){this.panel=t},BasePrintElement.prototype.getField=function(){return this.options.field||this.printElementType.field},BasePrintElement.prototype.getTitle=function(){return this.printElementType.title},BasePrintElement.prototype.updateSizeAndPositionOptions=function(t,e,i,n){const o=_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.getPrintTemplateById(this.templateId);if(void 0!==this.panel&&!o.willOutOfBounds){const i=hinnn.mm.toPt(this.panel.width),n=hinnn.mm.toPt(this.panel.height);if(t<0)return;if(e<0)return;if(t+this.options.width>i)return;if(e+this.options.height>n)return}this.options.setLeft(t),this.options.setTop(e),this.options.copyDesignTopFromTop(),this.options.setWidth(i),this.options.setHeight(n)},BasePrintElement.prototype.initSizeByHtml=function(t){if(t&&t.length){this.createTempContainer();var e=t.clone();this.getTempContainer().append(e),this.options.initSizeByHtml(parseInt(hinnn.px.toPt(e.width()).toString()),parseInt(hinnn.px.toPt(e.height()).toString())),this.removeTempContainer()}},BasePrintElement.prototype.updateTargetSize=function(t){t.css("width",this.options.displayWidth()),t.css("height",this.options.displayHeight())},BasePrintElement.prototype.updateTargetWidth=function(t){t.css("width",this.options.displayWidth())},BasePrintElement.prototype.getDesignTarget=function(t){var e=this,i=0;return this.designTarget=this.getHtml(t)[0].target,this.designPaper=t,this.designTarget.click(function(t){t.timeStamp-i>500&&hinnn.event.trigger(e.getPrintElementSelectEventKey(),{printElement:e}),i=t.timeStamp}),this.designTarget.dblclick(function(t){var i=e.designTarget.find(".hiprint-printElement-content");if(i){var n=e.designTarget.find(".resize-panel");"text"!=e.printElementType.type||e.options.textType&&"text"!=e.options.textType||(e._editing=!0,e.designTarget.hidraggable("update",{draggable:!1}),i.css("cursor","text"),i.addClass("editing"),e.designTarget.addClass("editing"),i.click(function(t){e._editing&&t.stopPropagation()}),i.attr("contenteditable",!0),n&&n.css("display","none"),e.selectEnd(i))}}),this.designTarget},BasePrintElement.prototype.selectEnd=function(t){if(t.focus(),"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var e=document.createRange();e.selectNodeContents(t[0]),e.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(e)}else if("undefined"!=typeof document.body.createTextRange){e=document.body.createTextRange();e.moveToElementText(t[0]),e.collapse(!1),e.select()}},BasePrintElement.prototype.updateByContent=function(t){var e=this,i=e.designTarget.find(".hiprint-printElement-content");if(e._editing){i&&i.css("cursor","")&&i.removeClass("editing")&&i.removeAttr("contenteditable"),e.designTarget.removeClass("editing");var n=i.text(),o=e.options.title;n.startsWith(o)&&e.options.field?n.length>o.length?e.options.testData=n.split("：")[1]:(e.options.title=n,e.options.testData=""):e.options.title=n,e.options.title=e.options.title.split("：")[0],t||hinnn.event.trigger(e.getPrintElementSelectEventKey(),{printElement:e}),e.updateDesignViewFromOptions(),hinnn.event.trigger("hiprintTemplateDataChanged_"+e.templateId,"编辑修改"),e._editing=!1;var r=void 0==e.options.draggable||1==e.options.draggable;e.designTarget.hidraggable("update",{draggable:r})}},BasePrintElement.prototype.getPrintElementSelectEventKey=function(){return"PrintElementSelectEventKey_"+this.templateId},BasePrintElement.prototype.design=function(t,e){var i=this;this.designTarget.hidraggable({draggable:i.options.draggable,axis:i.options.axis?i.options.axis:void 0,designTarget:i,onDrag:function(t,n,o){var r=i.panel.printElements.filter(function(t){return"block"==t.designTarget.children().last().css("display")&&t.designTarget.children().last().hasClass("selected")&&!t.printElementType.type.includes("table")}),a=r.length>1,s=!i.designTarget.children().last().hasClass("selected");if(a){var l=n-i.options.left,p=o-i.options.top;r.forEach(function(t){t.updateSizeAndPositionOptions(l+t.options.getLeft(),p+t.options.getTop()),t.designTarget.css("left",t.options.displayLeft()),t.designTarget.css("top",t.options.displayTop()),t.createLineOfPosition(e)}),s&&(i.updateSizeAndPositionOptions(n,o),i.createLineOfPosition(e))}else i.updateSizeAndPositionOptions(n,o),i.createLineOfPosition(e);_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.changed=!0},moveUnit:"pt",minMove:_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.movingDistance,onBeforeDrag:function(t){_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.draging=!0,i.designTarget.focus(),i.createLineOfPosition(e)},onBeforeSelectAllDrag:function(){_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.draging=!0,i.designTarget.focus()},getScale:function(){return i.designPaper.scale||1},onStopDrag:function(t){_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.changed&&hinnn.event.trigger("hiprintTemplateDataChanged_"+i.templateId,"移动"),_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.draging=!1,_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.changed=!1;var e=i.panel.printElements.filter(function(t){return"block"==t.designTarget.children().last().css("display")&&!t.printElementType.type.includes("table")});e.length>1?e.forEach(function(t){t.removeLineOfPosition()}):i.removeLineOfPosition()}}),this.setResizePanel(),this.bingCopyEvent(this.designTarget),this.bingKeyboardMoveEvent(this.designTarget,e)},BasePrintElement.prototype.getPrintElementEntity=function(t){return t?new _entity_PrintElementEntity__WEBPACK_IMPORTED_MODULE_0__.a(void 0,this.options.getPrintElementOptionEntity(),this.printElementType.getPrintElementTypeEntity()):new _entity_PrintElementEntity__WEBPACK_IMPORTED_MODULE_0__.a(this.printElementType.tid,this.options.getPrintElementOptionEntity())},BasePrintElement.prototype.submitOption=function(){var t=this.panel.printElements.filter(function(t){return"block"==t.designTarget.children().last().css("display")&&t.designTarget.children().last().hasClass("selected")&&!t.printElementType.type.includes("table")});t=t.filter(t=>t.printElementType.type==this.printElementType.type);var e=this,i=this.getConfigOptions();i&&i.tabs&&i.tabs.length?this.getPrintElementOptionTabs().forEach(function(i){"样式"===i.name&&t.length?i.list.forEach(function(e){t.forEach(t=>{var i=e.getValue(),n="textType"==e.name&&t.options[e.name]!==i,o="axis"==e.name&&t.options[e.name]!==i;i&&"object"==_typeof(i)?Object.keys(i).forEach(function(e){t.options[e]=i[e]}):t.options[e.name]=i,n&&t.setResizePanel(),o&&t.designTarget.hidraggable("update",{axis:i})})}):i.list.forEach(function(t){var i=t.getValue(),n="textType"==t.name&&e.options[t.name]!==i,o="axis"==t.name&&e.options[t.name]!==i;i&&"object"==_typeof(i)?Object.keys(i).forEach(function(t){e.options[t]=i[t]}):e.options[t.name]=i,n&&e.setResizePanel(),o&&e.designTarget.hidraggable("update",{axis:i})})}):this.getPrintElementOptionItems().forEach(function(t){var i=t.getValue(),n="textType"==t.name&&e.options[t.name]!==i,o="axis"==t.name&&e.options[t.name]!==i;i&&"object"==_typeof(i)?Object.keys(i).forEach(function(t){e.options[t]=i[t]}):e.options[t.name]=i,n&&e.setResizePanel(),o&&e.designTarget.hidraggable("update",{axis:i})}),this.updateDesignViewFromOptions(),hinnn.event.trigger("hiprintTemplateDataChanged_"+this.templateId,"元素修改")},BasePrintElement.prototype.updateOption=function(t,e,i){try{var n=this.getConfigOptions(),o=[];n&&n.tabs&&n.tabs.length?n.tabs.forEach(function(t){t.options.forEach(function(t){o.push(t.name)})}):o=n.supportOptions.map(function(t){return t.name}),o&&o.includes(t)&&(this.options[t]=e,this.updateDesignViewFromOptions(),i||hinnn.event.trigger("hiprintTemplateDataChanged_"+this.templateId,"参数修改")),this._printElementOptionTabs.forEach(i=>{i.list.forEach(i=>{i.name===t&&(i.target.find("select")?.val(e.toString()),i.target.find("input")?.val(e.toString()))})})}catch(n){console.log("updateOption error",n)}},BasePrintElement.prototype.getReizeableShowPoints=function(){return["barcode","qrcode"].includes(this.options.textType)?["se","s","e","r"]:["s","e","r"]},BasePrintElement.prototype.setResizePanel=function(){var t=this,e=this.designPaper;this.designTarget.hireizeable({showPoints:t.getReizeableShowPoints(),draggable:t.options.draggable,showSizeBox:_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.showSizeBox,getScale:function(){return t.designPaper.scale||1},onBeforeResize:function(){_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.draging=!0},onResize:function(i,n,o,r,a,s){void 0!=s?t.onRotate(i,s):t.onResize(i,n,o,r,a),t.createLineOfPosition(e)},onStopResize:function(e){hinnn.event.trigger("hiprintTemplateDataChanged_"+t.templateId,e?"旋转":"大小"),_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.draging=!1,t.removeLineOfPosition()}})},BasePrintElement.prototype.onRotate=function(t,e){this.options.setRotate(e)},BasePrintElement.prototype.onResize=function(t,e,i,n,o){this.updateSizeAndPositionOptions(o,n,i,e)},BasePrintElement.prototype.getOrderIndex=function(){return this.options.getTop()},BasePrintElement.prototype.getHtml=function(t,e,i){var n=0;this.setCurrenttemplateData(e);var o=[],r=this.getBeginPrintTopInPaperByReferenceElement(t),a=t.getPaperFooter(n);this.isHeaderOrFooter()||this.isFixed()||r>a&&"none"!=t.panelPageRule&&(o.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:void 0,printLine:void 0})),r=r-a+t.paperHeader,n++,a=t.getPaperFooter(n));var s=this.getData(e),l=this.createTarget(this.getTitle(),s,i);return this.updateTargetSize(l),this.css(l,s),l.css("position","absolute"),l.css("left",this.options.displayLeft()),l.css("top",r+"pt"),o.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:l,printLine:r+this.options.getHeight(),referenceElement:new _PrintReferenceElement__WEBPACK_IMPORTED_MODULE_5__.a({top:this.options.getTop(),left:this.options.getLeft(),height:this.options.getHeight(),width:this.options.getWidth(),beginPrintPaperIndex:t.index,bottomInLastPaper:r+this.options.getHeight(),printTopInPaper:r})})),e&&this.options.pageBreak&&(o[0].target.css("top",t.paperHeader+"pt"),o[0].referenceElement.top=this.options.getTop()-this.options.getHeight()-t.paperHeader,o[0].printLine=t.paperHeader,o[0].referenceElement.bottomInLastPaper=0,o[0].referenceElement.printTopInPaper=t.paperHeader,o.unshift(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:l,printLine:t.height,referenceElement:new _PrintReferenceElement__WEBPACK_IMPORTED_MODULE_5__.a({top:0,left:0,height:0,width:0,beginPrintPaperIndex:t.index,bottomInLastPaper:t.height,printTopInPaper:t.paperHeader})}))),o},BasePrintElement.prototype.getHtml2=function(t,e,i){var n=0;this.setCurrenttemplateData(e);var o=[],r=this.getBeginPrintTopInPaperByReferenceElement(t),a=t.getPaperFooter(n);this.isHeaderOrFooter()||this.isFixed()||("none"!=t.panelPageRule&&r>a&&(o.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:void 0,printLine:void 0})),r=r-a+t.paperHeader,n++,a=t.getPaperFooter(n)),r<=a&&e&&r+this.options.getHeight()>a&&"none"!=t.panelPageRule&&(o.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:void 0,printLine:void 0})),r=t.paperHeader,n++,a=t.getPaperFooter(n)));var s=this.getData(e),l=this.createTarget(this.getTitle(),s);return"none"==t.panelPageRule&&r+this.options.getHeight()>a&&this.updatePanelHeight(r+this.options.getHeight(),t),this.updateTargetSize(l),this.css(l,s),l.css("position","absolute"),l.css("left",this.options.displayLeft()),l.css("top",r+"pt"),o.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:l,printLine:r+this.options.getHeight(),referenceElement:new _PrintReferenceElement__WEBPACK_IMPORTED_MODULE_5__.a({top:this.options.getTop(),left:this.options.getLeft(),height:this.options.getHeight(),width:this.options.getWidth(),beginPrintPaperIndex:t.index,bottomInLastPaper:r+this.options.getHeight(),printTopInPaper:r})})),e&&this.options.pageBreak&&(o[0].target.css("top",t.paperHeader+"pt"),o[0].referenceElement.top=this.options.getTop()-this.options.getHeight()-t.paperHeader,o[0].printLine=t.paperHeader,o[0].referenceElement.bottomInLastPaper=0,o[0].referenceElement.printTopInPaper=t.paperHeader,o.unshift(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:l,printLine:t.height,referenceElement:new _PrintReferenceElement__WEBPACK_IMPORTED_MODULE_5__.a({top:0,left:0,height:0,width:0,beginPrintPaperIndex:t.index,bottomInLastPaper:t.height,printTopInPaper:t.paperHeader})}))),o},BasePrintElement.prototype.updatePanelHeight=function(t,e){if("none"==this.panel.panelPageRule){var i=hinnn.pt.toMm(t);e.paperFooter=t,e.target.css("height",i+"mm"),e.target.attr("original-height",i)}},BasePrintElement.prototype.getBeginPrintTopInPaperByReferenceElement=function(t){var e=this.options.getTop();return this.isHeaderOrFooter()||this.isFixed()?e:t.referenceElement.isPositionLeftOrRight(e)?t.referenceElement.printTopInPaper+(e-t.referenceElement.top):t.referenceElement.bottomInLastPaper+(e-(t.referenceElement.top+t.referenceElement.height))},BasePrintElement.prototype.css=function(t,e){var i,n=this,o=[],r=this.getConfigOptions();r&&(r.tabs&&r.tabs.length?(i=[],r.tabs.forEach(function(t){i=i.concat(t.options)})):i=r.supportOptions,i&&i.forEach(function(e){var i=_print_element_option_PrintElementOptionItemManager__WEBPACK_IMPORTED_MODULE_2__.a.getItem(e.name);if(i&&i.css){var r=i.css(t,n.options.getValueFromOptionsOrDefault(e.name));r&&o.push(r)}}));this.stylerCss(t,e)},BasePrintElement.prototype.stylerCss=function(t,e){var i=this.getStyler();if(i){var n=i(e,this.options,t,this._currenttemplateData);n&&Object.keys(n).forEach(function(e){t.css(e,n[e])})}},BasePrintElement.prototype.getData=function(t){var e=this.getField();return t?e&&e.split(".").reduce((e,i)=>e?e[i]:t?t[i]:"",!1)||"":this.printElementType.getData()},BasePrintElement.prototype.copyFromType=function(){var t=this.options,e=this.printElementType,i=this.getConfigOptions(),n=[];return i&&i.tabs&&i.tabs.length?i.tabs.forEach(function(t){t.options.forEach(function(t){n.push(t.name)})}):n=i.supportOptions.map(function(t){return t.name}),Object.keys(e).forEach(function(i){e[i]&&"columns"!=i&&n.indexOf(i)>-1&&(t[i]="function"==_typeof(e[i])?e[i].toString():e[i])}),t},BasePrintElement.prototype.getPrintElementOptionTabs=function(){if(this._printElementOptionTabs)return this._printElementOptionTabs;var t=[],e=this.getConfigOptions();if(e){var i=e.tabs;i&&i.forEach(function(e,i){t.push({name:e.name,list:[]}),e.options.filter(function(t){return!t.hidden}).forEach(function(e){var n=_print_element_option_PrintElementOptionItemManager__WEBPACK_IMPORTED_MODULE_2__.a.getItem(e.name);t[i].list.push(n)})})}return this._printElementOptionTabs=t,this._printElementOptionItems=void 0,this._printElementOptionTabs},BasePrintElement.prototype.getPrintElementOptionItems=function(){if(this._printElementOptionItems)return this._printElementOptionItems;var t,e=[],i=this.getConfigOptions();i&&(i.tabs&&i.tabs.length?(t=[],i.tabs.forEach(function(t){t=t.concat(t.options)})):t=i.supportOptions,t&&t.filter(function(t){return!t.hidden}).forEach(function(t){var i=_print_element_option_PrintElementOptionItemManager__WEBPACK_IMPORTED_MODULE_2__.a.getItem(t.name);e.push(i)}));return this._printElementOptionItems=this.filterOptionItems(e.concat()),this._printElementOptionTabs=void 0,this._printElementOptionItems},BasePrintElement.prototype.getPrintElementOptionItemsByName=function(t){var e,i=[],n=this.getConfigOptionsByName(t);n&&(n.tabs&&n.tabs.length?(e=[],n.tabs.forEach(function(t){e=e.concat(t.options)})):e=n.supportOptions,e&&e.filter(function(t){return!t.hidden}).forEach(function(t){var e=_print_element_option_PrintElementOptionItemManager__WEBPACK_IMPORTED_MODULE_2__.a.getItem(t.name);i.push(e)}));return i.concat()},BasePrintElement.prototype.filterOptionItems=function(t){return this.printElementType.field?t.filter(function(t){return"field"!=t.name}):t},BasePrintElement.prototype.createTempContainer=function(){this.removeTempContainer(),jquery__WEBPACK_IMPORTED_MODULE_12___default()("body").append(jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint_temp_Container hiprint-printPaper" style="overflow:hidden;height: 0px;box-sizing: border-box;"></div>'))},BasePrintElement.prototype.removeTempContainer=function(){jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hiprint_temp_Container").remove()},BasePrintElement.prototype.getTempContainer=function(){return jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hiprint_temp_Container")},BasePrintElement.prototype.isHeaderOrFooter=function(){return this.options.getTopInDesign()<this.panel.paperHeader||this.options.getTopInDesign()>=this.panel.paperFooter},BasePrintElement.prototype.delete=function(){this.designTarget&&this.designTarget.remove()},BasePrintElement.prototype.setCurrenttemplateData=function(t){this._currenttemplateData=t},BasePrintElement.prototype.isFixed=function(){return this.options.fixed},BasePrintElement.prototype.onRendered=function(t,e){this.printElementType&&this.printElementType.onRendered&&this.printElementType.onRendered(e,this.options,t.getTarget())},BasePrintElement.prototype.createLineOfPosition=function(t){var e=jquery__WEBPACK_IMPORTED_MODULE_12___default()(".toplineOfPosition.id"+this.id),i=jquery__WEBPACK_IMPORTED_MODULE_12___default()(".topPosition.id"+this.id),n=jquery__WEBPACK_IMPORTED_MODULE_12___default()(".leftlineOfPosition.id"+this.id),o=jquery__WEBPACK_IMPORTED_MODULE_12___default()(".leftPosition.id"+this.id),r=jquery__WEBPACK_IMPORTED_MODULE_12___default()(".rightlineOfPosition.id"+this.id),a=jquery__WEBPACK_IMPORTED_MODULE_12___default()(".bottomlineOfPosition.id"+this.id),s=_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance;if(e.length)e.css("top",this.options.displayTop(!0));else{e=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="toplineOfPosition id'+this.id+'" style="position: absolute; width: 100%;"></div>');e.css("top",this.options.displayTop(!0)),e.css("width",t.displayWidth()),this.designTarget.parents(".hiprint-printPaper-content").append(e)}if(s.showPosition)if(i.length)i.toggleClass("topPosition-lineMode",s.positionLineMode),i.text(this.options.posTop()+(s.positionUnit?"pt":"")),i.css("top",this.options.posTop()-i.height()+"pt"),s.positionLineMode?i.css("left",this.options.posLeft()-i.width()/2+"pt"):i.css("left",this.options.posLeft()+2+"pt"),this.designTarget.find(".size-box")&&this.designTarget.find(".size-box").toggleClass("hide",!0);else{i=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="topPosition id'+this.id+'" style="position: absolute;"></div>');i.toggleClass("topPosition-lineMode",s.positionLineMode),i.text(this.options.posTop()+(s.positionUnit?"pt":"")),s.positionLineMode?i.css("left",this.options.posLeft()-i.width()/2+"pt"):i.css("left",this.options.posLeft()+2+"pt"),this.designTarget.find(".size-box")&&this.designTarget.find(".size-box").toggleClass("hide",!0),this.designTarget.parents(".hiprint-printPaper-content").append(i),i.css("top",this.options.posTop()-i.height()+"pt")}if(n.length)n.css("left",this.options.displayLeft(!0));else{var l=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="leftlineOfPosition id'+this.id+'" style="position: absolute;height: 100%;"></div>');l.css("left",this.options.displayLeft(!0)),l.css("height",t.displayHeight()),this.designTarget.parents(".hiprint-printPaper-content").append(l)}if(s.showPosition)if(o.length)o.text(this.options.posLeft()+(s.positionUnit?"pt":"")),o.toggleClass("leftPosition-lineMode",s.positionLineMode),o.css("left",this.options.posLeft()-o.width()+"pt"),s.positionLineMode?o.css("top",this.options.posTop()-o.height()/3+"pt"):o.css("top",this.options.posTop()+2+"pt");else{o=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="leftPosition id'+this.id+'" style="position: absolute;"></div>');o.text(this.options.posLeft()+(s.positionUnit?"pt":"")),o.toggleClass("leftPosition-lineMode",s.positionLineMode),s.positionLineMode?o.css("top",this.options.posTop()-o.height()/3+"pt"):o.css("top",this.options.posTop()+2+"pt"),this.designTarget.parents(".hiprint-printPaper-content").append(o),o.css("left",this.options.posLeft()-o.width()+"pt")}if(r.length)r.css("left",this.options.getLeft()+this.options.getWidth()+"pt");else{var p=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="rightlineOfPosition id'+this.id+'" style="position: absolute;height: 100%;"></div>');p.css("left",this.options.getLeft()+this.options.getWidth()+"pt"),p.css("height",t.displayHeight()),this.designTarget.parents(".hiprint-printPaper-content").append(p)}if(a.length)a.css("top",this.options.getTop()+this.options.getHeight()+"pt");else{var d=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="bottomlineOfPosition id'+this.id+'" style="position: absolute;width: 100%;"></div>');d.css("top",this.options.getTop()+this.options.getHeight()+"pt"),d.css("width",t.displayWidth()),this.designTarget.parents(".hiprint-printPaper-content").append(d)}},BasePrintElement.prototype.removeLineOfPosition=function(){jquery__WEBPACK_IMPORTED_MODULE_12___default()(".toplineOfPosition.id"+this.id).remove(),jquery__WEBPACK_IMPORTED_MODULE_12___default()(".topPosition.id"+this.id).remove(),this.designTarget.find(".size-box")&&this.designTarget.find(".size-box").toggleClass("hide",!1),jquery__WEBPACK_IMPORTED_MODULE_12___default()(".leftlineOfPosition.id"+this.id).remove(),jquery__WEBPACK_IMPORTED_MODULE_12___default()(".leftPosition.id"+this.id).remove(),jquery__WEBPACK_IMPORTED_MODULE_12___default()(".rightlineOfPosition.id"+this.id).remove(),jquery__WEBPACK_IMPORTED_MODULE_12___default()(".bottomlineOfPosition.id"+this.id).remove()},BasePrintElement.prototype.getFontList=function(){var t=this.options.fontList;return t||_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.getPrintTemplateById(this.templateId).getFontList()},BasePrintElement.prototype.getFields=function(){if("table"==this.printElementType.type){var t=_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.getPrintTemplateById(this.templateId).getFields(!0);return t}t=this.options.fields;return t||_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.getPrintTemplateById(this.templateId).getFields(!1)},BasePrintElement.prototype.getOnImageChooseClick=function(){var t=this.options.onImageChooseClick;return t||_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.getPrintTemplateById(this.templateId).getOnImageChooseClick()},BasePrintElement.prototype.bingCopyEvent=function(t){var e=this;t.keydown(function(t){!e._editing||t.altKey||13!=t.keyCode?(t.ctrlKey||t.metaKey)&&67==t.keyCode&&(e.copyJson(),t.preventDefault()):e.updateByContent()})},BasePrintElement.prototype.copyJson=function(){try{var t=this,e=jquery__WEBPACK_IMPORTED_MODULE_12___default()("#copyArea");e.length||(e=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<textarea id="copyArea" style="position: absolute; left: 0px; top: 0px;opacity: 0"></textarea>')),jquery__WEBPACK_IMPORTED_MODULE_12___default()("body").append(e);let o=this.panel.printElements.filter(t=>"block"==t.designTarget.children().last().css("display")&&!t.printElementType.type.includes("table"));o=o.map(t=>({options:t.options,printElementType:t.printElementType,id:t.id,templateId:t.templateId}));var i=JSON.stringify(o);e.text(i),e.css("visibility","visible"),e.setSelectionRange?e.setSelectionRange(0,e.value.length):e.select();var n=!1;n=document.execCommand("copy"),e.css("visibility","hidden"),t.designTarget.focus(),console.log("copyJson success")}catch(o){n=!1,console.log("copyJson error",o)}return n},BasePrintElement.prototype.clone=function(t){var e=this;let i=e.printElementType.createPrintElement();return Object.keys(e.options).forEach(function(t){i.options[t]=e.options[t]}),i},BasePrintElement.prototype.getFormatter=function(){var formatter=void 0;if(this.printElementType.formatter&&(formatter=this.printElementType.formatter),this.options.formatter)try{var s="formatter="+this.options.formatter;eval(s)}catch(t){console.log(t)}return formatter},BasePrintElement.prototype.getStyler=function(){var fnstyler=void 0;if(this.printElementType.styler&&(fnstyler=this.printElementType.styler),this.options.styler)try{var s="fnstyler="+this.options.styler;eval(s)}catch(t){console.log(t)}return fnstyler},BasePrintElement.prototype.bingKeyboardMoveEvent=function(t,e){var i=this,n=void 0,o=void 0;t.attr("tabindex","1"),t.keydown(function(e){if("INPUT"!=e.target.tagName&&(!i._editing||e.altKey)&&!1!==i.options.draggable){var r=i.panel.printElements.filter(function(t){return"block"==t.designTarget.children().last().css("display")&&!t.printElementType.type.includes("table")}),a=r.length>1,s=_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.movingDistance;switch(e.keyCode){case 8:case 46:var l=_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.getPrintTemplateById(i.templateId);l.deletePrintElement(i),hinnn.event.trigger("hiprintTemplateDataChanged_"+i.templateId,"删除"),hinnn.event.trigger("clearSettingContainer"),r.forEach(t=>{l.deletePrintElement(t),hinnn.event.trigger("hiprintTemplateDataChanged_"+t.templateId,"删除")}),hinnn.event.trigger("clearSettingContainer");break;case 37:n=i.options.getLeft(),a?r.forEach(function(t){t.updatePositionByMultipleSelect(0-s,0)}):(i.updateSizeAndPositionOptions(n-s),t.css("left",i.options.displayLeft())),e.preventDefault();break;case 38:o=i.options.getTop(),a?r.forEach(function(t){t.updatePositionByMultipleSelect(0,0-s)}):(i.updateSizeAndPositionOptions(void 0,o-s),t.css("top",i.options.displayTop())),e.preventDefault();break;case 39:n=i.options.getLeft(),a?r.forEach(function(t){t.updatePositionByMultipleSelect(s,0)}):(i.updateSizeAndPositionOptions(n+s),t.css("left",i.options.displayLeft())),e.preventDefault();break;case 40:o=i.options.getTop(),a?r.forEach(function(t){t.updatePositionByMultipleSelect(0,s)}):(i.updateSizeAndPositionOptions(void 0,o+s),t.css("top",i.options.displayTop())),e.preventDefault()}[37,38,39,40].includes(e.keyCode)&&hinnn.event.trigger("hiprintTemplateDataChanged_"+i.templateId,"键盘移动")}})},BasePrintElement.prototype.inRect=function(t){var e=this.designPaper.scale||1,i=this.designTarget[0].offsetLeft,n=this.designTarget[0].offsetTop,o=this.designTarget[0].offsetHeight,r=this.designTarget[0].offsetWidth,a=i+r,s=n+o,l=jquery__WEBPACK_IMPORTED_MODULE_12___default()(t.target[0]).position().left/e,p=jquery__WEBPACK_IMPORTED_MODULE_12___default()(t.target[0]).position().top/e,d=t.target[0].offsetHeight,c=t.target[0].offsetWidth,h=l+c,u=p+d;return l<a&&h>i&&n<u&&s>p},BasePrintElement.prototype.multipleSelect=function(t){t?this.designTarget.addClass("multipleSelect"):this.designTarget.removeClass("multipleSelect")},BasePrintElement.prototype.updatePositionByMultipleSelect=function(t,e){!1!==this.options.draggable&&(this.updateSizeAndPositionOptions(t+this.options.getLeft(),e+this.options.getTop()),this.designTarget.css("left",this.options.displayLeft()),this.designTarget.css("top",this.options.displayTop()))},BasePrintElement}()},function(t,e,i){var n=function(){function t(){}return t.prototype.init=function(t){this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<input type="text" class="hitable-editor-text" value="" />'),t.getTarget().append(this.target),this.target.focus()},t.prototype.getValue=function(){return this.target.val()},t.prototype.setValue=function(t){this.target.val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),o=function(){function t(){this.text=new n}return Object.defineProperty(t,"Instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t}(),r=function(){function t(){}return t.prototype.init=function(t,e){var i=`<select class="auto-submit" style="width:100%">\n                <option value="" disabled>${i18n.__("请选择字段")}</option>`;t.forEach(function(t,n){t.field==e.field?i+=' <option value="'+(t.field||"")+'" selected >'+(t.text||"")+"</option>":i+=' <option value="'+(t.field||"")+'" >'+(t.text||"")+"</option>"}),i+=" </select>",this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(i),e.getTarget().append(this.target),this.target.focus()},t.prototype.getValue=function(){var t=this.target.val(),e=this.target.find('option[value="'+t+'"]').text();return e+"#"+t},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),a=function(){function t(){this.select=new r}return Object.defineProperty(t,"Instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t}(),s=function(){function t(){}return Object.defineProperty(t,"Instance",{get:function(){return o._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.createEditor=function(t){return jquery__WEBPACK_IMPORTED_MODULE_12___default().extend({},o.Instance[t])},t.prototype.createSelect=function(t){return jquery__WEBPACK_IMPORTED_MODULE_12___default().extend({},a.Instance[t])},t}(),l=i(10),p=i(14),d=i(11),c=function(){function t(){}return t.prototype.init=function(t,e){var i=this;this.tableOptions=e,this.title=t.title,this.field=t.field,t.getTarget().unbind("dblclick.hitable").bind("dblclick.hitable",function(){t.isEditing=!0,i.beginEdit(t)})},t.prototype.getDisplayHtml=function(){return this.title},t.prototype.beginEdit=function(t){var e=this;e.tableOptions.options.fields&&e.tableOptions.options.fields.length?(this.editor=s.Instance.createSelect("select"),t.getTarget().html(""),this.editor.init(e.tableOptions.options.fields,t),this.editor.setValue(this.field||""),jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.editor.target).keydown(function(i){13==i.keyCode&&e.endEdit(t)}),jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.editor.target).change(function(i){e.endEdit(t)}),jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.editor.target).blur(function(i){e.endEdit(t)})):(this.editor=s.Instance.createEditor("text"),t.getTarget().html(""),this.editor.init(t),(this.title||this.field)&&(this.tableOptions.options.isEnableEditField?this.editor.setValue((this.title||"")+"#"+(this.field||"")):this.editor.setValue(this.title||"")),jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.editor.target).keydown(function(i){13==i.keyCode&&e.endEdit(t)}),jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.editor.target).blur(function(i){e.endEdit(t)}),this.tableOptions.editingCell&&this.tableOptions.editingCell.id!=t.id&&this.tableOptions.editingCell.innerElement.endEdit(this.tableOptions.editingCell),this.tableOptions.editingCell=t)},t.prototype.endEdit=function(t){t.isEditing=0;var e=this.editor.getValue();if(e)if(this.tableOptions.options.isEnableEditField||this.tableOptions.options.fields){var i=e.split("#");t.title=this.title=i[0],i.length>0&&(t.columnId=t.field=this.field=i[1]),t.id&&t.target.attr("id",t.id),t.columnId&&t.target.attr("column-id",t.columnId),hinnn.event.trigger("hiprintTemplateDataChanged_"+this.tableOptions.options.templateId,"调整表格列字段")}else t.title=this.title=e;else this.tableOptions.options.isEnableEditField?(t.title=this.title="",t.field=this.field=""):t.title=this.title="";this.editor.destroy(),t.getTarget().html(this.title)},t}(),h=function(){return function(t){this.title=t.title,this.field=t.field,this.width=t.width,this.align=t.align,this.halign=t.halign,this.vAlign=t.vAlign,this.colspan=t.colspan,this.rowspan=t.rowspan,this.checked=t.checked,this.columnId=t.columnId,this.tableSummaryTitle=t.tableSummaryTitle,this.tableSummaryText=t.tableSummaryText,this.tableSummaryColspan=t.tableSummaryColspan,this.tableSummary=t.tableSummary,this.tableSummaryAlign=t.tableSummaryAlign,this.tableSummaryNumFormat=t.tableSummaryNumFormat,this.tableSummaryFormatter=t.tableSummaryFormatter,this.showCodeTitle=t.showCodeTitle,this.upperCase=t.upperCase,this.renderFormatter=t.renderFormatter&&t.renderFormatter.toString(),this.formatter2=t.formatter2&&t.formatter2.toString(),this.styler2=t.styler2&&t.styler2.toString(),this.stylerHeader=t.stylerHeader&&t.stylerHeader.toString(),this.tableColumnHeight=t.tableColumnHeight,this.tableTextType=t.tableTextType,this.tableBarcodeMode=t.tableBarcodeMode,this.tableQRCodeLevel=t.tableQRCodeLevel}}(),u=function(){function t(){this.id=d.a.createId()}return t.prototype.init=function(t,e,i,n){this.isHead=n,this.rowId=i,this.isEditing=!1;var o=/^[0-9]*$/;this.target=t,this.tableOptions=e;var r=this.target.attr("colspan");this.colspan=o.test(r)?parseInt(r):1;var a=this.target.attr("rowspan");this.rowspan=o.test(a)?parseInt(a):1,this.initEvent(),this.isHead&&this.initInnerEelement()},t.prototype.beginEdit=function(){if(!this.isEditing&&this.tableOptions.isEnableEdit&&this.tableOptions.onBeforEdit(this)){var t=this.getValue();this.editor=s.Instance.createEditor("text"),this.isEditing=!0,this.tableOptions.editingCell=this,this.target.html(""),this.editor.init(this),this.editor.setValue(t)}},t.prototype.endEdit=function(){this.isEditing=!1;var t=this.editor.getValue();this.editor.destroy(),this.target.html(t)},t.prototype.getTarget=function(){return this.target},t.prototype.getValue=function(){return this.target.html()},t.prototype.setValue=function(t){},t.prototype.initInnerEelement=function(){this.innerElement=new c,this.innerElement.init(this,this.tableOptions)},t.prototype.initEvent=function(){},t.prototype.isXYinCell=function(t,e){var i=new l.b({x:t,y:e,height:0,width:0});return this.isOverlap(i)},t.prototype.getTableRect=function(){return new l.b({x:this.target.offset().left,y:this.target.offset().top,height:this.target[0].offsetHeight,width:this.target[0].offsetWidth})},t.prototype.isOverlap=function(t){var e=this.getTableRect();return t.x+t.width>e.x&&e.x+e.width>t.x&&t.y+t.height>e.y&&e.y+e.height>t.y},t.prototype.isInRect=function(t){var e=t.rect,i=this.getTableRect();if(i.x>=e.x&&i.x+i.width<=e.x+e.width&&i.y>=e.y&&i.y+i.height<=e.y+e.height){var n=p.a.mergeRect(e,i);return JSON.stringify(e)==JSON.stringify(n)||(t.changed=!0,t.rect=n,!0)}return!1},t.prototype.isSelected=function(){return this.target.hasClass("selected")},t.prototype.select=function(){this.target.addClass("selected")},t.prototype.isHeader=function(){return!1},t.prototype.setAlign=function(t){this.align=t,t?this.target.css("text-align",t):this.target[0].style.textAlign=""},t.prototype.setVAlign=function(t){this.vAlign=t,t?this.target.css("vertical-align",t):this.target[0].style.verticalAlign=""},t.prototype.getEntity=function(){return new h(this)},t}();i.d(e,"a",function(){return m});var f,g=(f=function(t,e){return(f=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),m=function(t){function e(e){var i=this;return e=e||{},(i=t.call(this)||this).width=e.width?parseFloat(e.width.toString()):100,i.title=e.title,i.descTitle=e.descTitle,i.field=e.field,i.fixed=e.fixed,i.rowspan=e.rowspan?parseInt(e.rowspan):1,i.colspan=e.colspan?parseInt(e.colspan):1,i.align=e.align,i.halign=e.halign,i.vAlign=e.vAlign,i.formatter=e.formatter,i.styler=e.styler,i.renderFormatter=e.renderFormatter,i.formatter2=e.formatter2,i.styler2=e.styler2,i.stylerHeader=e.stylerHeader,i.checkbox=e.checkbox,i.checked=0!=e.checked,i.columnId=e.columnId||e.field,i.tableColumnHeight=e.tableColumnHeight,i.tableTextType=e.tableTextType,i.tableBarcodeMode=e.tableBarcodeMode,i.tableQRCodeLevel=e.tableQRCodeLevel,i.tableSummaryTitle=e.tableSummaryTitle,i.tableSummaryText=e.tableSummaryText,i.tableSummaryColspan=e.tableSummaryColspan,i.tableSummary=e.tableSummary,i.tableSummaryAlign=e.tableSummaryAlign,i.tableSummaryNumFormat=e.tableSummaryNumFormat,i.tableSummaryFormatter=e.tableSummaryFormatter,i.showCodeTitle=e.showCodeTitle,i.upperCase=e.upperCase,i}return g(e,t),e.prototype.css=function(t){},e}(u)},function(t,e,i){i.d(e,"a",function(){return n});var n=function(){return function(t){this.printLine=t.printLine,this.target=t.target,this.referenceElement=t.referenceElement}}()},function(module,__nested_webpack_exports__,__nested_webpack_require_53661__){__nested_webpack_require_53661__.d(__nested_webpack_exports__,"a",function(){return TableExcelHelper});var _ReconsitutionTableColumns__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_53661__(19),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_53661__(0),TableExcelHelper=function(){function TableExcelHelper(){}return TableExcelHelper.createTableHead=function(t,e){for(var i=TableExcelHelper.reconsitutionTableColumnTree(t),n=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<thead></thead>"),o=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<colgroup></colgroup>"),r=TableExcelHelper.getColumnsWidth(i,e),a=function(t){var e=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<tr></tr>");o=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<colgroup></colgroup>"),i[t].filter(function(t){return t.checked}).forEach(function(t){var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<td></td>");t.id&&i.attr("id",t.id),t.columnId&&i.attr("column-id",t.columnId),(t.align||t.halign)&&i.css("text-align",t.halign||t.align),t.vAlign&&i.css("vertical-align",t.vAlign),t.colspan>1&&i.attr("colspan",t.colspan),t.rowspan>1&&i.attr("rowspan",t.rowspan),i.html(t.title),r[t.id]?(t.hasWidth=!0,t.targetWidth=r[t.id],i.attr("haswidth","haswidth"),i.css("width",r[t.id]+"pt")):t.hasWidth=!1;var n=TableExcelHelper.getHeaderStyler(t);if(n){var a=n(t);a&&Object.keys(a).forEach(function(t){i.css(t,a[t])})}e.append(i),o.append(`<col column-id="${t.columnId}" width="${t.width}pt"></col>`)}),n.append(e)},s=0;s<i.totalLayer;s++)a(s);return TableExcelHelper.syncTargetWidthToOption(t),[n,o]},TableExcelHelper.createTableFooter=function(t,e,i,n,o,r,a){var s=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<tfoot></tfoot>"),l=this.getFooterFormatter(i,n),p=this.tableSummaryTitle;let d="last"==i.tableFooterRepeat?e:r,c=i.columns.length-1;var h=this.rowColumns||i.columns[c].columns;if("no"!=i.tableFooterRepeat&&h.some(function(t){return t.tableSummary})){var u=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<tr></tr>");h.filter(function(t){return t.checked}).forEach(function(t){var n=d.filter(function(e){return e&&e[t.field]}).map(function(e){return new RegExp("^-?(0|[1-9]\\d*)(\\.\\d+)?").test(e[t.field])?Number(e[t.field]):0}),r=t.tableSummaryText,a=t.tableSummaryNumFormat||2,s=`text-align: ${t.tableSummaryAlign||"center"}`,l=void 0==t.tableSummaryColspan?1:t.tableSummaryColspan,c=t.upperCase;let{toUpperCase:h,numFormat:f}=_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_1__.a;var g=TableExcelHelper.getColumnTableSummaryFormatter(t),m=g?g(t,n,e,i):"";if(m)u.append(m);else switch(t.tableSummary){case"count":var _=p(t,r||`${i18n.__("计数")}:`,o),v=h(c,d.filter(t=>t).length||0);u.append(`<td style="${s}" colspan="${l}">${_}${v}</td>`);break;case"sum":var y=parseFloat(Number(n.reduce(function(t,e){return t+e},0)));y=h(c,f(y,a));_=p(t,r||`${i18n.__("合计")}:`,o);u.append(`<td style="${s}" colspan="${l}">${_}${y}</td>`);break;case"avg":y=parseFloat(Number(n.reduce(function(t,e){return t+e},0)));var b=parseFloat(Number(y/(n.length||1)));b=h(c,f(b,a));_=p(t,r||`${i18n.__("平均值")}:`,o);u.append(`<td style="${s}" colspan="${l}">${_}${b}</td>`);break;case"min":var E=Math.min(...n)||0;E==1/0&&(E=0),E=h(c,f(E,a));_=p(t,r||`${i18n.__("最小值")}:`,o);u.append(`<td style="${s}" colspan="${l}">${_}${E||0}</td>`);break;case"max":var w=Math.max(...n);w==-1/0&&(w=0),w=h(c,f(w,a));_=p(t,r||`${i18n.__("最大值")}:`,o);u.append(`<td style="${s}" colspan="${l}">${_}${w||0}</td>`);break;case"text":u.append(`<td style="${s}" colspan="${l}">${r||""}</td>`);break;default:l>=1&&u.append(`<td style="${s}" colspan="${l}">${r||""}</td>`);break}}),s.append(u)}return l&&s.append(l(i,e,o,r,a)),s},TableExcelHelper.tableSummaryTitle=function(t,e,i){var n=void 0==t.tableSummaryTitle||1==t.tableSummaryTitle;return n?`${e}`:i?"":`<span style="color:firebrick">${e}</span>`},TableExcelHelper.createTableRow=function(t,e,i,n,o){var r=this,a=TableExcelHelper.reconsitutionTableColumnTree(t),s=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<tbody></tbody>"),l=r.getGroupFieldsFormatter(n,o),p=0,d=l?n.groupFields=l(o,n,e):o.groupFields?o.groupFields:[];return e=Array.isArray(e)?e:[],d.length?_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_1__.a.groupBy(e,d,function(t){var e={};return d.forEach(function(i){return e[i]=t[i]}),e}).forEach(function(t){var l=r.getGroupFormatter(n,o);if(l){let o=l(a.colspan,e,i,t,n);jquery__WEBPACK_IMPORTED_MODULE_12___default()(o).is("tr")?s.append(o):jquery__WEBPACK_IMPORTED_MODULE_12___default()(o).is("td")?s.append(`<tr>${o}</tr>`):s.append(`<tr><td>${o}</td></tr>`)}var d=r.getGroupFooterFormatter(n,o),c=t;if(c.rows.forEach(function(t,e){let r=n.groupSequenceContinue?p:e;var l=TableExcelHelper.createRowTarget(a,t,n,o,r,c.rows,i);s.append(l),p+=1}),d){let o=d(a.colspan,e,i,t,n);jquery__WEBPACK_IMPORTED_MODULE_12___default()(o).is("tr")?s.append(o):jquery__WEBPACK_IMPORTED_MODULE_12___default()(o).is("td")?s.append(`<tr>${o}</tr>`):s.append(`<tr><td>${o}</td></tr>`)}}):e.forEach(function(t,r){var l=TableExcelHelper.createRowTarget(a,t,n,o,r,e,i);s.append(l)}),s},TableExcelHelper.createRowTarget=function(t,e,n,i,rowIndex,tableData,printData){var o=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<tr></tr>"),columns=t.rowColumns.filter(function(t){return t.checked});o.data("rowData",e),t.rowColumns.filter(function(t){return t.checked}).forEach(function(t,i){if(t.checked){var rowsColumnsMerge="";if(n.rowsColumnsMerge){eval("rowsColumnsMerge="+n.rowsColumnsMerge);var rowsColumnsArr=rowsColumnsMerge(e,t,i,rowIndex,tableData,printData)||[1,1],r=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<td style = 'display:${rowsColumnsArr[0]&&rowsColumnsArr[1]?"":"none"}' rowspan = '${rowsColumnsArr[0]}' colspan = '${rowsColumnsArr[1]}'></td>`)}else var r=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<td></td>");if(e&&Object.keys(e).length>0&&("first"==n.tableHeaderRepeat||"none"==n.tableHeaderRepeat)){if(t.field&&r.attr("field",t.field),t.align&&r.css("text-align",t.align),t.vAlign&&r.css("vertical-align",t.vAlign),n.rowsColumnsMerge&&rowsColumnsArr[1]>1){var width=0;columns.forEach((t,e)=>{e>=i&&e<i+rowsColumnsArr[1]&&(width+=t.width)})}r.css("width",(width||t.width)+"pt")}else t.field&&r.attr("field",t.field),t.align&&r.css("text-align",t.align),t.vAlign&&r.css("vertical-align",t.vAlign);var a=TableExcelHelper.getColumnFormatter(t),p=a?a(e[t.field],e,i,n):e[t.field],rf=TableExcelHelper.getColumnRenderFormatter(t);if(rf)r.html(rf(e[t.field],e,i,n,rowIndex));else if("text"==t.tableTextType||void 0==t.tableTextType)r.html(p);else{if("barcode"==t.tableTextType){r.html('<svg width="100%" display="block" height="100%" class="hibarcode_imgcode" preserveAspectRatio="none slice"></svg ><div class="hibarcode_displayValue"></div>');try{p?(jsbarcode__WEBPACK_IMPORTED_MODULE_14___default()(r.find(".hibarcode_imgcode")[0],p,{format:t.tableBarcodeMode||"CODE128A",width:1,textMargin:-1,lineColor:"#000000",margin:0,height:parseInt(10),displayValue:!1}),r.find(".hibarcode_imgcode").attr("height",t.tableColumnHeight||"30pt"),r.find(".hibarcode_imgcode").css("margin","5pt 10pt"),r.find(".hibarcode_imgcode").attr("width","calc(100% - 20pt)")):r.html(""),t.showCodeTitle&&r.find(".hibarcode_displayValue").html(p)}catch(t){console.log(t),r.html(`${i18n.__("此格式不支持该文本")}`)}}if("image"==t.tableTextType&&(r.html(""),p)){var imagebox=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div><img style = "max-width:100%;max-height:100%"/></div>');imagebox.find("img").attr("src",p),imagebox.find("img").attr("height",t.tableColumnHeight||"50pt"),console.log(imagebox.find("img").css("width")),r.html(imagebox)}if("qrcode"==t.tableTextType){r.html("");try{var qrcodebox=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div style="margin:2pt 0pt" class="hiqrcode_imgcode"></div>');if(p){var l=parseInt(t.width||t.targetWidth||20),u=parseInt(t.tableColumnHeight||20);qrcodebox.css("height",(l>u?u:l)+"pt"),new QRCode(qrcodebox[0],{width:l>u?u:l,height:l>u?u:l,colorDark:"#000000",useSVG:!0,correctLevel:t.tableQRCodeLevel||0}).makeCode(p),r.html(qrcodebox),t.showCodeTitle&&(r.append('<div class="hiqrcode_displayValue"></div>'),r.find(".hiqrcode_displayValue").html(p))}}catch(t){console.log(t),r.html(`${i18n.__("二维码生成失败")}`)}}"sequence"===t.tableTextType&&r.html(rowIndex+1)}var s=TableExcelHelper.getColumnStyler(t);if(s){var l=s(e[t.field],e,i,n);l&&Object.keys(l).forEach(function(t){r.css(t,l[t])})}o.append(r)}});var r=TableExcelHelper.getRowStyler(n,i);if(r){var a=r(e,n);a&&Object.keys(a).forEach(function(t){o.css(t,a[t])})}return o},TableExcelHelper.createEmptyRowTarget=function(t,e){var i=TableExcelHelper.reconsitutionTableColumnTree(t),n=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<tr></tr>");return i.rowColumns.filter(function(t){return t.checked}).forEach(function(t,e){var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<td></td>");t.field&&i.attr("field",t.field),t.align&&i.css("text-align",t.align),t.vAlign&&i.css("vertical-align",t.vAlign),n.append(i)}),e&&e.options.tableBodyRowHeight&&n.find("td:not([rowspan])").css("height",e.options.tableBodyRowHeight+"pt"),n},TableExcelHelper.getColumnsWidth=function(t,e){var i={},n=TableExcelHelper.allAutoWidth(t),o=TableExcelHelper.allFixedWidth(t);return t.rowColumns.filter(function(t){return t.checked}).forEach(function(t){if(t.fixed)i[t.id]=t.width;else{var r=e-o,a=t.width/n*(r>0?r:0);i[t.id]=a}}),i},TableExcelHelper.resizeTableCellWidth=function(t,e,i){var n=TableExcelHelper.reconsitutionTableColumnTree(e),o=TableExcelHelper.getColumnsWidth(n,i);t.find("thead tr td[haswidth]").map(function(t,e){var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()(e).attr("id"),n=o[i];jquery__WEBPACK_IMPORTED_MODULE_12___default()(e).css("width",n+"pt")})},TableExcelHelper.allAutoWidth=function(t){var e=0,i={};return t.rowColumns.filter(function(t){return t.checked}).forEach(function(t){i[t.id]?i[t.id]=0:i[t.id]=t.width,e+=t.fixed?0:i[t.id]}),e},TableExcelHelper.allFixedWidth=function(t){var e=0,i={};return t.rowColumns.filter(function(t){return t.checked}).forEach(function(t){i[t.id]?i[t.id]=0:i[t.id]=t.width,e+=t.fixed?i[t.id]:0}),e},TableExcelHelper.reconsitutionTableColumnTree=function(t,e,i){var n=e||new _ReconsitutionTableColumns__WEBPACK_IMPORTED_MODULE_0__.a;n.colspan=0;for(var o=function(e){n.totalLayer=e+1,n[e]=t[e].columns,0==e&&t[e].columns.forEach(function(t){0==e&&(n.colspan+=t.colspan)})},r=0;r<t.length;r++)o(r);return n.rowColumns=TableExcelHelper.getOrderdColumns(n),n},TableExcelHelper.syncTargetWidthToOption=function(t){t.forEach(function(t){t.columns.forEach(function(t){t.hasWidth&&(t.width=t.targetWidth)})})},TableExcelHelper.getGroupFieldsFormatter=function(options,tablePrintElementType){var groupFieldsFormatter=void 0;if(tablePrintElementType.groupFields&&tablePrintElementType.groupFields.length){var arr="string"==typeof tablePrintElementType.groupFields?tablePrintElementType.groupFields:JSON.stringify(tablePrintElementType.groupFields);options.groupFieldsFormatter="function(type,options,data){ return "+arr+" }"}if(tablePrintElementType.groupFieldsFormatter&&(groupFieldsFormatter=tablePrintElementType.groupFieldsFormatter),options.groupFieldsFormatter)try{var s="groupFieldsFormatter="+options.groupFieldsFormatter;eval(s)}catch(t){console.log(t)}return groupFieldsFormatter},TableExcelHelper.getGroupFormatter=function(options,tablePrintElementType){var groupFormatter=void 0;if(tablePrintElementType.groupFormatter&&(groupFormatter=tablePrintElementType.groupFormatter),options.groupFormatter)try{var s="groupFormatter="+options.groupFormatter;eval(s)}catch(t){console.log(t)}return groupFormatter},TableExcelHelper.getGroupFooterFormatter=function(options,tablePrintElementType){var groupFooterFormatter=void 0;if(tablePrintElementType.groupFooterFormatter&&(groupFooterFormatter=tablePrintElementType.groupFooterFormatter),options.groupFooterFormatter)try{var s="groupFooterFormatter="+options.groupFooterFormatter;eval(s)}catch(t){console.log(t)}return groupFooterFormatter},TableExcelHelper.getFooterFormatter=function(options,tablePrintElementType){var footerFormatter=void 0;if(tablePrintElementType.footerFormatter&&(footerFormatter=tablePrintElementType.footerFormatter),options.footerFormatter)try{var s="footerFormatter="+options.footerFormatter;eval(s)}catch(t){console.log(t)}return footerFormatter},TableExcelHelper.getRowStyler=function(options,tablePrintElementType){var rowStyler=void 0;if(tablePrintElementType.rowStyler&&(rowStyler=tablePrintElementType.rowStyler),options.rowStyler)try{var s="rowStyler="+options.rowStyler;eval(s)}catch(t){console.log(t)}return rowStyler},TableExcelHelper.getColumnTableSummaryFormatter=function(column){var tableSummaryFormatter=void 0;if(column.tableSummaryFormatter&&(tableSummaryFormatter=column.tableSummaryFormatter),column.tableSummaryFormatter)try{var s="tableSummaryFormatter="+column.tableSummaryFormatter;eval(s)}catch(t){console.log(t)}return tableSummaryFormatter},TableExcelHelper.getColumnStyler=function(column){var styler=void 0;if(column.styler&&(styler=column.styler),column.styler2)try{var s="styler="+column.styler2;eval(s)}catch(t){console.log(t)}return styler},TableExcelHelper.getHeaderStyler=function(column){var stylerHeader=void 0;if(column.stylerHeader&&(stylerHeader=column.stylerHeader),column.stylerHeader)try{var s="stylerHeader="+column.stylerHeader;eval(s)}catch(t){console.log(t)}return stylerHeader},TableExcelHelper.getColumnRenderFormatter=function(column){var renderFormatter=void 0;if(column.renderFormatter&&(renderFormatter=column.renderFormatter),column.renderFormatter)try{var s="renderFormatter="+column.renderFormatter;eval(s)}catch(t){console.log(t)}return renderFormatter},TableExcelHelper.getColumnFormatter=function(column){var formatter=void 0;if(column.formatter&&(formatter=column.formatter),column.formatter2)try{var s="formatter="+column.formatter2;eval(s)}catch(t){console.log(t)}return formatter},TableExcelHelper.getOrderdColumns=function(t){let e={};for(let n=0;n<t.totalLayer;n++)e[n]=[],t[n].forEach((t,i)=>{e[n].push(...new Array(t.colspan).fill({...t,colspan:1}))});for(let n=0;n<t.totalLayer;n++)e[n].forEach((t,i)=>{for(let o=1;o<t.rowspan;o++)e[n+o].splice(i,0,{...t,rowspan:1})});let i=[];for(let n=0;n<t.totalLayer;n++)n>=t.totalLayer-1?e[n].forEach((t,e)=>{t.field||(t.field=i[e])}):e[n].forEach((t,e)=>{0==n?i.push(t.field||""):t.field&&(i[e]=t.field)});return this.rowColumns=e[t.totalLayer-1],e[t.totalLayer-1]},TableExcelHelper}()},function(t,e,i){i.d(e,"a",function(){return n});var n=function(){function t(t){this.top=t.top,this.left=t.left,this.height=t.height,this.width=t.width,this.bottomInLastPaper=t.bottomInLastPaper,this.beginPrintPaperIndex=t.beginPrintPaperIndex,this.printTopInPaper=t.printTopInPaper,this.endPrintPaperIndex=t.endPrintPaperIndex}return t.prototype.isPositionLeftOrRight=function(t){return this.top<=t&&this.top+this.height>t},t}()},function(t,e,i){var n=function(){function t(){this.name="lineHeight"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("line-height",e+"pt"),"line-height:"+e+"pt";t[0].style.lineHeight=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("字体行高")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        <option value="22.5" >22.5pt</option>\n        <option value="23.25" >23.25pt</option>\n        <option value="24" >24pt</option>\n        <option value="24.75" >24.75pt</option>\n        <option value="25.5" >25.5pt</option>\n        <option value="26.25" >26.25pt</option>\n        <option value="27" >27pt</option>\n        <option value="27.75" >27.75pt</option>\n        <option value="28.5" >28.5pt</option>\n        <option value="29.25" >29.25pt</option>\n        <option value="30" >30pt</option>\n        <option value="30.75" >30.75pt</option>\n        <option value="31.5" >31.5pt</option>\n        <option value="32.25" >32.25pt</option>\n        <option value="33" >33pt</option>\n        <option value="33.75" >33.75pt</option>\n        <option value="34.5" >34.5pt</option>\n        <option value="35.25" >35.25pt</option>\n        <option value="36" >36pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),o=function(){function t(){this.name="fontFamily"}return t.prototype.createTarget=function(t){var e=void 0;if(t&&(e=t.getFontList()),e){var i=`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("字体")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>`;e.forEach(function(t,e){i+=' <option value="'+(t.value||"")+'" >'+(t.title||"")+"</option>"}),i+=" </select>\n            </div>\n        </div>",this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(i)}else this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("字体")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n            <option value="SimSun" >${i18n.__("宋体")}</option>\n            <option value="Microsoft YaHei" >${i18n.__("微软雅黑")}</option>\n        </select>\n        </div>\n    </div>`);return this.target},t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("font-family",e),"font-family:"+e;t[0].style.fontFamily="inherit"}return null},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),r=function(){function t(){this.name="fontSize"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("font-size",e+"pt"),"font-size:"+e+"pt";t[0].style.fontSize=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("字体大小")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),a=function(){function t(){this.name="fontWeight"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("font-weight",e),"font-weight:"+e;t[0].style.fontWeight=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("字体粗细")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="lighter" >${i18n.__("更细")}</option>\n        <option value="bold" >${i18n.__("粗体")}</option>\n        <option value="bolder" >${i18n.__("粗体+")}</option>\n            <option value="100" >100</option>\n            <option value="200" >200</option>\n            <option value="300" >300</option>\n            <option value="400" >400</option>\n            <option value="500" >500</option>\n            <option value="600" >600</option>\n            <option value="700" >700</option>\n            <option value="800" >800</option>\n            <option value="900" >900</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),s=function(){function t(){this.name="letterSpacing"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("letter-spacing",e+"pt"),"letter-spacing:"+e+"pt";t[0].style.letterSpacing=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("字间距")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),l=function(){function t(){this.name="textAlign"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("text-align",e),"justify"==e?(t.css("text-align-last","justify"),t.css("text-justify","distribute-all-lines")):(t[0].style.textAlignLast="",t[0].style.textJustify=""),"text-align:"+e;t[0].style.textAlign="",t[0].style.textAlignLast="",t[0].style.textJustify=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("左右对齐")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="left" >${i18n.__("居左")}</option>\n        <option value="center" >${i18n.__("居中")}</option>\n        <option value="right" >${i18n.__("居右")}</option>\n        <option value="justify" >${i18n.__("两端对齐")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),p=function(){function t(){this.name="hideTitle"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("标题显示隐藏")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n            <option value="false" >${i18n.__("显示")}</option>\n            <option value="true" >${i18n.__("隐藏")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),d=function(){function t(){this.name="tableBorder"}return t.prototype.css=function(t,e){if(t.find("table").length){if("border"==e||void 0==e)return t.find("table").css("border","1px solid"),"border:1px solid";"noBorder"==e?t.find("table").css("border","0px solid"):t.find("table")[0].style.border=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表格边框")}\n        </div>\n        <div class="hiprint-option-item-field">\n            <select class="auto-submit">\n            <option value="" >${i18n.__("默认")}</option>\n            <option value="border" >${i18n.__("有边框")}</option>\n            <option value="noBorder" >${i18n.__("无边框")}</option>\n            </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),c=function(){function t(){this.name="tableHeaderBorder"}return t.prototype.css=function(t,e){if(t.find("thead tr").length){if("border"==e||void 0==e)return t.find("thead tr").addClass("hiprint-printElement-tableTarget-border-all");"noBorder"==e?t.find("thead tr").addClass("hiprint-printElement-tableTarget-border-none"):"leftBorder"==e?t.find("thead tr").addClass("hiprint-printElement-tableTarget-border-left"):"rightBorder"==e?t.find("thead tr").addClass("hiprint-printElement-tableTarget-border-right"):"leftRightBorder"==e?t.find("thead tr").addClass("hiprint-printElement-tableTarget-border-lr"):"topBorder"==e?t.find("thead tr").addClass("hiprint-printElement-tableTarget-border-top"):"bottomBorder"==e?t.find("thead tr").addClass("hiprint-printElement-tableTarget-border-bottom"):"topBottomBorder"==e?t.find("thead tr").addClass("hiprint-printElement-tableTarget-border-tb"):t.find("thead tr").removeClass()}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表头边框")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>    \n        <option value="border" >${i18n.__("有边框")}</option>\n        <option value="noBorder" >${i18n.__("无边框")}</option>\n        <option value="leftBorder" >${i18n.__("左边框")}</option>\n        <option value="rightBorder" >${i18n.__("右边框")}</option>\n        <option value="leftRightBorder" >${i18n.__("左右边框")}</option>\n        <option value="topBorder" >${i18n.__("上边框")}</option>\n        <option value="bottomBorder" >${i18n.__("下边框")}</option>\n        <option value="topBottomBorder" >${i18n.__("上下边框")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),h=function(){function t(){this.name="tableHeaderCellBorder"}return t.prototype.css=function(t,e){if(t.find("thead tr").length){if("border"==e||void 0==e)return t.find("thead tr").addClass("hiprint-printElement-tableTarget-border-td-all");"noBorder"==e?t.find("thead tr").addClass("hiprint-printElement-tableTarget-border-td-none"):t.find("thead tr").removeClass()}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表头单元格边框")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>    \n        <option value="border" >${i18n.__("有边框")}</option>\n        <option value="noBorder" >${i18n.__("无边框")}</option>\n      \n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),u=function(){function t(){this.name="tableFooterBorder"}return t.prototype.css=function(t,e){if(t.find("tfoot tr").length){if("border"==e||void 0==e)return t.find("tfoot tr").addClass("hiprint-printElement-tableTarget-border-all");"noBorder"==e?t.find("tfoot tr").addClass("hiprint-printElement-tableTarget-border-none"):"leftBorder"==e?t.find("tfoot tr").addClass("hiprint-printElement-tableTarget-border-left"):"rightBorder"==e?t.find("tfoot tr").addClass("hiprint-printElement-tableTarget-border-right"):"leftRightBorder"==e?t.find("tfoot tr").addClass("hiprint-printElement-tableTarget-border-lr"):"topBorder"==e?t.find("tfoot tr").addClass("hiprint-printElement-tableTarget-border-top"):"bottomBorder"==e?t.find("tfoot tr").addClass("hiprint-printElement-tableTarget-border-bottom"):"topBottomBorder"==e?t.find("tfoot tr").addClass("hiprint-printElement-tableTarget-border-tb"):t.find("tfoot tr").removeClass()}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表尾边框")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>    \n        <option value="border" >${i18n.__("有边框")}</option>\n        <option value="noBorder" >${i18n.__("无边框")}</option>\n        <option value="leftBorder" >${i18n.__("左边框")}</option>\n        <option value="rightBorder" >${i18n.__("右边框")}</option>\n        <option value="leftRightBorder" >${i18n.__("左右边框")}</option>\n        <option value="topBorder" >${i18n.__("上边框")}</option>\n        <option value="bottomBorder" >${i18n.__("下边框")}</option>\n        <option value="topBottomBorder" >${i18n.__("上下边框")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),f=function(){function t(){this.name="tableFooterCellBorder"}return t.prototype.css=function(t,e){if(t.find("tfoot tr").length){if("border"==e||void 0==e)return t.find("tfoot tr").addClass("hiprint-printElement-tableTarget-border-td-all");"noBorder"==e?t.find("tfoot tr").addClass("hiprint-printElement-tableTarget-border-td-none"):t.find("tfoot tr").removeClass()}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表尾单元格边框")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>    \n        <option value="border" >${i18n.__("有边框")}</option>\n        <option value="noBorder" >${i18n.__("无边框")}</option>\n      \n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),g=function(){function t(){this.name="tableHeaderRowHeight"}return t.prototype.css=function(t,e){if(t.find("thead tr td").length){if(e)return t.find("thead tr td:not([rowspan])").css("height",e+"pt"),"height:"+e+"pt";t.find("thead tr td").map(function(t,e){e.style.height=""})}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表头行高")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n       \n        <option value="" >${i18n.__("默认")}</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        <option value="22.5" >22.5pt</option>\n        <option value="23.25" >23.25pt</option>\n        <option value="24" >24pt</option>\n        <option value="24.75" >24.75pt</option>\n        <option value="25.5" >25.5pt</option>\n        <option value="26.25" >26.25pt</option>\n        <option value="27" >27pt</option>\n        <option value="27.75" >27.75pt</option>\n        <option value="28.5" >28.5pt</option>\n        <option value="29.25" >29.25pt</option>\n        <option value="30" >30pt</option>\n        <option value="30.75" >30.75pt</option>\n        <option value="31.5" >31.5pt</option>\n        <option value="32.25" >32.25pt</option>\n        <option value="33" >33pt</option>\n        <option value="33.75" >33.75pt</option>\n        <option value="34.5" >34.5pt</option>\n        <option value="35.25" >35.25pt</option>\n        <option value="36" >36pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),m=function(){function t(){this.name="tableHeaderFontSize"}return t.prototype.css=function(t,e){if(t.find("thead").length){if(e)return t.find("thead").css("font-size",e+"pt"),"font-size:"+e+"pt";t.find("thead").map(function(t,e){e.style.fontSize=""})}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表头字体大小")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),_=function(){function t(){this.name="tableHeaderFontWeight"}return t.prototype.css=function(t,e){if(t.find("thead").length){if(e)return t.find("thead tr td").css("font-weight",e),"font-weight:"+e;t.find("thead tr td").map(function(t,e){e.style.fontWeight=""})}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表头字体粗细")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit"> \n        <option value="" >${i18n.__("默认")}</option>\n        <option value="lighter" >${i18n.__("更细")}</option>\n        <option value="bold" >${i18n.__("粗体")}</option>\n        <option value="bolder" >${i18n.__("粗体+")}</option>\n        <option value="100" >100</option>\n        <option value="200" >200</option>\n        <option value="300" >300</option>\n        <option value="400" >400</option>\n        <option value="500" >500</option>\n        <option value="600" >600</option>\n        <option value="700" >700</option>\n        <option value="800" >800</option>\n        <option value="900" >900</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),v=function(){function t(){this.name="tableBodyCellBorder"}return t.prototype.css=function(t,e){if(t.find("tbody tr").length){if("border"==e||void 0==e)return t.find("tbody tr").addClass("hiprint-printElement-tableTarget-border-td-all");"noBorder"==e?t.find("tbody tr").addClass("hiprint-printElement-tableTarget-border-td-none"):t.find("tbody tr").removeClass()}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n            ${i18n.__("表体单元格边框")}\n        </div>\n        <div class="hiprint-option-item-field">\n            <select class="auto-submit">\n            <option value="" >${i18n.__("默认")}</option>\n            <option value="border" >${i18n.__("有边框")}</option>\n            <option value="noBorder" >${i18n.__("无边框")}</option>\n            </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),y=function(){function t(){this.name="tableBodyRowHeight"}return t.prototype.css=function(t,e){if(t.find("tbody tr td").length){if(e)return t.find("tbody tr td").css("height",e+"pt"),"height:"+e+"pt";t.find("tbody tr td").map(function(t,e){e.style.height=""})}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n            ${i18n.__("表体行高")}\n        </div>\n        <div class="hiprint-option-item-field">\n            <select class="auto-submit">\n            <option value="" >${i18n.__("默认")}</option>\n            <option value="6" >6pt</option>\n            <option value="6.75" >6.75pt</option>\n            <option value="7.5" >7.5pt</option>\n            <option value="8.25" >8.25pt</option>\n            <option value="9" >9pt</option>\n            <option value="9.75" >9.75pt</option>\n            <option value="10.5" >10.5pt</option>\n            <option value="11.25" >11.25pt</option>\n            <option value="12" >12pt</option>\n            <option value="12.75" >12.75pt</option>\n            <option value="13.5" >13.5pt</option>\n            <option value="14.25" >14.25pt</option>\n            <option value="15" >15pt</option>\n            <option value="15.75" >15.75pt</option>\n            <option value="16.5" >16.5pt</option>\n            <option value="17.25" >17.25pt</option>\n            <option value="18" >18pt</option>\n            <option value="18.75" >18.75pt</option>\n            <option value="19.5" >19.5pt</option>\n            <option value="20.25" >20.25pt</option>\n            <option value="21" >21pt</option>\n            <option value="21.75" >21.75pt</option>\n            <option value="22.5" >22.5pt</option>\n            <option value="23.25" >23.25pt</option>\n            <option value="24" >24pt</option>\n            <option value="24.75" >24.75pt</option>\n            <option value="25.5" >25.5pt</option>\n            <option value="26.25" >26.25pt</option>\n            <option value="27" >27pt</option>\n            <option value="27.75" >27.75pt</option>\n            <option value="28.5" >28.5pt</option>\n            <option value="29.25" >29.25pt</option>\n            <option value="30" >30pt</option>\n            <option value="30.75" >30.75pt</option>\n            <option value="31.5" >31.5pt</option>\n            <option value="32.25" >32.25pt</option>\n            <option value="33" >33pt</option>\n            <option value="33.75" >33.75pt</option>\n            <option value="34.5" >34.5pt</option>\n            <option value="35.25" >35.25pt</option>\n            <option value="36" >36pt</option>\n            </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),b=function(){function t(){this.name="tableHeaderBackground"}return t.prototype.css=function(t,e){if(t.find("thead").length){if(e)return t.find("thead").css("background",e),"background:"+e;t.find("thead").map(function(t,e){e.style.background=""})}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表头背景")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" class="auto-submit" />\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").minicolors({defaultValue:t||"",theme:"bootstrap"}),this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),E=function(){function t(){this.name="borderWidth"}return t.prototype.createTarget=function(t){var e=["hline","vline","rect","oval"].includes(t.printElementType.type)?`${i18n.__("线宽")}`:`${i18n.__("边框大小")}`;return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${e}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-width",e+"pt"),"border-width:"+e+"pt";t[0].style.borderWidth=""}return null},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),w=function(){function t(){this.name="barcodeMode"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("条形码格式")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="CODE128A" >CODE128A</option>\n        <option value="CODE128B" >CODE128B</option>\n        <option value="CODE128C" >CODE128C</option>\n        <option value="CODE39" >CODE39</option>\n        <option value="EAN13" >EAN-13</option>\n        <option value="EAN8" >EAN-8</option>\n        <option value="EAN5" >EAN-5</option>\n        <option value="EAN2" >EAN-2</option>\n        <option value="UPC" >UPC（A）</option>\n        <option value="ITF" >ITF</option>\n        <option value="ITF14" >ITF-14</option>\n        <option value="MSI" >MSI</option>\n            <option value="MSI10" >MSI10</option>\n            <option value="MSI11" >MSI11</option>\n            <option value="MSI1010" >MSI1010</option>\n            <option value="MSI1110" >MSI1110</option>\n            <option value="Pharmacode" >Pharmacode</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return t||void 0},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),P=function(){function t(){this.name="barTextMode"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item"><div class="hiprint-option-item-label">${i18n.__("条码文本模式")}</div><div class="hiprint-option-item-field"><select class="auto-submit"><option value="">${i18n.__("默认")}</option><option value="text">单独文本</option><option value="svg">svg文本</option></select></div></div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return t||void 0},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),T=function(){function t(){this.name="barWidth"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item"><div class="hiprint-option-item-label">${i18n.__("条码宽度")}</div><div class="hiprint-option-item-field"><select class="auto-submit"><option value="">${i18n.__("默认")}</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option></select></div></div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return t||void 0},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),C=function(){function t(){this.name="barAutoWidth"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item"><div class="hiprint-option-item-label">${i18n.__("条码自动增宽")}</div><div class="hiprint-option-item-field"><select class="auto-submit"><option value="">${i18n.__("默认")}</option><option value="true">${i18n.__("自动")}</option><option value="false">${i18n.__("不自动")}</option></select></div></div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return t||void 0},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),x=function(){function t(){this.name="barcodeType"}return t.prototype.createTarget=function(){var t=[{label:`${i18n.__("默认")}(Code 128)`,value:""},{label:`${i18n.__("商品条码")}`,children:[{label:"EAN-13",value:"ean13"},{label:"EAN-8",value:"ean8"},{label:"UPC-A",value:"upca"},{label:"UPC-E",value:"upce"},{label:"ISBN",value:"isbn"},{label:"ISMN",value:"ismn"},{label:"ISSN",value:"issn"}]},{label:`${i18n.__("条形码")}`,children:[{label:"Code 39",value:"code39"},{label:"Code 39 Extended",value:"code39ext"},{label:"Code 93",value:"code93"},{label:"Code 93 Extended",value:"code93ext"},{label:"Code 128",value:"code128"},{label:"Interleaved 2 of 5 (ITF)",value:"interleaved2of5"}]},{label:`${i18n.__("物流")}`,children:[{label:"EAN-14",value:"ean14"},{label:"GS1-128",value:"gs1-128"},{label:"ITF-14",value:"itf14"},{label:"SSCC-18",value:"sscc18"}]},{label:"GS1 DataBar",children:[{label:"扩展式 GS1 DataBar",value:"databarexpanded"},{label:"层排扩展式 GS1 DataBar",value:"databarexpandedstacked"},{label:"限定式 GS1 DataBar",value:"databarlimited"},{label:"全向式 GS1 DataBar",value:"databaromni"},{label:"层排式 GS1 DataBar",value:"databarstacked"},{label:"全向层排式 GS1 DataBar",value:"databarstackedomni"},{label:"截短式 GS1 DataBar",value:"databartruncated"},{label:"GS1 北美优惠券码",value:"gs1northamericancoupon"}]},{label:`${i18n.__("邮政和快递编码")}`,children:[{label:"AusPost 4 State Customer Code",value:"auspost"},{label:"Deutsche Post Identcode",value:"identcode"},{label:"Deutsche Post Leitcode",value:"leitcode"},{label:"Japan Post 4 State Customer Code",value:"japanpost"},{label:"Royal TNT Post",value:"kix"},{label:"Royal Mail 4 State Customer Code",value:"royalmail"},{label:"Royal Mail Mailmark",value:"mailmark"},{label:"MaxiCode",value:"maxicode"},{label:"USPS FIM symbols",value:"symbol"},{label:"USPS Intelligent Mail",value:"onecode"},{label:"USPS PLANET",value:"planet"},{label:"USPS POSTNET",value:"postnet"}]},{label:`${i18n.__("医疗产品编码")}`,children:[{label:"Italian Pharmacode",value:"code32"},{label:"Pharmaceutical Binary Code",value:"pharmacode"},{label:"Pharmazentralnummer (PZN)",value:"pzn"},{label:"Two-track Pharmacode",value:"pharmacode2"},{label:"HIBC Aztec Code",value:"hibcazteccode"},{label:"HIBC Codablock F",value:"hibccodablockf"},{label:"HIBC Code 128",value:"hibccode128"},{label:"HIBC Code 39",value:"hibccode39"}]},{label:`${i18n.__("不常用编码")}`,children:[{label:"Code 11",value:"code11"},{label:"Code 16K",value:"code16k"},{label:"Code 2 of 5",value:"code2of5"},{label:"Code 49",value:"code49"},{label:"Code One",value:"codeone"},{label:"Codabar",value:"rationalizedCodabar"},{label:"Codablock F",value:"codablockf"},{label:"BC412",value:"bc412"},{label:"COOP 2 of 5",value:"coop2of5"},{label:"Channel Code",value:"channelcode"},{label:"Datalogic 2 of 5",value:"datalogic2of5"},{label:"DotCode",value:"dotcode"},{label:"IATA 2 of 5",value:"iata2of5"},{label:"MSI Plessey",value:"msi"},{label:"Matrix 2 of 5",value:"matrix2of5"},{label:"Plessey UK",value:"plessey"},{label:"PosiCode",value:"posicode"},{label:"Telepen",value:"telepen"},{label:"Telepen Numeric",value:"telepennumeric"}]},{label:"GS1 复合编码",children:[{label:"复合 EAN-13",value:"ean13composite"},{label:"复合 EAN-8",value:"ean8composite"},{label:"复合 UPC-A",value:"upcacomposite"},{label:"复合 UPC-E",value:"upcecomposite"},{label:"层排扩展式复合 GS1 DataBar",value:"databarexpandedstackedcomposite"},{label:"扩展式复合 GS1 DataBar",value:"databarexpandedcomposite"},{label:"限定式复合 GS1 DataBar",value:"databarlimitedcomposite"},{label:"全向式复合 GS1 DataBar",value:"databaromnicomposite"},{label:"层排式复合 GS1 DataBar",value:"databarstackedcomposite"},{label:"全向层排式复合 GS1 DataBar",value:"databarstackedomnicomposite"},{label:"截短式复合 GS1 DataBar",value:"databartruncatedcomposite"},{label:"复合 GS1-128",value:"gs1-128composite"}]},{label:`${i18n.__("附加组件")}`,children:[{label:"EAN-2 (2 位附加码)",value:"ean2"},{label:"EAN-5 (5 位附加码)",value:"ean5"},{label:"GS1 复合 2D 组件",value:"gs1-cc"}]},{label:`${i18n.__("实验编码")}`,children:[{label:"Raw",value:"raw"},{label:"Custom 4 state symbology",value:"daft"},{label:"Flattermarken",value:"flattermarken"}]}];this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row"><div class="hiprint-option-item-label">${i18n.__("条码类型")}</div><div class="hiprint-option-item-field"><select class="auto-submit"></select></div></div>`);var e=this.target.find("select.auto-submit");return t.forEach(t=>{if(t.children){var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<optgroup label="${t.label}"></optgroup`);t.children.forEach(t=>{i.append(jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<option value="${t.value}">${t.label}</option>`))}),e.append(i)}else e.append(`<option value="${t.value}">${t.label}</option>`)}),this.target},t.prototype.getValue=function(){return this.target.find("select").val()||void 0},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),O=function(){function t(){this.name="qrcodeType"}return t.prototype.createTarget=function(){var t=[{label:`${i18n.__("默认")}(qrcode)`,value:""},{label:"QR Code",value:"qrcode"},{label:"Micro QR Code",value:"microqrcode"},{label:"Swiss QR Code",value:"swissqrcode"},{label:"Rectangular Micro QR Code",value:"rectangularmicroqrcode"},{label:"Aztec Code",value:"azteccode"},{label:"Aztec Runes",value:"aztecrune"},{label:"Compact Aztec Code",value:"azteccodecompact"},{label:"Data Matrix",value:"datamatrix"},{label:"Data Matrix Rectangular",value:"datamatrixrectangular"},{label:"汉信码",value:"hanxin"},{label:"GS1 Data Matrix",value:"gs1datamatrix"},{label:"GS1 Data Matrix Rectangular",value:"gs1datamatrixrectangular"},{label:"GS1 QR Code",value:"gs1qrcode"},{label:"HIBC Data Matrix",value:"hibcdatamatrix"},{label:"HIBC Data Matrix Rectangular",value:"hibcdatamatrixrectangular"},{label:"HIBC MicroPDF417",value:"hibcmicropdf417"},{label:"HIBC PDF417",value:"hibcpdf417"},{label:"HIBC QR Code",value:"hibcqrcode"}];this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row"><div class="hiprint-option-item-label">${i18n.__("二维码类型")}</div><div class="hiprint-option-item-field"><select class="auto-submit"></select></div></div>`);var e=this.target.find("select.auto-submit");return t.forEach(t=>{e.append(`<option value="${t.value}">${t.label}</option>`)}),this.target},t.prototype.getValue=function(){return this.target.find("select").val()||void 0},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),D=function(){function t(){this.name="qrCodeLevel"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("二维码容错率")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="1" >7% L</option>\n        <option value="0" >15% M</option>\n        <option value="3" >25% Q</option>\n        <option value="2" >30% H</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return parseInt(t||0)},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),M=function(){function t(){this.name="color"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("color",e),"color:"+e;t[0].style.color=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("字体颜色")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" class="auto-submit"/>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").minicolors({defaultValue:t||"",theme:"bootstrap"}),this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),I=function(){function t(){this.name="textDecoration"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("文本修饰")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n            <option value="underline" >${i18n.__("下划线")}</option>\n            <option value="overline" >${i18n.__("上划线")}</option>\n            <option value="line-through" >${i18n.__("穿梭线")}</option>\n           \n        </select>\n        </div>\n    </div>`),this.target},t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("text-decoration",e),"text-decoration:"+e;t[0].style.textDecoration=""}return null},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),R=function(){function t(){this.name="field"}return t.prototype.createTarget=function(t){var e=void 0;if(t&&(e=t.getFields()),e){this.isSelect=!0;var i=`<div class="hiprint-option-item hiprint-option-item-row">\n            <div class="hiprint-option-item-label">\n            ${i18n.__("字段名")}\n            </div>\n            <div class="hiprint-option-item-field">\n            <select class="auto-submit">\n                <option value="" >${i18n.__("请选择字段")}</option>`;e.forEach(function(t,e){i+=' <option value="'+(t.field||"")+'" >'+(t.text||"")+"</option>"}),i+=" </select>\n            </div>\n        </div>",this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(i)}else this.isSelect=!1,this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n            <div class="hiprint-option-item-label">\n            ${i18n.__("字段名")}\n            </div>\n            <div class="hiprint-option-item-field">\n            <input type="text" placeholder="${i18n.__("请输入字段名")}" class="auto-submit">\n            </div>\n        </div>`);return this.target},t.prototype.getValue=function(){return(this.isSelect?this.target.find("select").val():this.target.find("input").val())||void 0},t.prototype.setValue=function(t){this.isSelect?t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>"),this.target.find("select").val(t)):this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),S=function(){function t(){this.name="title"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("标题")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:50px;" placeholder="${i18n.__("请输入标题")}" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),B=function(){function t(){this.name="testData"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("测试数据")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="${i18n.__("仅字段名称存在时有效")}" class="auto-submit" >\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),A=function(){function t(){this.name="coordinate"}return t.prototype.createTarget=function(t,e){var i=this;return i.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n          <div class="hiprint-option-item-label">\n        ${i18n.__("位置坐标")}\n        </div>\n          <div class="hiprint-option-item-field" style="display: flex;align-items: baseline;">\n\n          <input type="number" style="width:48%" placeholder="${i18n.__("X位置(左)")}" class="auto-submit" />\n\n          <input type="number" style="width:48%" placeholder="${i18n.__("Y位置(上)")}" class="auto-submit" />\n\n          </div>\n\n          </div>`),i.syncLock=e.coordinateSync||!1,i.createSyncLock(i.syncLock),i.target},t.prototype.createSyncLock=function(t){var e=this;return e.lockTarget=e.syncLock?jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<label style="margin: 0 4px;text-align:center;width: 8%" title="${i18n.__("同步")}">🔗</label>`):jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<label style="margin: 0 4px;text-align:center;width: 8%" title="${i18n.__("不同步")}">🔓</label>`),e.lockTarget.click(function(){e.syncLock?e.lockTarget.text("🔓").attr("title",`${i18n.__("不同步")}`):e.lockTarget.text("🔗").attr("title",`${i18n.__("同步")}`),e.syncLock=!e.syncLock}),e.target.find("input:first").after(e.lockTarget),e.target.find("input:first").change(function(){e.syncLock&&e.target.find("input:last").val(jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).val())}),e.target.find("input:last").change(function(){e.syncLock&&e.target.find("input:first").val(jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).val())}),e.lockTarget},t.prototype.css=function(t){if(t&&t.length&&this.target&&("block"==t.find(".resize-panel").css("display")||t[0].className.includes("table"))&&this.el==t){var e=this.getValue();return t.css("left",e.left+"pt").css("top",e.top+"pt")}return null},t.prototype.getValue=function(){var t={coordinateSync:this.syncLock,left:0,top:0};return t.left=parseFloat(this.target.find("input:first").val()||0),t.top=parseFloat(this.target.find("input:last").val()||0),t},t.prototype.setValue=function(t,e){this.el=e.designTarget||e,this.target.find("input:first").val(t.left),this.target.find("input:last").val(t.top)},t.prototype.destroy=function(){this.target.remove()},t}(),L=function(){function t(){this.name="widthHeight"}return t.prototype.createTarget=function(t,e){var i=this;return i.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n          <div class="hiprint-option-item-label">\n        ${i18n.__("宽高大小")}\n        </div>\n          <div class="hiprint-option-item-field" style="display: flex;align-items: baseline;">\n\n          <input type="number" style="width:48%" placeholder="${i18n.__("宽")}" class="auto-submit" />\n\n          <input type="number" style="width:48%" placeholder="${i18n.__("高")}" class="auto-submit" />\n\n          </div>\n\n          </div>`),i.syncLock=e.widthHeightSync||!1,i.createSyncLock(i.syncLock),i.target},t.prototype.createSyncLock=function(t){var e=this;return e.lockTarget=e.syncLock?jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<label style="margin: 0 4px;text-align:center;width: 8%" title="${i18n.__("同步")}">🔗</label>`):jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<label style="margin: 0 4px;text-align:center;width: 8%" title="${i18n.__("不同步")}">🔓</label>`),e.lockTarget.click(function(){e.syncLock?e.lockTarget.text("🔓").attr("title",`${i18n.__("不同步")}`):e.lockTarget.text("🔗").attr("title",`${i18n.__("同步")}`),e.syncLock=!e.syncLock}),e.target.find("input:first").after(e.lockTarget),e.target.find("input:first").change(function(){e.syncLock&&e.target.find("input:last").val(jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).val())}),e.target.find("input:last").change(function(){e.syncLock&&e.target.find("input:first").val(jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).val())}),e.lockTarget},t.prototype.css=function(t){if(t&&t.length&&this.target&&("block"==t.find(".resize-panel").css("display")||t[0].className.includes("table"))&&this.el==t){var e=this.getValue();return t.css("width",e.width+"pt").css("height",e.height+"pt")}return null},t.prototype.getValue=function(){var t={widthHeightSync:this.syncLock,width:0,height:0};return t.width=parseFloat(this.target.find("input:first").val()||0),t.height=parseFloat(this.target.find("input:last").val()||0),t},t.prototype.setValue=function(t,e){this.el=e.designTarget||e,this.target.find("input:first").val(t.width),this.target.find("input:last").val(t.height)},t.prototype.destroy=function(){this.target.remove()},t}(),k=function(){function t(){this.name="src"}return t.prototype.createTarget=function(t){this.el=t;var e=void 0,i=this;return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("图片地址")}\n        </div>\n        <div class="hiprint-option-item-field" style="display: flex;align-items: baseline;">\n        <input type="text" placeholder="${i18n.__("请输入图片地址")}" class="auto-submit" style="width:70%">\n    <button class="hiprint-option-item-settingBtn" style="padding:0 10px;margin:0 0 0 5px" type="button">${i18n.__("选择")}</button>        </div>\n    </div>`),t&&(e=t.getOnImageChooseClick()),e&&this.target.find("button").click(function(){e&&e(i)}),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.refresh=function(t,e,i){var n=this;if(this.setValue(t),this.target.find("input").change(),this.el&&e){var o=new Image;o.src=t,o.complete?n.updateEl(o.width,o.height,e,i):o.onload=function(){n.updateEl(o.width,o.height,e,i)}}},t.prototype.updateEl=function(t,e,i,n){var o,r,a;i&&(i&&i.auto&&(t>=e?i.width=!0:i.height=!0),i.width?(o=e/t,r=this.el.options.width,a=Math.floor(r*o*10)/10,this.el.options.height=a,this.el.designTarget.css("height",a+"pt")):i.height?(o=t/e,a=this.el.options.height,r=Math.floor(a*o*10)/10,this.el.options.width=r,this.el.designTarget.css("width",r+"pt")):i.real&&(r=hinnn.px.toPt(t),a=hinnn.px.toPt(e),this.el.options.width=r,this.el.options.height=a,this.el.designTarget.css("width",r+"pt"),this.el.designTarget.css("height",a+"pt")),this.el.designTarget.children(".resize-panel").trigger(jquery__WEBPACK_IMPORTED_MODULE_12___default().Event("click")));n&&n(this.el,t,e)},t.prototype.destroy=function(){this.target.remove()},t}(),H=function(){function t(){this.name="fit"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.find("img").css("object-fit",e),"object-fit:"+e;t.find("img")[0].style["object-fit"]=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("图片缩放")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="contain" >${i18n.__("等比")}</option>\n        <option value="cover" >${i18n.__("剪裁")}</option>\n        <option value="fill" >${i18n.__("填充")}</option>\n        <option value="none" >${i18n.__("原始尺寸")}</option>\n                </select>\n        </div>\n    </div>`),this.target,this.target},t.prototype.getValue=function(){return this.target.find("select").val()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),F=function(){function t(){this.name="borderColor"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-color",e),"border-color:"+e;t[0].style.borderColor=""}return null},t.prototype.createTarget=function(t){var e=["hline","vline","rect","oval"].includes(t.printElementType.type)?`${i18n.__("颜色")}`:`${i18n.__("边框颜色")}`;return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${e}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" class="auto-submit" />\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").minicolors({defaultValue:t||"",theme:"bootstrap"}),this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),W=function(){function t(){this.name="watermarkOptions"}return t.prototype.createTarget=function(){this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row"><div class="hiprint-option-item-label">${i18n.__("水印功能")}</div></div>`),this.content=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item-field" style="display: flex;align-items: baseline;"><div style="width:25%">${i18n.__("水印内容")}:</div><input style="width:75%" type="text" placeholder="${i18n.__("水印内容")}" class="auto-submit"></div>`),this.fillStyle=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item-field" style="display: flex;align-items: center;margin-top: 4px"><div style="width:25%">${i18n.__("字体颜色")}:</div><input style="width:110%" data-format="rgb" data-opacity="0.3" type="text" placeholder="${i18n.__("字体颜色")}" class="auto-submit"></div>`),this.fontSize=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item-field" style="display: flex;align-items: center;"><div style="width:25%">${i18n.__("字体大小")}:</div><input style="width:75%" type="range" min="10" max="80" placeholder="${i18n.__("字体大小")}" class="auto-submit"></div>`),this.rotate=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item-field" style="display: flex;align-items: center;"><div style="width:25%">${i18n.__("旋转角度")}:</div><input style="width:75%" type="range" min="0" max="180" placeholder="${i18n.__("旋转角度")}" class="auto-submit"></div>`),this.width=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item-field" style="display: flex;align-items: center;"><div style="width:25%">${i18n.__("水平密度")}:</div><input style="width:75%" type="range" min="100" max="800" placeholder="${i18n.__("水平密度")}" class="auto-submit"></div>`),this.height=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item-field" style="display: flex;align-items: center;"><div style="width:25%">${i18n.__("垂直密度")}:</div><input style="width:75%" type="range" min="100" max="800" placeholder="${i18n.__("垂直密度")}" class="auto-submit"></div>`),this.timestamp=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item-field" style="display: flex;align-items: center;"><div style="width:25%">${i18n.__("水印时间")}:</div><input style="width:18px;height:18px;margin:0 0 4px 0;" type="checkbox" placeholder="${i18n.__("水印时间")}" class="auto-submit"></div>`);let t=["YYYY-MM-DD HH:mm:ss","YYYY-MM-DD HH:mm","YYYY-MM-DD HH","YYYY-MM-DD","YYYY-MMMM","YYYY-MM","YYYY"],e=`\n            <option value="" >${i18n.__("默认")}(YYYY-MM-DD HH:mm)</option>`;return t.forEach(function(t){e+='\n            <option value="'+t+'">'+t+"</option>"}),this.format=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item-field" style="display: flex;align-items: baseline;"><div style="width:25%">${i18n.__("时间格式")}:</div><select style="width:75%" class="auto-submit"></select></div>`),this.format.find(".auto-submit").append(jquery__WEBPACK_IMPORTED_MODULE_12___default()(e)),this.target.append(this.content),this.target.append(this.fillStyle),this.target.append(this.fontSize),this.target.append(this.rotate),this.target.append(this.width),this.target.append(this.height),this.target.append(this.timestamp),this.target.append(this.format),this.target},t.prototype.getValue=function(){let t={content:this.content.find("input").val(),fillStyle:this.fillStyle.find("input").val()||"rgba(184, 184, 184, 0.3)",fontSize:parseInt(this.fontSize.find("input").val()||"14")+"px",rotate:parseInt(this.rotate.find("input").val()||"25"),width:parseInt(this.width.find("input").val()||"200"),height:parseInt(this.height.find("input").val()||"200"),timestamp:this.timestamp.find("input").is(":checked"),format:""==this.format.find("select").val()?"YYYY-MM-DD HH:mm":this.format.find("select").val()},e=Object.assign({},this.options,t);return e},t.prototype.setValue=function(t){this.options=t,this.content.find("input").val(t.content||""),this.fillStyle.find("input").val(t.fillStyle||"rgba(184, 184, 184, 0.3)"),this.fillStyle.find("input").minicolors({format:"rgb",opacity:!0,theme:"bootstrap"});const e=parseInt(t.fontSize||"14");this.fontSize.find("input").val(e),this.rotate.find("input").val(t.rotate||25),this.width.find("input").val(t.width||200),this.height.find("input").val(t.height||200),this.timestamp.find("input").attr("checked",void 0!=t.timestamp&&t.timestamp),this.format.find("select").val(t.format||"YYYY-MM-DD HH:mm")},t.prototype.destroy=function(){this.target.remove()},t}(),j=function(){function t(){this.name="paperNumberFormat"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("页码格式")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="\${paperNo}-\${paperCount}" class="auto-submit">\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),U=function(){function t(){this.name="paperNumberDisabled"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("显示页码")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("显示")}</option>\n        <option value="true" >${i18n.__("隐藏")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),$=function(){function t(){this.name="paperNumberContinue"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("页码续排")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="true" >${i18n.__("续排")}</option>\n        <option value="reset" >${i18n.__("重排")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){return"true"==this.target.find("select").val()},t.prototype.setValue=function(t){this.target.find("select").val((void 0==t||t?"true":"reset").toString())},t.prototype.destroy=function(){this.target.remove()},t}(),z=function(){function t(){this.name="longTextIndent"}return t.prototype.css=function(t,e){return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("每行缩进")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        <option value="22.5" >22.5pt</option>\n        <option value="23.25" >23.25pt</option>\n        <option value="24" >24pt</option>\n        <option value="24.75" >24.75pt</option>\n        <option value="25.5" >25.5pt</option>\n        <option value="26.25" >26.25pt</option>\n        <option value="27" >27pt</option>\n        <option value="27.75" >27.75pt</option>\n        <option value="28.5" >28.5pt</option>\n        <option value="29.25" >29.25pt</option>\n        <option value="30" >30pt</option>\n        <option value="30.75" >30.75pt</option>\n        <option value="31.5" >31.5pt</option>\n        <option value="32.25" >32.25pt</option>\n        <option value="33" >33pt</option>\n        <option value="33.75" >33.75pt</option>\n        <option value="34.5" >34.5pt</option>\n        <option value="35.25" >35.25pt</option>\n        <option value="36" >36pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),K=function(){function t(){this.name="showInPage"}return t.prototype.css=function(t,e){if(t&&t.length){if(e&&"none"==e)return t.addClass("alwaysHide");t.removeClass("alwaysHide")}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("显示规则")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n            <option value="none" >${i18n.__("始终隐藏")}</option>\n            <option value="first" >${i18n.__("首页")}</option>\n            <option value="odd" >${i18n.__("奇数页")}</option>\n            <option value="even" >${i18n.__("偶数页")}</option>\n            <option value="last" >${i18n.__("尾页")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),q=function(){function t(){this.name="pageBreak"}return t.prototype.css=function(t,e){if(t&&t.length){if(e&&"none"==e)return t.addClass("alwaysHide");t.removeClass("alwaysHide")}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("强制分页")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n            <option value="true" >${i18n.__("是")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),N=function(){function t(){this.name="panelPaperRule"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("打印规则")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n            <option value="odd" >${i18n.__("保持奇数")}</option>\n            <option value="even" >${i18n.__("保持偶数")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),V=function(){function t(){this.name="panelPageRule"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("分页规则")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n            <option value="none" >${i18n.__("不分页")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),G=function(){function t(){this.name="leftSpaceRemoved"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("移除段落左侧空白")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n            <option value="true" >${i18n.__("移除")}</option>\n            <option value="false" >${i18n.__("不移除")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){if("false"==this.target.find("select").val())return!1},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),Y=function(){function t(){this.name="firstPaperFooter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("首页页尾")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="${i18n.__("首页页尾")}" class="auto-submit">\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),X=function(){function t(){this.name="lastPaperFooter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("尾页页尾")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="${i18n.__("尾页页尾")}" class="auto-submit">\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),J=function(){function t(){this.name="evenPaperFooter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("偶数页页尾")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="${i18n.__("偶数页页尾")}" class="auto-submit">\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Q=function(){function t(){this.name="oddPaperFooter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("奇数页页尾")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="${i18n.__("奇数页页尾")}" class="auto-submit" >\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Z=function(){function t(){this.name="fixed"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("位置固定")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n            <option value="false" >${i18n.__("否")}</option>\n            <option value="true" >${i18n.__("是")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),tt=function(){function t(){this.name="axis"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("拖动方向")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="h" >${i18n.__("横向")}</option>\n        <option value="v" >${i18n.__("竖向")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return t||void 0},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),et=function(){function t(){this.name="leftOffset"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("左偏移")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="${i18n.__("偏移量")}pt" class="auto-submit" >\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),it=function(){function t(){this.name="lHeight"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("最低高度")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="${i18n.__("文本过短或为空时的高度")}" class="auto-submit">\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),nt=function(){function t(){this.name="unShowInPage"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("隐藏规则")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n            <option value="first" >${i18n.__("首页")}</option>\n            <option value="last" >${i18n.__("尾页")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),ot=function(){function t(){this.name="tableBodyRowBorder"}return t.prototype.css=function(t,e){if(t.find("tbody tr").length){if("border"==e||void 0==e)return t.find("tbody tr").addClass("hiprint-printElement-tableTarget-border-all");"noBorder"==e?t.find("tbody tr").addClass("hiprint-printElement-tableTarget-border-none"):"leftBorder"==e?t.find("tbody tr").addClass("hiprint-printElement-tableTarget-border-left"):"rightBorder"==e?t.find("tbody tr").addClass("hiprint-printElement-tableTarget-border-right"):"leftRightBorder"==e?t.find("tbody tr").addClass("hiprint-printElement-tableTarget-border-lr"):"topBorder"==e?t.find("tbody tr").addClass("hiprint-printElement-tableTarget-border-top"):"bottomBorder"==e?t.find("tbody tr").addClass("hiprint-printElement-tableTarget-border-bottom"):"topBottomBorder"==e?t.find("tbody tr").addClass("hiprint-printElement-tableTarget-border-tb"):t.find("tbody tr").removeClass()}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表体行边框")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>    \n        <option value="border" >${i18n.__("有边框")}</option>\n        <option value="noBorder" >${i18n.__("无边框")}</option>\n        <option value="leftBorder" >${i18n.__("左边框")}</option>\n        <option value="rightBorder" >${i18n.__("右边框")}</option>\n        <option value="leftRightBorder" >${i18n.__("左右边框")}</option>\n        <option value="topBorder" >${i18n.__("上边框")}</option>\n        <option value="bottomBorder" >${i18n.__("下边框")}</option>\n        <option value="topBottomBorder" >${i18n.__("上下边框")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),rt=function(){function t(){this.name="transform"}return t.prototype.css=function(t,e){if(t&&t.length){var i=t.find(".hiprint-printElement-content").parent(".hiprint-printElement");if(i.length||(i=t),e)return i.css("transform","rotate("+e+"deg)"),i.css("-ms-transform","rotate("+e+"deg)"),i.css("-moz-transform","rotate("+e+"deg)"),i.css("-webkit-transform","rotate("+e+"deg)"),i.css("-o-transform","rotate("+e+"deg)"),"transform:rotate("+e+"deg)";i.length&&(i[0].style.transform="")}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("旋转角度")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="number" class="auto-submit"/>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),at=function(){function t(){this.name="zIndex"}return t.prototype.css=function(t,e){return t&&t.length&&e?t.css("z-index",e):null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("元素层级")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="number" class="auto-submit"/>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseInt(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),st=function(){function t(){this.name="borderRadius"}return t.prototype.css=function(t,e){return t&&t.length&&e?t.css("border-raduis",e):null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("边框圆角")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" class="auto-submit"/>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),lt=function(){function t(){this.name="optionsGroup"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("边框设置")}\n        </div>\n       \n    </div>`),this.target},t.prototype.getValue=function(){},t.prototype.setValue=function(t){},t.prototype.destroy=function(){this.target.remove()},t}(),pt=function(){function t(){this.name="borderTop"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-top-style",e),"border-top:1px";t[0].style.borderTopStyle="",t[0].style.borderTopWidth=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("上边框")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n            <option value="" >${i18n.__("否")}</option>\n            <option value="solid" >${i18n.__("实线")}</option>\n            <option value="dotted" >${i18n.__("虚线")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),dt=function(){function t(){this.name="borderLeft"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-left-style",e),"border-left:1px";t[0].style.borderLeftStyle="",t[0].style.borderLeftWidth=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("左边框")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("否")}</option>\n        <option value="solid" >${i18n.__("实线")}</option>\n        <option value="dotted" >${i18n.__("虚线")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),ct=function(){function t(){this.name="borderRight"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-right-style",e),"border-right:1px";t[0].style.borderRightStyle="",t[0].style.borderRightWidth=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("右边框")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("否")}</option>\n        <option value="solid" >${i18n.__("实线")}</option>\n        <option value="dotted" >${i18n.__("虚线")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),ht=function(){function t(){this.name="borderBottom"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-bottom-style",e),"border-bottom-style:1px solid";t[0].style.borderBottomStyle="",t[0].style.borderBottomWidth=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("下边框")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("否")}</option>\n        <option value="solid" >${i18n.__("实线")}</option>\n        <option value="dotted" >${i18n.__("虚线")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),ut=function(){function t(){this.name="contentPaddingLeft"}return t.prototype.css=function(t,e){var i=t.find(".hiprint-printElement-content");if(i&&i.length){if(e)return i.css("padding-left",e+"pt"),"padding-left";i[0].style.paddingLeft=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("左内边距")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),ft=function(){function t(){this.name="contentPaddingTop"}return t.prototype.css=function(t,e){var i=t.find(".hiprint-printElement-content");if(i&&i.length){if(e)return i.css("padding-top",e+"pt"),"padding-top";i[0].style.paddingTop=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("上内边距")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),gt=function(){function t(){this.name="contentPaddingRight"}return t.prototype.css=function(t,e){var i=t.find(".hiprint-printElement-content");if(i&&i.length){if(e)return i.css("padding-right",e+"pt"),"padding-right";i[0].style.paddingRight=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("右内边距")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),mt=function(){function t(){this.name="contentPaddingBottom"}return t.prototype.css=function(t,e){var i=t.find(".hiprint-printElement-content");if(i&&i.length){if(e)return i.css("padding-bottom",e+"pt"),"padding-bottom";i[0].style.paddingBottom=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("下内边距")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),_t=function(){function t(){this.name="borderStyle"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-style",e),"border-style:1px";t[0].style.borderStyle=""}return null},t.prototype.createTarget=function(t){var e=["hline","vline","rect","oval"].includes(t.printElementType.type)?`${i18n.__("样式")}`:`${i18n.__("边框样式")}`;return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n       ${e}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n            <option value="" >${i18n.__("默认")}</option>\n            <option value="solid" >${i18n.__("实线")}</option>\n            <option value="dashed" >${i18n.__("长虚线")}</option>\n            <option value="dotted" >${i18n.__("短虚线")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),vt=function(){function t(){this.name="backgroundColor"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("background-color",e),"background-color:"+e;t[0].style.backgroundColor=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("背景颜色")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" class="auto-submit"/>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").minicolors({defaultValue:t||"",theme:"bootstrap"}),this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),yt=function(){function t(){this.name="barColor"}return t.prototype.css=function(t,e){return t&&t.length,null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("条码颜色")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" class="auto-submit"/>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").minicolors({defaultValue:t||"",theme:"bootstrap"}),this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),bt=function(){function t(){this.name="orient"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("纸张方向(仅自定义纸质有效)")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="1" >${i18n.__("纵向")}</option>\n        <option value="2" >${i18n.__("横向")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Et=function(){function t(){this.name="textContentVerticalAlign"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("上下对齐")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="middle" >${i18n.__("垂直居中")}</option>\n        <option value="bottom" >${i18n.__("底部")}</option>\n       \n        </select>\n        </div>\n    </div>`),this.target},t.prototype.css=function(t,e){return t&&t.length&&(t.removeClass("hiprint-text-content-middle"),t.removeClass("hiprint-text-content-bottom"),e)?("middle"===e&&t.addClass("hiprint-text-content-middle"),"bottom"===e&&t.addClass("hiprint-text-content-bottom"),""):null},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),wt=function(){function t(){this.name="textContentWrap"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("文本换行")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="nowrap" >${i18n.__("不换行")}</option>\n        <option value="clip" >${i18n.__("不换行&隐藏")}</option>\n        <option value="ellipsis" >${i18n.__("不换行&省略")}</option>\n       </select>\n        </div>\n    </div>`),this.target},t.prototype.css=function(t,e){return t&&t.length&&(t.removeClass("hiprint-text-content-wrap"),t.find(".hiprint-printElement-text-content").removeClass("hiprint-text-content-wrap-nowrap"),t.find(".hiprint-printElement-text-content").removeClass("hiprint-text-content-wrap-clip"),t.find(".hiprint-printElement-text-content").removeClass("hiprint-text-content-wrap-ellipsis"),e)?(t.addClass("hiprint-text-content-wrap"),t.find(".hiprint-printElement-text-content").addClass("hiprint-text-content-wrap-"+e),""):null},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Pt=i(5),Tt=function(){function t(){this.name="columns"}return t.prototype.createTarget=function(){return jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="indicator"></div>').appendTo("body"),this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(' <div class="hiprint-option-item hiprint-option-item-row">\n       <div>\n            <ul class="hiprint-option-table-selected-columns"> </ul>\n       </div>\n    </div>'),this.target},t.prototype.getValue=function(){return this.buildData()},t.prototype.setValue=function(t,e,i){var n=this,o=this;this.value=t,this.options=e,this.printElementType=i;var r=i.columns[0].filter(function(e){return 0==t[0].columns.filter(function(t){return e.columnId==t.columnId}).length}).map(function(t){var e=new Pt.a(t);return e.checked=!1,e});this.allColumns=t[0].columns.concat(r),t&&1==t.length&&(this.target.find("ul").html(this.allColumns.map(function(t,e){return'<li  class="hiprint-option-table-selected-item"> <div class="hi-pretty p-default">\n                '+(t.checked?'<input type="checkbox"   checked column-id="'+(t.id||t.columnId)+'" />':'<input type="checkbox"  column-id="'+(t.id||t.columnId)+'" />')+'\n                <div class="state">\n                    <label></label>\n                </div>\n            </div><span class="column-title">'+(t.title||t.descTitle||"")+"</span></li>"}).join("")),this.target.find("input").change(function(t){var e=t.target.checked,i=t.target.attributes["column-id"].nodeValue||"",o=n.allColumns.findIndex(function(t){return t.field==i||t.id==i});o>=0&&(n.allColumns[o]["checked"]=e),n.submit()}),this.printElementType.columnDisplayIndexEditable&&this.target.find("li").hidraggable({revert:!0,handle:".column-title",moveUnit:"pt",deltaX:0,deltaY:0}).hidroppable({onDragOver:function(t,e){jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).css("border-top-color","red")},onDragLeave:function(t,e){jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).css("border-top-color","")},onDrop:function(t,e){jquery__WEBPACK_IMPORTED_MODULE_12___default()(e).insertBefore(this),jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).css("border-top-color",""),o.submit()}}))},t.prototype.buildData=function(){var t=this,e=[];return t.options.columns.length>1||(t.printElementType.makeColumnObj(t.allColumns),this.target.find("input").map(function(i,n){var o=jquery__WEBPACK_IMPORTED_MODULE_12___default()(n).attr("column-id"),r=t.printElementType.getColumnByColumnId(o);if(r){var a=new Pt.a(r);a.checked=r.checked,e.push(a)}}),this.value[0].columns=e),this.value},t.prototype.destroy=function(){this.target.remove()},t}(),Ct=function(){function t(){this.name="textType"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("打印类型")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="" >${i18n.__("文本")}</option>\n        <option value="barcode" >${i18n.__("条形码")}</option>\n        <option value="qrcode" >${i18n.__("二维码")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),xt=function(){function t(){this.name="tableTextType"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("字段类型")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认(文本)")}</option>\n        <option value="text" >${i18n.__("文本")}</option>\n <option value="sequence" >${i18n.__("序号")}</option>\n       <option value="barcode" >${i18n.__("条形码")}</option>\n        <option value="qrcode" >${i18n.__("二维码")}</option>\n    <option value="image" >${i18n.__("图片")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Ot=function(){function t(){this.name="tableBarcodeMode"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("条形码格式")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n         <option value="" >${i18n.__("默认")}(CODE128A)</option>\n         <option value="CODE128A" >CODE128A</option>\n        <option value="CODE128B" >CODE128B</option>\n        <option value="CODE128C" >CODE128C</option>\n        <option value="CODE39" >CODE39</option>\n        <option value="EAN-13" >EAN-13</option>\n        <option value="EAN-8" >EAN-8</option>\n        <option value="EAN-5" >EAN-5</option>\n        <option value="EAN-2" >EAN-2</option>\n        <option value="UPC（A）" >UPC（A）</option>\n        <option value="ITF" >ITF</option>\n        <option value="ITF-14" >ITF-14</option>\n        <option value="MSI" >MSI</option>\n            <option value="MSI10" >MSI10</option>\n            <option value="MSI11" >MSI11</option>\n            <option value="MSI1010" >MSI1010</option>\n            <option value="MSI1110" >MSI1110</option>\n            <option value="Pharmacode" >Pharmacode</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return t||void 0},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Dt=function(){function t(){this.name="tableQRCodeLevel"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("二维码容错率")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="1" >7% L</option>\n        <option value="0" >15% M</option>\n        <option value="3" >25% Q</option>\n        <option value="2" >30% H</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return parseInt(t||0)},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Mt=function(){function t(){this.name="tableColumnHeight"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item ">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("单元格高度")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="${i18n.__("条形码、二维码以及图片有效")}" class="auto-submit" >\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),It=function(){function t(){this.name="tableSummaryTitle"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item"><div class="hiprint-option-item-label">${i18n.__("底部聚合标题")}</div><div class="hiprint-option-item-field"><select class="auto-submit"><option value="">${i18n.__("默认")}</option><option value="true">${i18n.__("显示")}</option><option value="false">${i18n.__("隐藏")}</option></select></div></div>`),this.target},t.prototype.getValue=function(){return!("false"==this.target.find("select").val())},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),Rt=function(){function t(){this.name="tableSummaryText"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("底部聚合文本")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="${i18n.__("聚合类型")}:" class="auto-submit" >\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),St=function(){function t(){this.name="tableSummaryColspan"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("底部聚合合并列数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="number" min="0" step="1" placeholder="${i18n.__("合并列数")}" class="auto-submit" >\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Bt=function(){function t(){this.name="tableSummaryAlign"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("底部聚合类型左右对齐")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="left" >${i18n.__("居左")}</option>\n        <option value="center" >${i18n.__("居中")}</option>\n        <option value="right" >${i18n.__("居右")}</option>\n        <option value="justify" >${i18n.__("两端对齐")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),At=function(){function t(){this.name="tableSummaryNumFormat"}return t.prototype.createTarget=function(){var t=[{t:`${i18n.__("整数")}`,v:"0"}],e=[1,2,3,4,5,6];e.forEach(function(e){t.push({t:i18n.__n("保留%s位",e),v:""+e})});var i=`\n            <option value="" >${i18n.__("默认")}</option>`;return t.forEach(function(t){i+='\n            <option value="'+(t.v||"")+'">'+(t.t||"")+"</option>"}),this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("底部聚合小数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit"></select>\n        </div>\n    </div>`),this.target.find(".auto-submit").append(jquery__WEBPACK_IMPORTED_MODULE_12___default()(i)),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Lt=function(){function t(){this.name="showCodeTitle"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(` <div class="hiprint-option-item" title="条形码底部是否显示内容">\n        <div class="hiprint-option-item-label">\n          ${i18n.__("显示码值")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n            <option value="true" >${i18n.__("显示")}</option>\n            <option value="false" >${i18n.__("隐藏")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),kt=function(){function t(){this.name="tableSummaryFormatter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("底部聚合格式化函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(column,fieldPageData,tableData,options){ return '<td></td>'; }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),Ht=function(){function t(){this.name="upperCase"}return t.prototype.createTarget=function(){var t=[{t:"「小写」十点八",v:"0"},{t:"「小写」一十点八",v:"1"},{t:"「大写」拾点捌",v:"2"},{t:"「大写」壹拾点捌",v:"3"},{t:"「金额」人民币拾元捌角",v:"4"},{t:"「金额」人民币壹拾元捌角",v:"5"},{t:"「金额」人民币壹拾元捌角零分",v:"6"},{t:"「金额」壹拾元捌角零分",v:"7"}],e=`\n<option value="">${i18n.__("默认")}</option>`;return t.forEach(t=>{e+=`\n<option value='${t.v}'>${t.t}</option>`}),this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n<div class="hiprint-option-item-label">\n${i18n.__("转大小写")}\n</div>\n<div class="hiprint-option-item-field">\n<select class="auto-submit"></select>\n</div>\n</div>`),this.target.find(".auto-submit").append(jquery__WEBPACK_IMPORTED_MODULE_12___default()(e)),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Ft=function(){function t(){this.name="tableSummary"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item"><div class="hiprint-option-item-label">${i18n.__("底部聚合类型")}</div><div class="hiprint-option-item-field"><select class="auto-submit"><option value="">${i18n.__("不聚合")}</option><option value="count">${i18n.__("计数")}</option><option value="sum">${i18n.__("合计")}</option><option value="avg">${i18n.__("平均值")}</option><option value="min">${i18n.__("最小值")}</option><option value="max">${i18n.__("最大值")}</option><option value="text">${i18n.__("仅文本")}</option></select></div></div>`),this.target},t.prototype.getValue=function(){return this.target.find("select").val()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Wt=function(){function t(){this.name="topOffset"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("顶部偏移")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="${i18n.__("偏移量")}pt" class="auto-submit">\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),jt=function(){function t(){this.name="panelLayoutOptions"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row"><div class="hiprint-option-item-label">${i18n.__("面板排列")}</div></div>`),this.layoutType=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item-field" style="display: flex;align-items: baseline;"><div style="width:25%">${i18n.__("排列方式")}:</div><select style="width:75%" class="auto-submit"><option value="column" >${i18n.__("纵向")}</option><option value="row" >${i18n.__("横向")}</option></select></div></div>`),this.layoutRowGap=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item-field" style="display: flex;align-items: baseline;margin-top: 4px"><div style="width:25%">${i18n.__("垂直间距")}:</div><input style="width:75%" type="text" placeholder="${i18n.__("垂直间距mm")}" class="auto-submit"></div>`),this.layoutColumnGap=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item-field" style="display: flex;align-items: baseline;margin-top: 4px"><div style="width:25%">${i18n.__("水平间距")}:</div><input style="width:75%" type="text" placeholder="${i18n.__("水平间距mm")}" class="auto-submit"></div>`),this.target.append(this.layoutType),this.target.append(this.layoutRowGap),this.target.append(this.layoutColumnGap),this.target},t.prototype.getValue=function(){let t={layoutType:this.layoutType.find("select").val()||"column",layoutRowGap:parseInt(this.layoutRowGap.find("input").val()||0),layoutColumnGap:parseInt(this.layoutColumnGap.find("input").val()||0)},e=Object.assign({},this.options,t);return e},t.prototype.setValue=function(t){this.options=t,this.layoutType.find("select").val(t.layoutType||"column"),this.layoutRowGap.find("input").val(t.layoutRowGap),this.layoutColumnGap.find("input").val(t.layoutColumnGap)},t.prototype.destroy=function(){this.target.remove()},t}(),Ut=function(){function t(){this.name="gridColumns"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("一行多组")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="2" >${i18n.__("一行二列")}</option>\n        <option value="3" >${i18n.__("一行三列")}</option>\n        <option value="4" >${i18n.__("一行四列")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),$t=function(){function t(){this.name="gridColumnsGutter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("一行多组间隔")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.25" >7.25pt</option>\n        <option value="8.5" >8.5pt</option>\n        <option value="9" >9pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.find(".table-grid-row").css("margin-left","-"+e+"pt").css("margin-right","-"+e+"pt"),t.find(".tableGridColumnsGutterRow").css("padding-left",e+"pt").css("padding-right",e+"pt"),null;t.find(".table-grid-row").map(function(t,e){e.style.marginLeft="",e.style.marginRight=""}),t.find(".tableGridColumnsGutterRow").map(function(t,e){e.style.paddingLeft="",e.style.paddingRight=""})}return null},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),zt=function(){function t(){this.name="tableHeaderRepeat"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表格头显示")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="page" >${i18n.__("每页显示")}</option>\n        <option value="first" >${i18n.__("首页显示")}</option>\n        <option value="none" >${i18n.__("不显示")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Kt=function(){function t(){this.name="paddingLeft"}return t.prototype.css=function(t,e){var i=t;if(i&&i.length){if(e)return i.css("padding-left",e+"pt"),"padding-left";i[0].style.paddingLeft=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("左内边距")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),qt=function(){function t(){this.name="paddingRight"}return t.prototype.css=function(t,e){var i=t;if(i&&i.length){if(e)return i.css("padding-right",e+"pt"),"padding-right";i[0].style.paddingRight=""}return null},t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("右内边距")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Nt=function(){function t(){this.name="dataType"}return t.prototype.createTarget=function(){var t=this;return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`\n        <div class="hiprint-option-item-row">\n        <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("数据类型")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="hiprint-option-item-datatype">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="datetime" >${i18n.__("日期时间")}</option>\n        <option value="boolean" >${i18n.__("布尔")}</option>\n        </select>\n        </div>\n    </div>\n    <div class="hiprint-option-item ">\n        <div class="hiprint-option-item-label ">\n        ${i18n.__("格式")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select  class="auto-submit hiprint-option-item-datatype-select-format">\n        <option value="" >${i18n.__("默认")}</option>\n        \n        </select>\n        <input class="auto-submit  hiprint-option-item-datatype-input-format" type="text" data-type="boolean" placeholder="true:false">\n        </div>\n    </div>\n        </div>\n`),jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.target.find(".hiprint-option-item-datatype")).change(function(){var e=jquery__WEBPACK_IMPORTED_MODULE_12___default()(t.target.find(".hiprint-option-item-datatype")).val();t.loadFormatSelectByDataType(e),t.submit(t.getValue())}),this.target},t.prototype.getValue=function(){var t=this.target.find(".hiprint-option-item-datatype").val();if(t){var e=this.target.find(".hiprint-option-item-datatype-format").val();return{dataType:t,format:e||void 0}}return{dataType:void 0,format:void 0}},t.prototype.setValue=function(t,e){this.target.find(".hiprint-option-item-datatype").val(e.dataType||""),this.loadFormatSelectByDataType(e.dataType),this.target.find(".hiprint-option-item-datatype-format").val(e.format||"")},t.prototype.destroy=function(){this.target.remove()},t.prototype.loadFormatSelectByDataType=function(t){"boolean"===t?(this.target.find(".hiprint-option-item-datatype-select-format").removeClass("hiprint-option-item-datatype-format").hide().val(""),this.target.find(".hiprint-option-item-datatype-input-format").addClass("hiprint-option-item-datatype-format").show()):"datetime"===t?(this.target.find(".hiprint-option-item-datatype-select-format").addClass("hiprint-option-item-datatype-format").show(),this.target.find(".hiprint-option-item-datatype-input-format").removeClass("hiprint-option-item-datatype-format").hide().val(""),this.target.find(".hiprint-option-item-datatype-select-format").html(`\n            <option value="" >${i18n.__("默认")}</option>\n            <option value="M/d" >M/d</option>\n            <option value="MM/dd" >MM/dd</option>\n            <option value="yy/M/d" >yy/M/d</option>\n            <option value="yy/MM/dd" >yy/MM/dd</option>\n            <option value="yyyy/M/d" >yyyy/M/d</option>\n            <option value="yyyy/MM/dd" >yyyy/MM/dd</option>\n            <option value="yy/M/d H:m" >yy/M/d H:m</option>\n            <option value="yy/M/d H:m:s" >yy/M/d H:m:s</option>\n            <option value="yy/M/d HH:mm" >yy/M/d HH:mm</option>\n            <option value="yy/M/d HH:mm:ss" >yy/M/d HH:mm:ss</option>\n            <option value="yy/MM/dd H:m" >yy/MM/dd H:m</option>\n            <option value="yy/MM/dd H:m:s" >yy/MM/dd H:m:s</option>\n            <option value="yy/MM/dd HH:mm" >yy/MM/dd HH:mm</option>\n            <option value="yy/MM/dd HH:mm:ss" >yy/MM/dd HH:mm:ss</option>\n            <option value="yyyy/M/d H:m" >yyyy/M/dd H:m</option>\n            <option value="yyyy/M/d H:m:s" >yyyy/M/d H:m:s</option>\n            <option value="yyyy/M/d HH:mm" >yyyy/M/d HH:mm</option>\n            <option value="yyyy/M/d HH:mm:ss" >yyyy/M/d HH:mm:ss</option>\n            <option value="yyyy/MM/dd H:m" >yyyy/MM/dd H:m</option>\n            <option value="yyyy/MM/dd H:m:s" >yyyy/MM/dd H:m:s</option>\n            <option value="yyyy/MM/dd HH:mm" >yyyy/MM/dd HH:mm</option>\n            <option value="yyyy/MM/dd HH:mm:ss" >yyyy/MM/dd HH:mm:ss</option>\n\n            <option value="M-d" >M-d</option>\n            <option value="MM-dd" >MM-dd</option>\n            <option value="yy-M-d" >yy-M-d</option>\n            <option value="yy-MM-dd" >yy-MM-dd</option>\n            <option value="yyyy-M-d" >yyyy-M-d</option>\n            <option value="yyyy-MM-dd" >yyyy-MM-dd</option>\n            <option value="yy-M-d H:m" >yy-M-d H:m</option>\n            <option value="yy-M-d H:m:s" >yy-M-d H:m:s</option>\n            <option value="yy-M-d HH:mm" >yy-M-d HH:mm</option>\n            <option value="yy-M-d HH:mm:ss" >yy-M-d HH:mm:ss</option>\n            <option value="yy-MM-dd H:m" >yy-MM-dd H:m</option>\n            <option value="yy-MM-dd H:m:s" >yy-MM-dd H:m:s</option>\n            <option value="yy-MM-dd HH:mm" >yy-MM-dd HH:mm</option>\n            <option value="yy-MM-dd HH:mm:ss" >yy-MM-dd HH:mm:ss</option>\n            <option value="yyyy-M-d H:m" >yyyy-M-d H:m</option>\n            <option value="yyyy-M-d H:m:s" >yyyy-M-d H:m:s</option>\n            <option value="yyyy-M-d HH:mm" >yyyy-M-d HH:mm</option>\n            <option value="yyyy-M-d HH:mm:ss" >yyyy-M-d HH:mm:ss</option>\n            <option value="yyyy-MM-dd H:m" >yyyy-MM-dd H:m</option>\n            <option value="yyyy-MM-dd H:m:s" >yyyy-MM-dd H:m:s</option>\n            <option value="yyyy-MM-dd HH:mm" >yyyy-MM-dd HH:mm</option>\n            <option value="yyyy-MM-dd HH:mm:ss" >yyyy-MM-dd HH:mm:ss</option>\n`)):(this.target.find(".hiprint-option-item-datatype-select-format").show(),this.target.find(".hiprint-option-item-datatype-input-format").hide().val(""),this.target.find(".hiprint-option-item-datatype-format").html(`\n            <option value="" >${i18n.__("默认")}</option>\n`))},t}(),Vt=function(){function t(){this.name="formatter"}return t.prototype.createTarget=function(){var t=`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("格式化函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(title,value,options,templateData,target){}" class="auto-submit"></textarea>\n        </div>\n    </div>`;return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(t),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),Gt=function(){function t(){this.name="styler"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("样式函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(value, options, target,templateData){}" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),Yt=function(){function t(){this.name="rowsColumnsMerge"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("行/列合并函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(data, col, colIndex, rowIndex, tableData, printData){ return [1,1] }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),Xt=function(){function t(){this.name="rowsColumnsMergeClean"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("跨页合并是否清除")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="true" >${i18n.__("是")}</option>\n        <option value="false" >${i18n.__("否")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),Jt=function(){function t(){this.name="footerFormatter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表格脚函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(options,rows,data,pageData,pageIndex){ return '<tr></tr>' }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),Qt=function(){function t(){this.name="groupSequenceContinue"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("分组序号续编")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="true" >${i18n.__("是")}</option>\n        <option value="false" >${i18n.__("否")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),Zt=function(){function t(){this.name="groupFieldsFormatter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("分组字段函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(type,options,data){ return [] }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),te=function(){function t(){this.name="groupFormatter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("分组头格式化函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(colTotal,tableData,printData,groupData,options){ return '${i18n.__("分组头信息")}(html)' }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),ee=function(){function t(){this.name="groupFooterFormatter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("分组脚格式化函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(colTotal,tableData,printData,groupData,options){ return '${i18n.__("分组脚信息")}(html)' }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),ie=function(){function t(){this.name="gridColumnsFooterFormatter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("多组表格脚函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(options,rows,data,pageData){ return '' }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),ne=function(){function t(){this.name="rowStyler"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("行样式函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(value,options){ return '' }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),oe=function(){function t(){this.name="align"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("单元格左右对齐")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="left" >${i18n.__("居左")}</option>\n        <option value="center" >${i18n.__("居中")}</option>\n        <option value="right" >${i18n.__("居右")}</option>\n        <option value="justify" >${i18n.__("两端对齐")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),re=function(){function t(){this.name="vAlign"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("单元格上下对齐")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="top" >${i18n.__("上")}</option>\n        <option value="middle" >${i18n.__("中")}</option>\n        <option value="bottom" >${i18n.__("下")}</option>\n        \n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),ae=function(){function t(){this.name="halign"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表格头单元格左右对齐")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="left" >${i18n.__("居左")}</option>\n        <option value="center" >${i18n.__("居中")}</option>\n        <option value="right" >${i18n.__("居右")}</option>\n        <option value="justify" >${i18n.__("两端对齐")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),se=function(){function t(){this.name="styler2"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("单元格样式函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(value,row,index,options){ return {color:'red' }; }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),le=function(){function t(){this.name="stylerHeader"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表格头样式函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(options){ return {color:'red' }; }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),pe=function(){function t(){this.name="formatter2"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("单元格格式化函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(value,row,index,options){ return ''; }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),de=function(){function t(){this.name="renderFormatter"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("单元格渲染函数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(value,row,colIndex,options,rowIndex){ return '<td></td>'; }" class="auto-submit"></textarea>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),ce=function(){function t(){this.name="autoCompletion"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("自动补全")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="true" >${i18n.__("是")}</option>\n        <option value="false" >${i18n.__("否")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),he=function(){function t(){this.name="maxRows"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("每页最大行数")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="number" value="1" step="1" min="1" class="auto-submit"/>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseInt(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),ue=function(){function t(){this.name="tableFooterRepeat"}return t.prototype.createTarget=function(){return this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        ${i18n.__("表格脚显示")}\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >${i18n.__("默认")}</option>\n        <option value="no" >${i18n.__("不显示")}</option>\n        <option value="page" >${i18n.__("每页显示")}</option>\n        <option value="last" >${i18n.__("最后显示")}</option>\n        </select>\n        </div>\n    </div>`),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}();i.d(e,"a",function(){return fe});var fe=function(){function t(){}return t.init=function(){t.printElementOptionItems||(t.printElementOptionItems={},t._printElementOptionItems.forEach(function(e){t.printElementOptionItems[e.name]=e}))},t.registerItem=function(e){if(!e.name)throw new Error("styleItem must have name");t.init(),t.printElementOptionItems[e.name]=e},t.getItem=function(e){return t.init(),t.printElementOptionItems[e]},t._printElementOptionItems=[new o,new r,new a,new s,new n,new l,new p,new Ct,new d,new c,new h,new g,new m,new _,new v,new u,new f,new y,new b,new E,new w,new D,new M,new I,new R,new S,new B,new A,new L,new k,new H,new F,new j,new U,new $,new W,new z,new K,new q,new N,new V,new G,new Y,new X,new J,new Q,new Z,new tt,new Wt,new et,new it,new nt,new ot,new rt,new st,new at,new lt,new pt,new dt,new ct,new ht,new ft,new ut,new gt,new mt,new _t,new vt,new bt,new Et,new wt,new Tt,new Ut,new jt,new $t,new zt,new Kt,new qt,new Nt,new Vt,new Gt,new Jt,new Yt,new Xt,new Qt,new Zt,new te,new ee,new ie,new ne,new oe,new ae,new re,new se,new le,new de,new pe,new ce,new he,new ue,new Mt,new Ot,new Dt,new xt,new It,new Rt,new St,new Ft,new Bt,new At,new kt,new Lt,new Ht,new x,new O,new yt,new P,new T,new C],t}()},function(t,e,i){i.d(e,"a",function(){return o}),i.d(e,"b",function(){return r});var n=i(14),o=function(){function t(t,e){this.selectedCells=[],this.rows=t,this.tableTatget=e}return t.prototype.clear=function(){this.tableTatget.find("td").removeClass("selected")},t.prototype.setSingleSelect=function(t){this.startCell=t,this.selectedCells=[]},t.prototype.getSingleSelect=function(){if(this.selectedCells.length){if(1==this.selectedCells.length)return 1==this.selectedCells[0].length?this.selectedCells[0][0]:void 0;if(this.selectedCells.length>1)return}return this.startCell},t.prototype.singleSelectByXY=function(t,e){var i=this.getCellByXY(t,e);i&&(this.clear(),i&&(i.cell.select(),this.startCell=i,this.selectedCells=[]))},t.prototype.multipleSelectByXY=function(t,e){this.clear();var i=[];if(this.startCell){var o=this.getCellByXY(t,e);if(o){var r=n.a.mergeRect(this.startCell.cell.getTableRect(),o.cell.getTableRect());this.selectByRect(new a(r),i)}}this.selectedCells=i},t.prototype.selectByRect=function(t,e){this.rows.forEach(function(i,n){var o=[];i.columns.forEach(function(e){e.isInRect(t)&&(o.push(new s(n,e)),e.select())}),o.length&&e.push(o)}),t.changed&&(t.changed=!1,e.splice(0,e.length),this.selectByRect(t,e))},t.prototype.getSelectedCells=function(){return this.selectedCells},t.prototype.getCellByXY=function(t,e){var i;return this.rows.forEach(function(n,o){var r=(n.columns||[]).filter(function(t){return t.checked}).filter(function(i){return i.isXYinCell(t,e)});r.length&&(i=new s(o,r[0]))}),i},t}(),r=function(){return function(t){this.x=t.x,this.y=t.y,this.height=t.height,this.width=t.width}}(),a=function(){return function(t){this.rect=t}}(),s=function(){return function(t,e){this.rowIndex=t,this.cell=e}}()},function(t,e,i){i.d(e,"a",function(){return n});var n=function(){function t(){}return t.createId=function(){return this.id+=1,this.id},t.id=1,t}()},function(t,e,i){i.d(e,"a",function(){return s});var n,o=i(5),r=i(13),a=(n=function(t,e){return(n=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=function(t){function e(e){var i=t.call(this)||this;return i.columns=[],e&&e.constructor===Array?(e||[]).forEach(function(t){i.columns.push(new o.a(t))}):e.columns&&(e.columns||[]).forEach(function(t){i.columns.push(new o.a(t))}),i}return a(e,t),e.prototype.getPrintElementOptionEntity=function(){var t=[],e=this.allColumns?this.allColumns.filter(function(t){return!t.checked}):[];return[...this.columns,...e].forEach(function(e){t.push(e.getEntity())}),t},e}(r.a)},function(t,e,i){i.d(e,"a",function(){return r});var n=i(11),o=i(5),r=function(){function t(){this.id=n.a.createId()}return t.prototype.init=function(t,e,i){this.isHead=i,this.target=e||jquery__WEBPACK_IMPORTED_MODULE_12___default()("<tr></tr>"),this.tableOptions=t,this.allColumns=this.columns||[],this.initCells((this.columns||[]).filter(function(t){return t.checked}))},t.prototype.getTarget=function(){return this.target},t.prototype.initCells=function(t){var e=this;t?(this.columns=t,t.forEach(function(t,i){t.init(e.target.find("td:eq("+i+")"),e.tableOptions,e.id,e.isHead)})):(this.columns=[],this.target.find("td").map(function(t,i){var n=new o.a;n.init(jquery__WEBPACK_IMPORTED_MODULE_12___default()(i),e.tableOptions,e.id,e.isHead),e.columns.push(n)}))},t.prototype.removeCell=function(t){var e=this.columns.indexOf(t);this.columns[e].getTarget().remove(),this.columns.splice(e,1)},t.prototype.createTableCell=function(t,e){var i=new o.a;return i.init(jquery__WEBPACK_IMPORTED_MODULE_12___default()("<td></td>"),this.tableOptions,this.id,this.isHead),t>1&&(i.getTarget().attr("rowspan",t),i.rowspan=t),e>1&&(i.getTarget().attr("colspan",e),i.colspan=e),i},t.prototype.insertToTargetCellLeft=function(t,e){var i=this.columns.indexOf(t);t.getTarget().before(e.getTarget()),this.columns.splice(i,0,e)},t.prototype.insertToTargetCellRight=function(t,e){var i=this.columns.indexOf(t);this.columns[i].getTarget().after(e.getTarget()),this.columns.splice(i+1,0,e)},t.prototype.insertCellToFirst=function(t){this.target.prepend(t.getTarget()),this.columns.splice(0,0,t)},t.prototype.insertCellToLast=function(t){this.columns.push(t),this.target.append(t.getTarget())},t.prototype.getPrintElementOptionEntity=function(){var t=[];return[...this.columns,...this.allColumns.filter(function(t){return!t.checked})].forEach(function(e){t.push(e.getEntity())}),t},t}()},function(t,e,i){i.d(e,"a",function(){return o});var n=i(10),o=function(){function t(){}return t.mergeRect=function(t,e){var i=Math.min(t.x,e.x),o=Math.min(t.y,e.y);return new n.b({x:i,y:o,height:Math.max(t.y+t.height,e.y+e.height)-o,width:Math.max(t.x+t.width,e.x+e.width)-i})},t.Rect=function(t,e,i,n){return{minX:t<i?t:i,minY:e<n?e:n,maxX:t<i?i:t,maxY:e<n?n:e}},t}()},function(module,__nested_webpack_exports__,__nested_webpack_require_225986__){__nested_webpack_require_225986__.d(__nested_webpack_exports__,"a",function(){return TablePrintElement});var _BasePrintElement__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_225986__(4),_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_225986__(1),_dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_225986__(6),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_225986__(0),_PrintReferenceElement__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_225986__(8),_option_TablePrintElementOption__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_225986__(18),_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_225986__(7),_hitable_HiTale__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_225986__(16),_table_GridColumnsStructure__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_225986__(20),_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__=__nested_webpack_require_225986__(2),__extends=(_extendStatics=function(t,e){return(_extendStatics=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}_extendStatics(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),_extendStatics,TablePrintElement=function(_super){function TablePrintElement(t,e){var i=_super.call(this,t)||this;return i.gridColumnsFooterCss="hiprint-gridColumnsFooter",i.tableGridRowCss="table-grid-row",i.options=new _option_TablePrintElementOption__WEBPACK_IMPORTED_MODULE_5__.a(e,i.printElementType),i.options.setDefault(new _option_TablePrintElementOption__WEBPACK_IMPORTED_MODULE_5__.a(_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.table.default).getPrintElementOptionEntity()),i}return __extends(TablePrintElement,_super),TablePrintElement.prototype.getColumns=function(){return this.options.columns},TablePrintElement.prototype.getColumnByColumnId=function(t){return this.options.getColumnByColumnId(t)},TablePrintElement.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.designTarget.find(".hiprint-printElement-table-content"),e=this.getHtml(this.designPaper);t.html(""),t.append(e[0].target.find(".table-grid-row")),this.printElementType.editable&&this.setHitable(),this.setColumnsOptions(),this.css(this.designTarget,this.getData())}},TablePrintElement.prototype.css=function(t,e){if((this.getField()||!this.options.content)&&!this.printElementType.formatter)return _super.prototype.css.call(this,t,e)},TablePrintElement.prototype.getDesignTarget=function(t){return this.designTarget=this.getHtml(t)[0].target,this.css(this.designTarget,this.getData()),this.designPaper=t,this.designTarget.find("td").hidroppable({accept:".rn-draggable-item",onDrop:function(t,e){},onDragEnter:function(t,e){jquery__WEBPACK_IMPORTED_MODULE_12___default()(e).removeClass("rn-draggable-item")},onDragLeave:function(t,e){jquery__WEBPACK_IMPORTED_MODULE_12___default()(e).addClass("rn-draggable-item")}}),this.designTarget},TablePrintElement.prototype.getConfigOptions=function(){return _HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.table},TablePrintElement.prototype.createTarget=function(t,e,i){for(var n=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printElement hiprint-printElement-table" style="position: absolute;"><div class="hiprint-printElement-table-handle"></div><div class="hiprint-printElement-table-content" style="height:100%;width:100%"></span></div>'),o=this.createGridColumnsStructure(i),r=0;r<o.gridColumns;r++)o.getByIndex(r).append(this.getTableHtml(e,i));return n.find(".hiprint-printElement-table-content").append(o.target),n},TablePrintElement.prototype.createGridColumnsStructure=function(t){for(var e=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hi-grid-row table-grid-row"></div>'),i=0;i<this.options.getGridColumns();i++){var n=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="tableGridColumnsGutterRow hi-grid-col" style="width:'+100/this.options.getGridColumns()+'%;"></div>');e.append(n)}var o=this.getGridColumnsFooterFormatter();if(o){var r=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-gridColumnsFooter"></div>');r.append(o(this.options,this.getData(t),t,[])),e.append(r)}return new _table_GridColumnsStructure__WEBPACK_IMPORTED_MODULE_8__.a(this.options.getGridColumns(),e)},TablePrintElement.prototype.createtempEmptyRowsTargetStructure=function(t){if(this.getField())return this.createTarget(this.printElementType.title,[]);var e=this.createTarget(this.printElementType.title,[]).clone();return e.find(".hiprint-printElement-tableTarget tbody tr").remove(),e},TablePrintElement.prototype.getTableHtml=function(t,e){var i,n;if(!this.getField()&&this.options.content)return(i=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<div></div>")).append(this.options.content),(n=i.find("table")).addClass("hiprint-printElement-tableTarget"),n;if(this.printElementType.formatter)return(i=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<div></div>")).append(this.printElementType.formatter(t)),(n=i.find("table")).addClass("hiprint-printElement-tableTarget"),n;var o=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<table class="hiprint-printElement-tableTarget" style="border-collapse: collapse;"></table>');let r=_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.createTableHead(this.getColumns(),this.options.getWidth()/this.options.getGridColumns());return this.isNotDesign?o.append(r):o.append(r[0]),o.append(_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.createTableRow(this.getColumns(),t,e,this.options,this.printElementType)),"no"==this.options.tableFooterRepeat||_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.createTableFooter(this.printElementType.columns,t,this.options,this.printElementType,e,t).insertBefore(o.find("tbody")),o},TablePrintElement.prototype.getEmptyRowTarget=function(){return _table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.createEmptyRowTarget(this.getColumns(),this)},TablePrintElement.prototype.getHtml=function(t,e){this.createTempContainer(),this.isNotDesign=void 0!=e;var i=this.getPaperHtmlResult(t,e);return this.removeTempContainer(),i},TablePrintElement.prototype.getPaperHtmlResult=function(t,e){var i=[],n=this.getData(e),o=this.getTableHtml(n,e),r=this.createtempEmptyRowsTargetStructure(e);e?this.updateTargetWidth(r):this.updateTargetSize(r),this.css(r,n),this.css(o,n),this.getTempContainer().html(""),this.getTempContainer().append(r);var a=r.find("tfoot").outerHeight()||0;r.find("tfoot").remove();for(var s,l=this.getBeginPrintTopInPaperByReferenceElement(t),p=0,d=!1;!d;){var c=0,h=t.getPaperFooter(p);0==p&&l>h&&"none"!=t.panelPageRule&&(l=l-h+t.paperHeader,i.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_2__.a({target:void 0,printLine:void 0})),c=t.getContentHeight(p)-(l-t.paperHeader),p++,h=t.getPaperFooter(p));var u=i.length>0?i[i.length-1].target:void 0,f=this.getRowsInSpecificHeight(e,c>0?c:0==p?h-l:t.getContentHeight(p),r,o,p,u,a);if(d=f.isEnd,c<0){i[0].target=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div style="position:absolute;background: red;color: white;padding: 0px 4px;">${i18n.__("没有足够空间进行表格分页，请调整页眉/页脚线")}</div>`),i[0].printLine=l,i[0].referenceElement=new _PrintReferenceElement__WEBPACK_IMPORTED_MODULE_4__.a({top:this.options.getTop(),left:this.options.getLeft(),height:this.options.getHeight(),width:this.options.getWidth(),beginPrintPaperIndex:t.index,bottomInLastPaper:l+this.options.lHeight,printTopInPaper:l}),i[0].target.css("top",l+"pt"),i[0].target.css("left",this.options.displayLeft());break}var g=void 0;f.target&&(f.target.css("left",this.options.displayLeft()),f.target[0].height=""),0==p||c>0?(f.target&&(s=l,f.target.css("top",l+"pt")),g=d&&null!=this.options.lHeight?l+(f.height>this.options.lHeight?f.height:this.options.lHeight):l+f.height):(f.target&&(s=t.paperHeader,f.target.css("top",t.paperHeader+"pt")),g=t.paperHeader+f.height),i.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_2__.a({target:f.target,printLine:g,referenceElement:new _PrintReferenceElement__WEBPACK_IMPORTED_MODULE_4__.a({top:this.options.getTop(),left:this.options.getLeft(),height:this.options.getHeight(),width:this.options.getWidth(),beginPrintPaperIndex:t.index,bottomInLastPaper:g,printTopInPaper:s})})),p++,e&&this.updatePanelHeight(g+this.options.getHeight(),t)}return i},TablePrintElement.prototype.getRowsInSpecificHeight=function(t,e,i,n,o,r,a){var s=this,l=n.find("tbody"),p=_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.pt.toPx(e);i.find(".hiprint-printElement-tableTarget tbody").html(""),"last"!=this.options.tableFooterRepeat&&i.find(".hiprint-printElement-tableTarget tfoot").remove(),"first"==this.options.tableHeaderRepeat&&o>0?i.find(".hiprint-printElement-tableTarget thead").remove():"none"==this.options.tableHeaderRepeat&&(t?i.find(".hiprint-printElement-tableTarget thead").remove():(i.find(".hiprint-printElement-tableTarget thead").css("background","firebrick"),i.find(".hiprint-printElement-tableTarget thead tr").css("background","firebrick")));var d,c="none"==this.panel.panelPageRule;if(t&&c){var h=i.find(".hiprint-printElement-tableTarget thead").attr("style");d=i.find(".hiprint-printElement-tableTarget thead tr").clone(),h?d.attr("style",h):d.css({background:"#e8e8e8"}),i.find(".hiprint-printElement-tableTarget thead").remove()}var u=i.outerHeight();if(!c&&u>p)return{target:void 0,length:0,height:0,isEnd:!1};for(var f=this.options.getGridColumns(),g=[],m=0;m<f;m++)for(var _=i.find(".hiprint-printElement-tableTarget:eq("+m+")"),v=void 0,y=[];;){if(c){var b=l.find("tr").length;if(0==b)v={height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(u),isEnd:!0},t&&this.options.autoCompletion&&(this.autoCompletion(p,_,a),u=i.outerHeight());else{var E=l.find("tr:lt(1)");0==y.length&&d&&_.find("tbody").append(d),_.find("tbody").append(E);var w=E.data("rowData");g.push(w),y.push(w),u=i.outerHeight(),0==b&&(l.prepend(E),g.pop(),y.pop(),v={height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(u),isEnd:!1})}}else if(u<=p)if(0==l.find("tr").length)v={height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(u),isEnd:!0},t&&this.options.autoCompletion&&(this.autoCompletion(p,_,a),u=_.outerHeight());else{E=l.find("tr:lt(1)");s.options.rowsColumnsMerge&&(o>0||m>0)&&0==y.length&&(E=s.fixMergeSpan(E,l)),_.find("tbody").append(E);w=E.data("rowData");g.push(w),y.push(w),u=_.outerHeight(),(("last"==this.options.tableFooterRepeat?u:u+=a)>p||this.options.maxRows&&y.length>+this.options.maxRows)&&(l.prepend(E),g.pop(),y.pop(),u=_.outerHeight(),v={height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(u),isEnd:!1})}if(v){if("last"==this.options.tableFooterRepeat&&!v.isEnd)break;"no"!==this.options.tableFooterRepeat&&(c?_.find("tbody").append(_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.createTableFooter(this.printElementType.columns,this.getData(t),this.options,this.printElementType,t,y,o).children()):_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.createTableFooter(this.printElementType.columns,this.getData(t),this.options,this.printElementType,t,y,o).insertBefore(_.find("tbody")),s.css(_,t));break}}var P=i.find(".hiprint-printElement-tableTarget tbody tr").length,T=this.getGridColumnsFooterFormatter();T&&i.find(this.gridColumnsFooterCss).html(T(this.options,this.getData(t),t,g)),u=i.outerHeight();let C=l.find("tr:lt(1)");if(0==P&&C.length&&w==C.data("rowData")){_.find("tbody").append(C);let t=_.find("tbody tr").outerHeight();return l.prepend(C),{target:jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div style="position:absolute;background: red;color: white;padding: 0px 4px;">${i18n.__("没有足够空间,显示下方内容, 可分页高度")}: `+p+`px < ${i18n.__("当前需要高度")}: `+t+"px</div>").append(C.css("background","blue")),length:P,height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(u),isEnd:!1}}var x=0==l.find("tr").length?0==P&&r?{target:void 0,length:0,height:0,isEnd:!0}:{target:i.clone(),length:P,height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(u),isEnd:!0}:{target:i.clone(),length:P,height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(u),isEnd:!1};return x},TablePrintElement.prototype.fixMergeSpan=function(t,e){const i=new Map;return t.children().each((e,n)=>{var o=jquery__WEBPACK_IMPORTED_MODULE_12___default()(n).attr("field");i.set(o,{rowSpan:1,rowEnd:!1}),t.nextAll().each((t,e)=>{jquery__WEBPACK_IMPORTED_MODULE_12___default()(e).has(`td[field=${o}][rowspan=0]`).length&&!i.get(o).rowEnd?i.set(o,{rowSpan:++i.get(o).rowSpan,rowEnd:!1}):i.set(o,{...i.get(o),rowEnd:!0})}),jquery__WEBPACK_IMPORTED_MODULE_12___default()(n).attr("rowspan")<1&&(jquery__WEBPACK_IMPORTED_MODULE_12___default()(n).attr("rowspan",i.get(o).rowSpan),jquery__WEBPACK_IMPORTED_MODULE_12___default()(n).css("display",""),this.options.rowsColumnsMergeClean&&jquery__WEBPACK_IMPORTED_MODULE_12___default()(n).text(""))}),t},TablePrintElement.prototype.autoCompletion=function(t,e,i){for(var n,o=this,r=this.getEmptyRowTarget(),a=e.outerHeight()+i;t>a;)if(n=r.clone(),e.find("tbody").append(n),a=e.outerHeight()+i,o.options.maxRows&&e.find("tbody").children().length>o.options.maxRows)break;n&&n.remove()},TablePrintElement.prototype.getData=function(t){if(!t)try{let t=this.options.testData||"[{}]";return JSON.parse(t)}catch(i){return console.log("table testData parse error",i),[{}]}var e=this.getField(),i=e&&e.split(".").reduce((e,i)=>e?e[i]:t?t[i]:"",!1)||"";return i?JSON.parse(JSON.stringify(i)):[]},TablePrintElement.prototype.onResize=function(t,e,i,n,o){_super.prototype.updateSizeAndPositionOptions.call(this,o,n,i,e),_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.resizeTableCellWidth(this.designTarget,this.getColumns(),this.options.getWidth())},TablePrintElement.prototype.getReizeableShowPoints=function(){return["s","e"]},TablePrintElement.prototype.design=function(t,e){var i=this;this.designTarget.hidraggable({handle:this.designTarget.find(".hiprint-printElement-table-handle"),axis:i.options.axis?i.options.axis:void 0,designTarget:i,onDrag:function(t,n,o){i.updateSizeAndPositionOptions(n,o),i.createLineOfPosition(e),_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.changed=!0},moveUnit:"pt",minMove:_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.movingDistance,onBeforeDrag:function(t){_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.draging=!0,i.createLineOfPosition(e)},getScale:function(){return i.designPaper.scale||1},onStopDrag:function(t){_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.changed&&_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.event.trigger("hiprintTemplateDataChanged_"+i.templateId,"移动"),_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.draging=!1,_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.changed=!1,i.removeLineOfPosition()}}),this.printElementType.editable&&this.setHitable(),this.setColumnsOptions(),this.designTarget.hireizeable({showPoints:i.getReizeableShowPoints(),showSizeBox:_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.showSizeBox,noContainer:!0,onBeforeResize:function(){_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.draging=!0},getScale:function(){return i.designPaper.scale||1},onResize:function(t,n,o,r,a){i.onResize(t,n,o,r,a),i.hitable&&i.hitable.updateColumnGrips(),i.createLineOfPosition(e)},onStopResize:function(t){_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.event.trigger("hiprintTemplateDataChanged_"+i.templateId,t?"旋转":"大小"),_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.draging=!1,i.removeLineOfPosition()}}),this.bingKeyboardMoveEvent(this.designTarget,e)},TablePrintElement.prototype.setHitable=function(){var t=this;this.hitable=new _hitable_HiTale__WEBPACK_IMPORTED_MODULE_7__.a({templateId:t.templateId,table:this.designTarget.find(".hiprint-printElement-tableTarget:eq(0)"),rows:this.getColumns(),resizeRow:!1,resizeColumn:!0,fields:this.options.fields,trs:this.designTarget.find(".hiprint-printElement-tableTarget:eq(0)").find("tbody tr"),handle:this.designTarget.find(".hiprint-printElement-tableTarget:eq(0)").find("thead"),isEnableEdit:!this.printElementType.editable||this.printElementType.editable,columnDisplayEditable:void 0==this.printElementType.columnDisplayEditable||this.printElementType.columnDisplayEditable,columnDisplayIndexEditable:void 0==this.printElementType.columnDisplayIndexEditable||this.printElementType.columnDisplayIndexEditable,columnResizable:void 0==this.printElementType.columnResizable||this.printElementType.columnResizable,columnAlignEditable:void 0==this.printElementType.columnAlignEditable||this.printElementType.columnAlignEditable,isEnableEditText:void 0==this.printElementType.columnTitleEditable||this.printElementType.columnTitleEditable,isEnableEditField:void 0==this.printElementType.isEnableEditField||this.printElementType.isEnableEditField,isEnableContextMenu:void 0==this.printElementType.isEnableContextMenu||this.printElementType.isEnableContextMenu,isEnableInsertRow:void 0==this.printElementType.isEnableInsertRow||this.printElementType.isEnableInsertRow,isEnableDeleteRow:void 0==this.printElementType.isEnableDeleteRow||this.printElementType.isEnableDeleteRow,isEnableInsertColumn:void 0==this.printElementType.isEnableInsertColumn||this.printElementType.isEnableInsertColumn,isEnableDeleteColumn:void 0==this.printElementType.isEnableDeleteColumn||this.printElementType.isEnableDeleteColumn,isEnableMergeCell:void 0==this.printElementType.isEnableMergeCell||this.printElementType.isEnableMergeCell}),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.event.on("updateTable"+this.hitable.id,function(){t.updateDesignViewFromOptions(),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.event.trigger("hiprintTemplateDataChanged_"+t.templateId,"调整表头")})},TablePrintElement.prototype.setColumnsOptions=function(){var t=this;this.designTarget.find(".hiprint-printElement-tableTarget:eq(0)").find("thead td").bind("click.hiprint",function(e){var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()(e.target).attr("id")||jquery__WEBPACK_IMPORTED_MODULE_12___default()(e.target).attr("column-id"),n=t.getColumnByColumnId(i);if(n){var o=t.getPrintElementOptionItemsByName("tableColumn");_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.event.trigger(t.getPrintElementSelectEventKey(),{printElement:t,customOptionsInput:[{title:(n.title||`${n.id}(id)`)+`-${i18n.__("列属性")}`,optionItems:o,options:n,callback:function(t){o.forEach(function(t){var e=t.getValue();if("title"==t.name&&e&&!e.trim().endsWith("#")&&!e.trim().startsWith("#")){var i=e?e.split("#"):"";return n.title=i[0],i.length>1&&(n.columnId=n.field=i[1]),n.columnId&&n.target.attr("column-id",n.columnId),void t.target.find("textarea").val(i[0])}n[t.name]=e})}}]})}else _assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.event.trigger(t.getPrintElementSelectEventKey(),{printElement:t})})},TablePrintElement.prototype.filterOptionItems=function(t){var e=_super.prototype.filterOptionItems.call(this,t);return this.printElementType.editable&&1==this.options.columns.length?e:t.filter(function(t){return"columns"!=t.name})},TablePrintElement.prototype.getFooterFormatter=function(){var footerFormatter=void 0;if(this.printElementType.footerFormatter&&(footerFormatter=this.printElementType.footerFormatter),this.options.footerFormatter)try{var s="footerFormatter="+this.options.footerFormatter;eval(s)}catch(t){console.log(t)}return footerFormatter},TablePrintElement.prototype.getGridColumnsFooterFormatter=function(){var gridColumnsFooterFormatter=void 0;if(this.printElementType.gridColumnsFooterFormatter&&(gridColumnsFooterFormatter=this.printElementType.gridColumnsFooterFormatter),this.options.gridColumnsFooterFormatter)try{var s="gridColumnsFooterFormatter="+this.options.gridColumnsFooterFormatter;eval(s)}catch(t){console.log(t)}return gridColumnsFooterFormatter},TablePrintElement}(_BasePrintElement__WEBPACK_IMPORTED_MODULE_0__.a)},function(t,e,i){var n=function(){return function(t){this.table=t.table,this.templateId=t.templateId,this.fields=t.fields,this.isEnableEdit=t.isEnableEdit,this.trs=t.trs,this.resizeRow=t.resizeRow,this.resizeColumn=t.resizeColumn,this.isEnableEditField=t.isEnableEditField,this.isEnableContextMenu=t.isEnableContextMenu,this.isEnableEditField=t.isEnableEditField,this.isEnableInsertRow=t.isEnableInsertRow,this.isEnableDeleteRow=t.isEnableDeleteRow,this.isEnableInsertColumn=t.isEnableInsertColumn,this.isEnableDeleteColumn=t.isEnableDeleteColumn,this.isEnableMergeCell=t.isEnableMergeCell,this.columnResizable=t.columnResizable,this.columnAlignEditable=t.columnAlignEditable}}(),o=function(){function t(t){this.options=new n(t)}return t.prototype.enableEidt=function(){this.options.isEnableEdit},t.prototype.disableEdit=function(){this.options.isEnableEdit},t.prototype.isEnableEdit=function(){return this.options.isEnableEdit},t}(),r=i(0),a=function(){return function(t){this.cell=t.cell,this.link=t.link,this.linkType=t.linkType,this.bottom=t.bottom,this.rightMost=t.rightMost,this.rowLevel=t.rowLevel,this.columnLevel=t.columnLevel,this.indexInTableGridRow=t.indexInTableGridRow,this.indexInTableGridColumn=t.indexInTableGridColumn}}(),s=i(10),l=function(){function t(){}return t.getLeftTableCell=function(t,e){var i;return t.forEach(function(t,n){t.cell&&n<e&&(i=t.cell)}),i},t.getIndex=function(t,e){var i;return t.forEach(function(t,n){t.cell&&t.cell.id==e&&(i=n)}),i},t}(),p=i(13),d=i(11),c=function(){return function(t,e){this.target=t,this.grips=e}}(),h=function(){return function(t){this.target=t}}(),u=function(){return function(){this.rowColumns=[]}}(),f=function(){function t(){}return t.getColumnsWidth=function(e,i){var n={},o=t.allAutoWidth(e);return e.rowColumns.forEach(function(t){var e=i-0,r=t.width/o*(e>0?e:0);n[t.id]=r}),n},t.resizeTableCellWeight=function(t){t.forEach(function(t){t.columns.forEach(function(t){t.hasWidth&&jquery__WEBPACK_IMPORTED_MODULE_12___default()(t.getTarget()).css("width",t.width+"pt")})})},t.allAutoWidth=function(t){var e=0;return t.rowColumns.forEach(function(t){e+=t.width}),e},t.reconsitutionTableColumnTree=function(t,e,i){for(var n=e||new u,o=function(e){n.totalLayer=e+1,n[e]=t[e].columns,n.rowColumns=n.rowColumns.concat(n[e].filter(function(i){return i.rowspan==t.length-e}))},r=0;r<t.length;r++)o(r);return n},t}(),g=i(2),m=function(){function t(t){this.signature="HiTresizer",this.hitable=t,this.rows=t.rows,this.target=t.target}return t.prototype.init=function(){this.addResizeRowAndColumn(),this.hitable.optionsCoat.options.resizeColumn&&this.createColumnGrips(),this.hitable.optionsCoat.options.resizeRow&&this.createRowGrips()},t.prototype.resizeTableCellWidth=function(){f.resizeTableCellWeight(this.rows)},t.prototype.addResizeRowAndColumn=function(){},t.prototype.createColumnGrips=function(){var t=this,e=this,i=[],n=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="columngrips"/>');n.width(this.target.width()),this.rows.forEach(function(o){(o.columns||[]).filter(function(t){return t.checked}).forEach(function(o,a){if(o.getTarget().attr("haswidth")){var s=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="columngrip"><div class="gripResizer"></div></div>');n.append(s);var l=new h(s);i.length>0&&(i[i.length-1].nextGrip=l),i.push(l),t.syncGrips(o,l),jquery__WEBPACK_IMPORTED_MODULE_12___default()(s).hidraggable({axis:"h",onDrag:function(t,e,i){},moveUnit:"pt",minMove:1,getScale:function(){return jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hiprint-printPaper")[0].style.transform&&parseFloat(jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hiprint-printPaper")[0].style.transform.slice(6,-1))||1},onBeforeDrag:function(t){if(g.a.instance.draging=!0,!l.nextGrip)return!1;e.dragingGrip=l,e.dragingGrip.left=parseFloat(e.dragingGrip.target.css("left").replace("px","")),l.target.addClass("columngripDraging")},onStopDrag:function(i){g.a.instance.draging=!1;var n=parseFloat(e.dragingGrip.target.css("left").replace("px","")),o=r.a.px.toPt(n-e.dragingGrip.left);l.cell.width+o<10?o=10-l.cell.width:l.nextGrip.cell.width-o<10&&(o=l.nextGrip.cell.width-10),l.cell.width=l.cell.width+o,l.nextGrip.cell.width=l.nextGrip.cell.width-o,t.resizeTableCellWidth(),l.target.removeClass("columngripDraging"),e.updateColumnGrips()}})}})}),this.target.before(n),this.cgripContariner=new c(n,i)},t.prototype.updateColumnGrips=function(){this.cgripContariner&&(this.cgripContariner.target.remove(),this.createColumnGrips())},t.prototype.updateRowGrips=function(){this.rgripContariner&&(this.rgripContariner.target.remove(),this.createRowGrips())},t.prototype.createRowGrips=function(){var t=this,e=this,i=[],n=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="rowgrips"/>');this.rows.forEach(function(o,a){var s=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="rowgrip"><div class="gripResizer"></div></div>');n.append(s);var l=new h(s);i.push(l),a>0&&a<t.rows.length&&jquery__WEBPACK_IMPORTED_MODULE_12___default()(s).hidraggable({axis:"v",onDrag:function(t,e,i){},moveUnit:"pt",minMove:1,onBeforeDrag:function(t){e.dragingGrip=l,e.dragingGrip.top=parseFloat(e.dragingGrip.target.css("top").replace("px","")),l.target.addClass("rowgripDraging")},onStopDrag:function(t){var i=parseFloat(e.dragingGrip.target.css("top").replace("px","")),n=r.a.px.toPt(i-e.dragingGrip.top+e.rows[a].columns[0].getTarget().height());e.rows[a].columns[0].getTarget().css("height",n+"pt"),e.syncRowGrips(),l.target.removeClass("rowgripDraging")}})}),this.target.before(n),this.rgripContariner=new c(n,i),this.syncRowGrips()},t.prototype.syncGrips=function(t,e){var i=t.getTarget(),n=jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hiprint-printPaper")[0].style.transform&&parseFloat(jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hiprint-printPaper")[0].style.transform.slice(6,-1))||1;e.cell=t,e.target.css({left:i.offset().left/n-this.target.offset().left/n+i.outerWidth(!1),height:30})},t.prototype.syncRowGrips=function(){var t=this;this.rgripContariner.target.height(this.target.height()),this.rows.forEach(function(e,i){var n=e.columns[0].getTarget();t.rgripContariner.grips[i].target.css({top:n.offset().top-t.target.offset().top+n.outerHeight(!1),width:30})})},t.prototype.addResizerHeadRow=function(){this.target.find("thead").prepend()},t}(),_=function(){function t(){}return t.prototype.init=function(){},t.prototype.updateRowGrips=function(){},t.prototype.updateColumnGrips=function(){},t}();i.d(e,"a",function(){return v});var v=function(){function t(t){this.id=d.a.createId(),this.optionsCoat=new o(t),this.handle=t.handle,this.target=t.table,this.initRows(t.rows),this.init(t),this.tableCellSelector=new s.a(this.rows,this.target),this.resizer=this.optionsCoat.options.columnResizable?new m(this):new _,this.resizer.init()}return t.prototype.insertRow=function(t,e,i){var n=e||this.tableCellSelector.getSingleSelect(),o=n.cell,a=this.rows[n.rowIndex],s=n.rowIndex,l=this.getCellGrid(),d=new p.a;if(d.init(this.optionsCoat,void 0,a.isHead),i&&d.getTarget().addClass(i),"above"==t)l[s].forEach(function(t){var e=t.link?t.link:t.cell,i=e.width/e.colspan;if(0==t.columnLevel){var n=d.createTableCell();n.width=i,d.insertCellToLast(n)}else{if("column"==t.linkType){var o=t.link.getTarget();t.link.rowspan+=1,o.attr("rowspan",t.link.rowspan)}t.linkType}}),this.rows.splice(s,0,d),a.getTarget().before(d.getTarget()),r.a.event.trigger("newRow"+this.id,d);else{var c=s+o.rowspan-1;l[c].forEach(function(t){var e=t.link?t.link:t.cell,i=e.width/e.colspan;if(t.bottom){var n=d.createTableCell();n.width=i,d.insertCellToLast(n)}else{if(t.cell){var o=t.cell.getTarget();t.cell.rowspan+=1,o.attr("rowspan",t.cell.rowspan)}"column"==t.linkType&&(o=t.link.getTarget(),t.link.rowspan+=1,o.attr("rowspan",t.link.rowspan))}}),this.rows.splice(c+1,0,d),this.rows[c].getTarget().after(d.getTarget()),r.a.event.trigger("newRow"+this.id,d)}},t.prototype.insertColumn=function(t,e,i,n){var o=this,a=this.rows.concat(this.trRows),s=e||this.tableCellSelector.getSingleSelect(),l=s.cell,p=s.rowIndex,d=this.getCellGrid(a),c=d[p].filter(function(t){return t.cell&&t.cell.id==l.id||t.link&&t.link.id==l.id});if("left"==t){var h=c[0].indexInTableGridRow;d.forEach(function(t,e){var s=t[h],l=t.filter(function(t,e){return e>=h&&t.cell});if(0==s.rowLevel){var p=a[e],d=a[e].createTableCell();i&&d.getTarget().addClass(i),null!=n&&(d.width=n),l.length?p.insertToTargetCellLeft(l[0].cell,d):p.insertCellToLast(d),r.a.event.trigger("newCell"+o.id,d)}else if("row"==s.linkType){var c=s.link.getTarget();s.link.colspan+=1,c.attr("colspan",s.link.colspan)}})}else{var u=c[c.length-1].indexInTableGridRow;d.forEach(function(t,e){var s=t[u],l=t.filter(function(t,e){return e<=u&&t.cell});if(s.rightMost){var p=a[e],d=p.createTableCell();i&&d.getTarget().addClass(i),null!=n&&(d.width=n),l.length?p.insertToTargetCellRight(l[l.length-1].cell,d):p.insertCellToFirst(d),r.a.event.trigger("newCell"+o.id,d)}else{var c=s.link||s.cell;if("row"==s.linkType){var h=c.getTarget();c.colspan+=1,h.attr("colspan",c.colspan)}s.cell&&(h=c.getTarget(),c.colspan+=1,h.attr("colspan",c.colspan))}})}},t.prototype.deleteRow=function(){var t=this,e=this.tableCellSelector.getSingleSelect(),i=(e.cell,this.rows[e.rowIndex],e.rowIndex),n=this.getCellGrid(),o=this.rows[i];n[i].forEach(function(e,r){if(e.cell)if(1==e.cell.rowspan)o.removeCell(e.cell);else{o.removeCell(e.cell);var a=n[i+1].filter(function(t,e){return t.cell&&e>r}),s=t.rows[i+1],l=s.createTableCell(e.cell.rowspan-1,e.cell.colspan);a.length?s.insertToTargetCellLeft(a[0].cell,l):s.insertCellToLast(l)}else if("column"==e.linkType){var p=e.link;p.rowspan-=1,p.getTarget().attr("rowspan",p.rowspan)}}),o.getTarget().remove(),this.rows.splice(i,1)},t.prototype.deleteColums=function(){var t=this.rows.concat(this.trRows),e=this.tableCellSelector.getSingleSelect(),i=e.cell,n=e.rowIndex,o=this.getCellGrid(t),r=o[n].filter(function(t){return t.cell&&t.cell.id==i.id||t.link&&t.link.id==i.id})[0].indexInTableGridRow;o.forEach(function(e,i){var n=e[r];n.cell?1==n.cell.colspan?t[i].removeCell(n.cell):(n.cell.colspan-=1,n.cell.getTarget().attr("colspan",n.cell.colspan)):"row"==n.linkType&&(n.link.colspan-=1,n.link.getTarget().attr("colspan",n.link.colspan))})},t.prototype.mergeCell=function(){var t=this,e=this.tableCellSelector.getSelectedCells();if(0!=e.length){var i=e[0][0].cell;e.forEach(function(n,o){n.forEach(function(n,r){0==o?0!=r&&(i.colspan+=n.cell.colspan,t.rows[n.rowIndex].removeCell(n.cell)):t.rows[n.rowIndex].removeCell(n.cell),0==r&&e[0][0].rowIndex+i.rowspan-1<n.rowIndex&&(i.rowspan+=n.cell.rowspan)})}),i.getTarget().attr("colspan",i.colspan),i.getTarget().attr("rowspan",i.rowspan),this.tableCellSelector.setSingleSelect(e[0][0])}},t.prototype.splitCell=function(){var t=this.tableCellSelector.getSingleSelect(),e=this.getCellGrid(),i=l.getIndex(e[t.rowIndex],t.cell.id);if(t){for(var n=t.rowIndex;n<t.rowIndex+t.cell.rowspan;n++)for(var o=this.rows[n],r=n==t.rowIndex?t.cell:l.getLeftTableCell(e[n],i),a=0;a<t.cell.colspan;a++)n==t.rowIndex&&0==a||(r?o.insertToTargetCellRight(r,o.createTableCell()):o.insertCellToFirst(o.createTableCell()));t.cell.rowspan=1,t.cell.colspan=1,t.cell.getTarget().attr("colspan",t.cell.colspan),t.cell.getTarget().attr("rowspan",t.cell.rowspan)}},t.prototype.init=function(t){var e=this;jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.target).addClass("hitable"),this.optionsCoat.onBeforEdit=function(i){return(!e.optionsCoat.options.onBeforEdit||!1!==t.onBeforEdit(i))&&(e.optionsCoat.editingCell&&e.optionsCoat.editingCell.endEdit(),!0)},jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.target).mousedown(function(t){e.optionsCoat.isLeftMouseButtonDown=!0}),jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.target).mouseup(function(t){e.optionsCoat.isLeftMouseButtonDown=!1}),this.initContext(),this.target.on("mousemove",function(t){1===t.buttons&&e.tableCellSelector.multipleSelectByXY(t.pageX,t.pageY)}).on("mousedown",function(t){1===t.buttons&&e.tableCellSelector.singleSelectByXY(t.pageX,t.pageY)})},t.prototype.initRows=function(t){var e=this;if(this.trRows=[],t){this.rows=t,t.forEach(function(t,i){t.init(e.optionsCoat,e.target.find("tr:eq("+i+")"),!0)});var i=this.optionsCoat.options.trs;i&&this.initRowsByTrs(i).forEach(function(t){e.trRows.push(t)})}else this.rows=this.initRowsByTrs(this.target.find("tr"))},t.prototype.initRowsByTrs=function(t){var e=this;return t.map(function(t,i){var n=new p.a;return n.init(e.optionsCoat,jquery__WEBPACK_IMPORTED_MODULE_12___default()(i)),n}).get()},t.prototype.enableEidt=function(){this.optionsCoat.enableEidt()},t.prototype.disableEdit=function(){this.optionsCoat.disableEdit()},t.prototype.getCellGrid=function(t){var e=t||this.rows,i=this.getColumnStep(),n=new Array;return e.forEach(function(t,e){t.columns.forEach(function(t,o){for(var r=0;r<t.colspan;r++)for(var s=0,l=!1;s<i&&!l;){if(n[e]=n[e]||[],n[e][s]);else{n[e][s]=new a({cell:0==r?t:void 0,link:0!=r?t:void 0,linkType:r>0?"row":void 0,rightMost:r==t.colspan-1||void 0,bottom:0==t.rowspan-1,rowLevel:r,columnLevel:0,indexInTableGridRow:s,indexInTableGridColumn:e});for(var p=e+1,d=1;d<t.rowspan;d++)n[p]=n[p]||[],n[p][s]=new a({cell:void 0,link:t,linkType:r>0?"rowColumn":"column",rightMost:r==t.colspan-1||void 0,bottom:d==t.rowspan-1,rowLevel:r,columnLevel:d,indexInTableGridRow:s,indexInTableGridColumn:p}),p+=1;l=!0}s++}})}),n},t.prototype.setAlign=function(t){var e=this.tableCellSelector.getSingleSelect();e&&e.cell.setAlign(t)},t.prototype.setVAlign=function(t){var e=this.tableCellSelector.getSingleSelect();e&&e.cell.setVAlign(t)},t.prototype.getColumnStep=function(t){var e=0;return this.rows.length&&this.rows[t||0].columns.forEach(function(t){e+=t.colspan}),e},t.prototype.initContext=function(){var t=this;if(!this.optionsCoat.options.isEnableContextMenu)return!1;jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.handle).hicontextMenu({menus:[{text:`${i18n.__("在上方插入行")}`,enabled:this.optionsCoat.options.isEnableInsertRow,disable:function(){return!t.tableCellSelector.getSingleSelect()},callback:function(){t.insertRow("above"),t.resizer.updateRowGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:`${i18n.__("在下方插入行")}`,borderBottom:!0,enabled:this.optionsCoat.options.isEnableInsertRow,disable:function(){return!t.tableCellSelector.getSingleSelect()},callback:function(){t.insertRow("below"),t.resizer.updateRowGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:`${i18n.__("向左方插入列")}`,enabled:this.optionsCoat.options.isEnableInsertColumn,disable:function(){return!t.tableCellSelector.getSingleSelect()},callback:function(){t.insertColumn("left"),t.resizer.updateColumnGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:`${i18n.__("向右方插入列")}`,enabled:this.optionsCoat.options.isEnableInsertColumn,disable:function(){return!t.tableCellSelector.getSingleSelect()},borderBottom:!0,callback:function(){t.insertColumn("right"),t.resizer.updateColumnGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:`${i18n.__("删除行")}`,enabled:this.optionsCoat.options.isEnableDeleteRow,disable:function(){return!t.tableCellSelector.getSingleSelect()||t.rows.length<=1},callback:function(){t.deleteRow(),t.resizer.updateRowGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:`${i18n.__("删除列")}`,borderBottom:!0,enabled:this.optionsCoat.options.isEnableDeleteColumn,disable:function(){return!t.tableCellSelector.getSingleSelect()||t.rows.length>0&&t.rows[0].columns.length<=1},callback:function(){t.deleteColums(),t.resizer.updateColumnGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:`${i18n.__("对齐")}`,borderBottom:!0,enabled:this.optionsCoat.options.columnAlignEditable,menus:[{text:`${i18n.__("左")}`,callback:function(){t.setAlign("left")}},{text:`${i18n.__("左右居中")}`,callback:function(){t.setAlign("center")}},{text:`${i18n.__("右")}`,callback:function(){t.setAlign("right")}},{text:`${i18n.__("默认")}`,borderBottom:!0,callback:function(){t.setAlign("")}},{text:`${i18n.__("上")}`,callback:function(){t.setVAlign("top")}},{text:`${i18n.__("垂直居中")}`,callback:function(){t.setVAlign("middle")}},{text:`${i18n.__("下")}`,callback:function(){t.setVAlign("bottom")}},{text:`${i18n.__("默认")}`,callback:function(){t.setVAlign("")}}]},{text:`${i18n.__("合并单元格")}`,enabled:this.optionsCoat.options.isEnableMergeCell,disable:function(){return t.tableCellSelector.getSingleSelect()},callback:function(){t.mergeCell(),r.a.event.trigger("updateTable"+t.id)}},{text:`${i18n.__("解开单元格")}`,enabled:this.optionsCoat.options.isEnableMergeCell,disable:function(){var e=t.tableCellSelector.getSingleSelect();return!e||1==e.cell.rowspan&&1==e.cell.colspan},callback:function(){t.splitCell(),r.a.event.trigger("updateTable"+t.id)}}].filter(function(t){return t.enabled})})},t.prototype.getTableWidth=function(){return r.a.px.toPt(this.target.outerWidth(!1))},t.prototype.updateColumnGrips=function(){this.resizer.updateColumnGrips()},t.prototype.updateRowGrips=function(){this.resizer.updateRowGrips()},t}()},function(t,e,i){i.d(e,"a",function(){return n});var n=function(){return function(t,e,i){this.tid=t,this.options=e,this.printElementType=i}}()},function(t,e,i){var n=i(3),o=i(12),r=function(){return function(t){this.width=t.width,this.title=t.title,this.field=t.field,this.checked=t.checked,this.columnId=t.columnId,this.fixed=!1,this.rowspan=t.rowspan||1,this.colspan=t.colspan||1,this.align=t.align,this.halign=t.halign,this.vAlign=t.vAlign,this.renderFormatter=t.renderFormatter,this.formatter2=t.formatter2,this.styler2=t.styler2,this.stylerHeader=t.stylerHeader,this.tableColumnHeight=t.tableColumnHeight,this.tableTextType=t.tableTextType,this.tableBarcodeMode=t.tableBarcodeMode,this.tableQRCodeLevel=t.tableQRCodeLevel,this.tableSummaryTitle=t.tableSummaryTitle,this.tableSummaryText=t.tableSummaryText,this.tableSummaryColspan=t.tableSummaryColspan,this.tableSummary=t.tableSummary,this.tableSummaryAlign=t.tableSummaryAlign,this.tableSummaryNumFormat=t.tableSummaryNumFormat,this.tableSummaryFormatter=t.tableSummaryFormatter,this.showCodeTitle=t.showCodeTitle,this.upperCase=t.upperCase}}(),a=i(5);i.d(e,"a",function(){return p});var s,l=(s=function(t,e){return(s=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=function(t){function e(e,i){var n=this;return e=e||{},(n=t.call(this,e)||this).lHeight=e.lHeight,n.autoCompletion=e.autoCompletion,n.tableFooterRepeat=e.tableFooterRepeat,i&&(n.columns=[],i.editable&&e.columns&&e.columns.length?e.columns.forEach(function(t){var e=[];t.forEach(function(t){var n=new r(t),o=i.getColumnByColumnId(n.columnId),s=o?jquery__WEBPACK_IMPORTED_MODULE_12___default().extend(o,n):new a.a(n);e.push(s)}),n.columns.push(new o.a(e))}):i.columns.forEach(function(t){n.columns.push(new o.a(t))})),n}return l(e,t),e.prototype.getColumnByColumnId=function(t){return this.makeColumnObj()[t]},e.prototype.makeColumnObj=function(){var t={};return this.columns&&this.columns.forEach(function(e){e.columns.forEach(function(e){(e.id||e.columnId)&&(t[e.id||e.columnId]=e)})}),t},e.prototype.getGridColumns=function(){return this.gridColumns||1},e.prototype.getPrintElementOptionEntity=function(){var e=t.prototype.getPrintElementOptionEntity.call(this);return e.fields=this.fields,this.columns&&(e.columns=[],this.columns.forEach(function(t){var i=t.getPrintElementOptionEntity().map(function(t){return new r(t)});e.columns.push(i)})),e},e}(n.a)},function(t,e,i){i.d(e,"a",function(){return n});var n=function(){return function(){this.rowColumns=[]}}()},function(t,e,i){i.d(e,"a",function(){return n});var n=function(){function t(t,e){this.gridColumns=t,this.target=e}return t.prototype.getByIndex=function(t){return this.target.find(".hi-grid-col:eq("+t+")")},t}()},function(t,e,i){t.exports=i(33)},function(t,e){!function(t){function e(e){var i=t.data(e.data.target,"hidraggable"),n=i.options,o=i.proxy,r=e.data,a=r.startLeft+(e.pageX-r.startX)/(i.options.getScale()||1),s=r.startTop+(e.pageY-r.startY)/(i.options.getScale()||1);o&&(o.parent()[0]==document.body?(a=null!=n.deltaX&&null!=n.deltaX?e.pageX+n.deltaX:e.pageX-e.data.offsetWidth,s=null!=n.deltaY&&null!=n.deltaY?e.pageY+n.deltaY:e.pageY-e.data.offsetHeight):(null!=n.deltaX&&null!=n.deltaX&&(a+=e.data.offsetWidth+n.deltaX),null!=n.deltaY&&null!=n.deltaY&&(s+=e.data.offsetHeight+n.deltaY))),e.data.parent!=document.body&&(a+=t(e.data.parent).scrollLeft(),s+=t(e.data.parent).scrollTop()),"h"==n.axis?r.left=a:"v"==n.axis||e.shiftKey&&e.altKey?r.top=s:e.shiftKey?r.left=a:(r.left=a,r.top=s)}function i(e){var i=t.data(e.data.target,"hidraggable"),n=i.options,o=i.proxy;o||(o=t(e.data.target)),o.css({left:t.fn.dragLengthC(e.data.left,n),top:t.fn.dragLengthC(e.data.top,n)}),t("body").css("cursor",n.cursor)}function n(n){t.fn.hidraggable.isDragging=!0;var o=t.data(n.data.target,"hidraggable"),r=o.options,a=t(".hidroppable").filter(function(){return n.data.target!=this}).filter(function(){var e=t.data(this,"hidroppable").options.accept;return!e||t(e).filter(function(){return this==n.data.target}).length>0});o.hidroppables=a;var s=o.proxy;return s||(r.proxy?(s="clone"==r.proxy?t(n.data.target).clone().insertAfter(n.data.target):r.proxy.call(n.data.target,n.data.target),o.proxy=s):s=t(n.data.target)),s.css("position","absolute"),e(n),i(n),r.onStartDrag.call(n.data.target,n),!1}function o(t,e,i,n,o,r){Math.abs(t[i]-e[n])<=HIPRINT_CONFIG.adsorbLineMin?t.v.length?t.v.css("left",t[i]+"pt"):(t.v=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<div class='verLine id-"+t.id+"'></div>"),t.v.css("height",o+"pt"),t.v.css("left",t[i]+"pt"),r.append(t.v)):t.v&&t.v.remove()}function r(t){t&&t.v&&t.v.remove(),jquery__WEBPACK_IMPORTED_MODULE_12___default()(".verLine").remove()}function a(t,e,i,n,o,r){Math.abs(t[i]-e[n])<=HIPRINT_CONFIG.adsorbLineMin?t.h.length?t.h.css("top",t[i]+"pt"):(t.h=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<div class='horLine id-"+t.id+"'></div>"),t.h.css("width",o+"pt"),t.h.css("top",t[i]+"pt"),r.append(t.h)):t.h&&t.h.remove()}function s(t){t&&t.h&&t.h.remove(),jquery__WEBPACK_IMPORTED_MODULE_12___default()(".horLine").remove()}function l(n){var l=t.data(n.data.target,"hidraggable");if(e(n),!n.ctrlKey&&!n.metaKey&&(n.data.target.className.startsWith("resize-panel")||"2"==n.data.target.style.zIndex||n.data.target.className.startsWith("hiprint-printElement"))){var p=n.data;if(0==t(".mouseRect").length&&l.options.designTarget&&l.options.designTarget.panel.printElements.filter(function(t){return"block"==t.designTarget.children().last().css("display")&&!t.printElementType.type.includes("table")}).length<=1){let t=window.hinnn.px.toPt(p.left),e=window.hinnn.px.toPt(p.top),i=l.options.designTarget.options;i.left=t,i.top=e,i.right=t+i.width,i.bottom=e+i.height,i.vCenter=t+i.width/2,i.hCenter=e+i.height/2,(()=>{let t=l.options.designTarget.panel.printElements.filter(t=>t.id!=l.options.designTarget.id).map(t=>{let e,n,o,r,{left:a,top:s,width:l,height:p}=t.options,d=a+l,c=a+l/2,h=s+p/2,u=i.left+i.width/2,f=i.top+i.height/2,g=i.left+i.width;return n=Math.sqrt(Math.pow(a-i.left,2)+Math.pow(h-f,2)),o=Math.sqrt(Math.pow(c-u,2)+Math.pow(h-f,2)),r=Math.sqrt(Math.pow(d-g,2)+Math.pow(h-f,2)),e=Math.min(n,o,r),{...t.options,distance:e,h:jquery__WEBPACK_IMPORTED_MODULE_12___default()(".horLine.id-"+t.id),v:jquery__WEBPACK_IMPORTED_MODULE_12___default()(".verLine.id-"+t.id),bottom:s+p,right:a+l,vCenter:c,hCenter:h}}).sort((t,e)=>t.distance-e.distance).slice(0,1),e=l.options.designTarget.designPaper,n=e.target.find(".hiprint-printPaper-content"),p=e.width,d=e.height,c=HIPRINT_CONFIG.showAdsorbLine,h=HIPRINT_CONFIG.adsorbMin,u=HIPRINT_CONFIG.adsorbLineMin;t.forEach((e,l)=>{Math.abs(t[l].left-i.left)<=h?(i.left=t[l].left,r(t[l])):Math.abs(t[l].vCenter-i.left)<=h?(i.left=t[l].vCenter,r(t[l])):Math.abs(t[l].right-i.left)<=h&&(i.left=t[l].right,r(t[l])),Math.abs(t[l].left-i.vCenter)<=h?(i.left=t[l].left-i.width/2,r(t[l])):Math.abs(t[l].vCenter-i.vCenter)<=h?(i.left=t[l].vCenter-i.width/2,r(t[l])):Math.abs(t[l].right-i.vCenter)<=h&&(i.left=t[l].right-i.width/2,r(t[l])),Math.abs(t[l].left-i.right)<=h?(i.left=t[l].left-i.width,r(t[l])):Math.abs(t[l].vCenter-i.right)<=h?(i.left=t[l].vCenter-i.width,r(t[l])):Math.abs(t[l].right-i.right)<=h&&(i.left=t[l].right-i.width,r(t[l])),Math.abs(t[l].top-i.top)<=h?(i.top=t[l].top,s(t[l])):Math.abs(t[l].hCenter-i.top)<=h?(i.top=t[l].hCenter,s(t[l])):Math.abs(t[l].bottom-i.top)<=h&&(i.top=t[l].bottom,s(t[l])),Math.abs(t[l].top-i.hCenter)<=h?(i.top=t[l].top-i.height/2,s(t[l])):Math.abs(t[l].hCenter-i.hCenter)<=h?(i.top=t[l].hCenter-i.height/2,s(t[l])):Math.abs(t[l].bottom-i.hCenter)<=h&&(i.top=t[l].bottom-i.height/2,s(t[l])),Math.abs(t[l].top-i.bottom)<=h?(i.top=t[l].top-i.height,s(t[l])):Math.abs(t[l].hCenter-i.bottom)<=h?(i.top=t[l].hCenter-i.height,s(t[l])):Math.abs(t[l].bottom-i.bottom)<=h&&(i.top=t[l].bottom-i.height,s(t[l])),c&&(Math.abs(t[l].left-i.left)>h&&Math.abs(t[l].left-i.left)<=u?o(t[l],i,"left","left",d,n):Math.abs(t[l].vCenter-i.left)>h&&Math.abs(t[l].vCenter-i.left)<=u?o(t[l],i,"vCenter","left",d,n):Math.abs(t[l].right-i.left)>h&&Math.abs(t[l].right-i.left)<=u?o(t[l],i,"right","left",d,n):Math.abs(t[l].left-i.vCenter)>h&&Math.abs(t[l].left-i.vCenter)<=u?o(t[l],i,"left","vCenter",d,n):Math.abs(t[l].vCenter-i.vCenter)>h&&Math.abs(t[l].vCenter-i.vCenter)<=u?o(t[l],i,"vCenter","vCenter",d,n):Math.abs(t[l].right-i.vCenter)>h&&Math.abs(t[l].right-i.vCenter)<=u?o(t[l],i,"right","vCenter",d,n):Math.abs(t[l].left-i.right)>h&&Math.abs(t[l].left-i.right)<=u?o(t[l],i,"left","right",d,n):Math.abs(t[l].vCenter-i.right)>h&&Math.abs(t[l].vCenter-i.right)<=u?o(t[l],i,"vCenter","right",d,n):Math.abs(t[l].right-i.right)>h&&Math.abs(t[l].right-i.right)<=u?o(t[l],i,"right","right",d,n):Math.abs(t[l].top-i.top)>h&&Math.abs(t[l].top-i.top)<=u?a(t[l],i,"top","top",p,n):Math.abs(t[l].hCenter-i.top)>h&&Math.abs(t[l].hCenter-i.top)<=u?a(t[l],i,"hCenter","top",p,n):Math.abs(t[l].bottom-i.top)>h&&Math.abs(t[l].bottom-i.top)<=u?a(t[l],i,"bottom","top",p,n):Math.abs(t[l].top-i.hCenter)>h&&Math.abs(t[l].top-i.hCenter)<=u?a(t[l],i,"top","hCenter",p,n):Math.abs(t[l].hCenter-i.hCenter)>h&&Math.abs(t[l].hCenter-i.hCenter)<=u?a(t[l],i,"hCenter","hCenter",p,n):Math.abs(t[l].bottom-i.hCenter)>h&&Math.abs(t[l].bottom-i.hCenter)<=u?a(t[l],i,"bottom","hCenter",p,n):Math.abs(t[l].top-i.bottom)>h&&Math.abs(t[l].top-i.bottom)<=u?a(t[l],i,"top","bottom",p,n):Math.abs(t[l].hCenter-i.bottom)>h&&Math.abs(t[l].hCenter-i.bottom)<=u?a(t[l],i,"hCenter","bottom",p,n):Math.abs(t[l].bottom-i.bottom)>h&&Math.abs(t[l].bottom-i.bottom)<=u?a(t[l],i,"bottom","bottom",p,n):(r(t[l]),s(t[l])))})})(),n.data.left=window.hinnn.pt.toPx(i.left),n.data.top=window.hinnn.pt.toPx(i.top)}var d=p.parent.className.endsWith("design")?p.parent:p.parent.offsetParent,c=d.clientWidth,h=d.clientHeight,u=p.target.clientWidth,f=p.target.clientHeight,g=0,m=0;if(l.options.designTarget&&l.options.designTarget.options.transform){var _=l.options.designTarget.options.getRectInfo();g=window.hinnn.pt.toPx(_.diffW),m=window.hinnn.pt.toPx(_.diffH)}p.left<0-g?p.left=0-g:p.left>=c-u+g&&(p.left=c-u+g),p.top<0-m?p.top=0-m:p.top>=h-f+m&&(p.top=h-f+m),n.data=p}0!=l.options.onDrag.call(n.data.target,n,t.fn.dragLengthCNum(n.data.left,l.options),t.fn.dragLengthCNum(n.data.top,l.options))&&i(n);var v=n.data.target;return l.hidroppables.each(function(){var e=t(this);if(!e.hidroppable("options").disabled){var i=e.offset();n.pageX>i.left&&n.pageX<i.left+e.outerWidth()&&n.pageY>i.top&&n.pageY<i.top+e.outerHeight()?(this.entered||(t(this).trigger("_dragenter",[v]),this.entered=!0),t(this).trigger("_dragover",[v])):this.entered&&(t(this).trigger("_dragleave",[v]),this.entered=!1)}}),!1}function p(e){t.fn.hidraggable.isDragging=!1,r(),s();var i,n,o=t.data(e.data.target,"hidraggable"),a=o.proxy,l=o.options;function p(){a&&a.remove(),o.proxy=null}function d(){var i=!1;return o.hidroppables.each(function(){var n=t(this);if(!n.hidroppable("options").disabled){var o=n.offset(),r=this.style.transform&&parseFloat(this.style.transform.slice(6,-1))||1;return e.pageX>o.left&&e.pageX<o.left+n.outerWidth()*r&&e.pageY>o.top&&e.pageY<o.top+n.outerHeight()*r?(l.revert&&t(e.data.target).css({position:e.data.startPosition,left:e.data.startLeft,top:e.data.startTop}),t(this).trigger("_drop",[e.data.target]),p(),i=!0,this.entered=!1,!1):void 0}}),i||l.revert||p(),i}return l.revert?1==d()?t(e.data.target).css({position:e.data.startPosition,left:e.data.startLeft,top:e.data.startTop}):a?(a.parent()[0]==document.body?(i=e.data.startX-e.data.offsetWidth,n=e.data.startY-e.data.offsetHeight):(i=e.data.startLeft,n=e.data.startTop),a.animate({left:i,top:n},function(){p()})):t(e.data.target).animate({left:e.data.startLeft,top:e.data.startTop},function(){t(e.data.target).css("position",e.data.startPosition)}):(t(e.data.target).css({position:"absolute",left:t.fn.dragLengthC(e.data.left,l),top:t.fn.dragLengthC(e.data.top,l)}),d()),l.onStopDrag.call(e.data.target,e),t(document).unbind(".hidraggable"),setTimeout(function(){t("body").css("cursor","")},100),!1}t.fn.hidraggable=function(e,i){return"string"==typeof e?t.fn.hidraggable.methods[e](this,i):this.each(function(){var i,o=t.data(this,"hidraggable");o?(o.handle.unbind(".hidraggable"),i=t.extend(o.options,e)):i=t.extend({},t.fn.hidraggable.defaults,t.fn.hidraggable.parseOptions(this),e||{});var r=i.handle?"string"==typeof i.handle?t(i.handle,this):i.handle:t(this);function a(e){var i=t.data(e.data.target,"hidraggable"),n=i.handle,o=t(n).offset(),r=t(n)[0].style.transform&&parseInt(t(n)[0].style.transform.slice(7,-1)),a=i.options.getScale(),s=t(n).outerWidth(),l=t(n).outerHeight();if(r){var p=r*Math.PI/180,d=t(n).outerWidth(),c=t(n).outerHeight(),h=Math.sin(p),u=Math.cos(p);s=Math.abs(d*u)+Math.abs(c*h),l=Math.abs(d*h)+Math.abs(c*u)}a&&(s*=a,l*=a);var f=e.pageY-o.top,g=o.left+s-e.pageX,m=o.top+l-e.pageY,_=e.pageX-o.left;return Math.min(f,g,m,_)>i.options.edge}t.data(this,"hidraggable",{options:i,handle:r}),i.disabled?t(this).css("cursor",""):r.unbind(".hidraggable").bind("mousemove.hidraggable",{target:this},function(e){if(!t.fn.hidraggable.isDragging){var i=t.data(e.data.target,"hidraggable").options;a(e)?t(this).css("cursor",i.cursor):t(this).css("cursor","")}}).bind("mouseleave.hidraggable",{target:this},function(e){t(this).css("cursor","")}).bind("mousedown.hidraggable",{target:this},function(e){if(0!=a(e)){t(this).css("cursor","");var i=t(e.data.target).position(),o=t(e.data.target).offset(),r={startPosition:t(e.data.target).css("position"),startLeft:i.left,startTop:i.top,left:i.left,top:i.top,startX:e.pageX,startY:e.pageY,offsetWidth:e.pageX-o.left,offsetHeight:e.pageY-o.top,target:e.data.target,parent:t(e.data.target).parent()[0]},s=t.data(e.data.target,"hidraggable");if(!1===s.options.draggable)return;if("r resizebtn"==e.target.className)return;var d=s.options.getScale();d&&(r.left/=d,r.top/=d,r.startLeft/=d,r.startTop/=d);var c=r.target.style.transform&&parseInt(r.target.style.transform.slice(7,-1));if(c){var h=c*Math.PI/180,u=t(e.data.target).outerWidth(),f=t(e.data.target).outerHeight(),g=Math.sin(h),m=Math.cos(h),_=Math.abs(u*m)+Math.abs(f*g),v=Math.abs(u*g)+Math.abs(f*m),y=(_-u)/2,b=(v-f)/2;r.left+=y,r.top+=b,r.startLeft+=y,r.startTop+=b}t.extend(e.data,r),0!=t.data(e.data.target,"hidraggable").options.onBeforeDrag.call(e.data.target,e)&&(t(document).bind("mousedown.hidraggable",e.data,n),t(document).bind("mousemove.hidraggable",e.data,l),t(document).bind("mouseup.hidraggable",e.data,p))}})})},t.fn.hidraggable.methods={options:function(e){return t.data(e[0],"hidraggable").options},update:function(e,i){i&&"object"==typeof i&&t.data(e[0],"hidraggable")&&Object.keys(i).forEach(function(n){t.data(e[0],"hidraggable").options[n]=i[n]})},proxy:function(e){return t.data(e[0],"hidraggable").proxy},enable:function(e){return e.each(function(){t(this).hidraggable({disabled:!1})})},disable:function(e){return e.each(function(){t(this).hidraggable({disabled:!0})})}},t.fn.hidraggable.parseOptions=function(e){var i=t(e);return t.extend({},t.hiprintparser.parseOptions(e,["cursor","handle","axis",{revert:"boolean",deltaX:"number",deltaY:"number",edge:"number"}]),{disabled:!!i.attr("disabled")||void 0})},t.fn.hidraggable.defaults={proxy:null,revert:!1,cursor:"move",deltaX:null,deltaY:null,handle:null,disabled:!1,edge:0,axis:null,getScale:function(t){},onBeforeDrag:function(t){},onStartDrag:function(t){},onDrag:function(t){},onStopDrag:function(t){}},t.fn.hidraggable.isDragging=!1}(jQuery)},function(t,e){!function(t){t.fn.hidroppable=function(e,i){return"string"==typeof e?t.fn.hidroppable.methods[e](this,i):(e=e||{},this.each(function(){var i,n=t.data(this,"hidroppable");n?t.extend(n.options,e):(t(i=this).addClass("hidroppable"),t(i).bind("_dragenter",function(e,n){t.data(i,"hidroppable").options.onDragEnter.apply(i,[e,n])}),t(i).bind("_dragleave",function(e,n){t.data(i,"hidroppable").options.onDragLeave.apply(i,[e,n])}),t(i).bind("_dragover",function(e,n){t.data(i,"hidroppable").options.onDragOver.apply(i,[e,n])}),t(i).bind("_drop",function(e,n){t.data(i,"hidroppable").options.onDrop.apply(i,[e,n])}),t.data(this,"hidroppable",{options:t.extend({},t.fn.hidroppable.defaults,t.fn.hidroppable.parseOptions(this),e)}))}))},t.fn.hidroppable.methods={options:function(e){return t.data(e[0],"hidroppable").options},enable:function(e){return e.each(function(){t(this).hidroppable({disabled:!1})})},disable:function(e){return e.each(function(){t(this).hidroppable({disabled:!0})})}},t.fn.hidroppable.parseOptions=function(e){var i=t(e);return t.extend({},t.hiprintparser.parseOptions(e,["accept"]),{disabled:!!i.attr("disabled")||void 0})},t.fn.hidroppable.defaults={accept:null,disabled:!1,onDragEnter:function(t,e){},onDragOver:function(t,e){},onDragLeave:function(t,e){},onDrop:function(t,e){}}}(jQuery)},function(t,e){var i;(i=jQuery).hiprintparser={parseOptions:function(t,e){var n=i(t),o={},r=i.trim(n.attr("data-options"));if(r&&("{"!=r.substring(0,1)&&(r="{"+r+"}"),o=new Function("return "+r)()),e){for(var a={},s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)a[l]="width"==l||"height"==l||"left"==l||"top"==l?parseInt(t.style[l])||void 0:n.attr(l);else for(var p in l){var d=l[p];"boolean"==d?a[p]=n.attr(p)?"true"==n.attr(p):void 0:"number"==d&&(a[p]="0"==n.attr(p)?0:parseFloat(n.attr(p))||void 0)}}i.extend(o,a)}return o}},i.fn.dragLengthC=function(t,e){return"pt"==e.moveUnit?i.fn.dragLengthCNum(t,e)+"pt":i.fn.dragLengthCNum(t,e)},i.fn.dragLengthCNum=function(t,e){var i=3;if("pt"==e.moveUnit){var n=.75*t;return e.minMove&&(i=e.minMove),Math.round(n/i)*i}return Math.round(n/i)*i}},function(t,e){var i,n,o;i=jQuery,n={maxPanelIndex:0},(o=function(t){this.options=i.data(t.target,"hireizeable").options,this.init(t.target)}).prototype={numHandlerText:function(t){return this.numHandler(t)+"pt"},numHandler:function(t){var e=1.5,i=.75*t;return this.options.minResize&&(e=this.options.minResize),Math.round(i/e)*e},init:function(t){this.initResizeBox(t)},initResizeBox:function(t){var e=this;i(t).each(function(){var o;n.maxPanelIndex+=1,e.options.noContainer?o=i(t):(o=i("<div panelIndex="+n.maxPanelIndex+' class="resize-panel"></div>')).css({width:"100%",height:"100%",top:0,left:0,position:"absolute","background-color":"rgba(0,0,0,0.5)",cursor:"move",display:"none"}),e.appendHandler(o,i(this));var r={name:"n",target:i('<div class="n resizebtn" style="cursor: n-resize;top: -12px;margin-left: -4px;left: 50%;"></div>')},a={name:"s",target:i('<div class="s resizebtn" style="cursor: s-resize;bottom: -12px;margin-left: -4px;left: 50%;"></div>')},s={name:"w",target:i('<div class="w resizebtn" style="cursor: w-resize;left: -12px;margin-top: -4px;top: 50%;"></div>')},l={name:"e",target:i('<div class="e resizebtn" style="cursor: e-resize; top: 50%; margin-top:-4px;right: -12px;"></div>')},p={name:"ne",target:i('<div class="ne resizebtn" style="cursor: ne-resize;top: -12px;right: -12px;"></div>')},d={name:"nw",target:i('<div class="nw resizebtn" style=" cursor: nw-resize;top: -12px;left:-12px;"></div>')},c={name:"se",target:i('<div class="se resizebtn" style="cursor: se-resize;bottom:-12px;right: -12px;"></div>')},h={name:"sw",target:i('<div class="sw resizebtn" style="cursor: sw-resize;bottom: -12px;left: -12px;"></div>')},u=(r={name:"r",target:i('<div class="r resizebtn" style="cursor:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABvUExURUdwTP///9XV1R0dHf///3Nzc////////////////1ZWVq+vr/T09PX19QQEBP///////8XFxf///////////wYGBv///+jo6P///4aGhqioqMzMzP///2BgYP///////////zExMf///wAAAP///xLps0AAAAAjdFJOUwCxxOdixRDmzSDMv8/Z+tz5wWpXWPk3zALCv8KnyXZVMNuNPnv3CwAAAJ1JREFUKM/NkckOwyAMRFkDBMhC9qWr+//fWCIV1WlzrjoXS36yxmMT8hdqqKoUvRAjMtw22kvecem1GjTuK1vApmI+wQMBbQFy5li+QQRaX4AtRX+vbntAJeRl9HTTx4TiwESs61DXNUPmVQeujzVrQwh43TTxpeRBslVfMUhbiXKWyiAwvnIsMcdyJkfJYdpNvG/ltDm+bjP+8KFP8ggL+zQLGxwAAAAASUVORK5CYII=\') 14 14,alias;top: -16px;margin-left: -4px;left: 50%;"></div>')},i('<div class="size-box" style="position: absolute;left:-2px;"></div>')),f=i('<div class="del-btn">✕</div>'),g=function(){var t=[],n=e.options.showPoints;return i.each([r,a,s,l,p,d,c,h],function(e,o){i.inArray(o.name,n)>-1&&t.push(o.target)}),t};e.refreshSizeBox(void 0,u,o),0!=e.options.draggable&&(o.append(f),o.on("mousedown",".del-btn",()=>{var e=new KeyboardEvent("keydown",{bubbles:!0,keyCode:46});t.dispatchEvent(e)})),e.addHandlerCss(g()),e.appendHandler(g(),o),e.bindResizeEvent(o,i(this));var m=i(this);i(o).on("mousedown",".resizebtn",function(){m.addClass("resizeing")}),i(".easyui-droppable").on("mouseup",function(){m.removeClass("resizeing")}),e.bindTrigger(i(this))}),e.bindHidePanel()},addHandlerCss:function(t){for(var e=0;e<t.length;e++)t[e].css({position:"absolute",width:"8px",height:"8px",background:"#ff6600","border-radius":"50%"})},appendHandler:function(t,e){e.find(".resize-panel").remove();for(var i=0;i<t.length;i++)e.append(t[i])},refreshSizeBox:function(t,e,i){if(this.options.showSizeBox){var n,o;if(e&&i.append(e),t&&t.length)n=t[0].style,o=t.children("div[panelindex]").find(".size-box");else if(i&&i.parent()){t=i.parent();if(t.hasClass("hiprint-printPaper-content"))return;n=t[0].style,n.width||(n.width=hinnn.px.toPt(t[0].offsetWidth)+"pt"),n.height||(n.height=hinnn.px.toPt(t[0].offsetHeight)+"pt"),o=t.children("div[panelindex]").find(".size-box")}o&&(o.text(n.width+" x "+n.height),o.css("top",-(o.outerHeight()||20)))}},triggerResize:function(t,e){e.ctrlKey||e.metaKey||(t.siblings().children("div[panelindex]").removeClass("selected"),t.siblings().children("div[panelindex]").css({display:"none"})),t.children("div[panelindex]").addClass("selected"),t.children("div[panelindex]").css({display:"block"}),this.refreshSizeBox(t)},bindResizeEvent:function(t,e){var n=this,o=0,r=0,a=t.width(),s=t.height(),l=t.offset().left,p=t.offset().top,d=n.options.noContainer?i(e):t.parent(),c=!1;t.on("mousedown",".e",function(e){o=e.pageX,a=t.width(),c=!0});var h=!1;t.on("mousedown",".s",function(e){r=e.pageY,s=t.height(),h=!0});var u=!1;t.on("mousedown",".w",function(e){o=e.pageX,a=t.width(),u=!0,l=d.offset().left});var f=!1;t.on("mousedown",".n",function(e){r=e.pageY,s=t.height(),f=!0,p=d.offset().top});var g=!1;t.on("mousedown",".ne",function(e){o=e.pageX,r=e.pageY,a=t.width(),s=t.height(),g=!0,p=d.offset().top});var m=!1;t.on("mousedown",".nw",function(e){o=e.pageX,r=e.pageY,a=t.width(),s=t.height(),p=d.offset().top,l=d.offset().left,m=!0});var _=!1;t.on("mousedown",".se",function(e){o=e.pageX,r=e.pageY,a=t.width(),s=t.height(),_=!0});var v=!1;t.on("mousedown",".sw",function(e){o=e.pageX,r=e.pageY,a=t.width(),s=t.height(),v=!0,l=d.offset().left});var y=!1;t.on("mousedown",".r",function(e){o=e.pageX,r=e.pageY,a=t.width(),s=t.height(),y=!0,l=a/2+d.offset().left,p=s/2+d.offset().top}),t.on("dblclick",".r",function(t){d.css({transform:"rotate(0deg)"}),n.options.onResize(t,void 0,void 0,void 0,void 0,0)});var b=!1;t.on("mousedown",function(t){n.options.onBeforeResize(),o=t.pageX,r=t.pageY,p=d.offset().top,l=d.offset().left,b=!1}),i(n.options.stage).on("mousemove",function(e){if(c){var i=(e.pageX-o)/n.options.getScale();t.css({width:"100%"}),d.css({width:n.numHandlerText(a+i)}),n.options.onResize(e,void 0,n.numHandler(a+i),void 0,void 0)}else if(h){var E=(e.pageY-r)/n.options.getScale();t.css({height:"100%"}),d.css({height:n.numHandlerText(s+E)}),n.options.onResize(e,n.numHandler(s+E),void 0,void 0,void 0)}else if(y){t.css({height:"100%"});var w=e.pageX,P=(e.pageY,360*(w-o)/100);o=e.pageX;var T=d[0].style.transform&&parseInt(d[0].style.transform.slice(7,-1))||0,C=T+P;Math.abs(C)>360&&(C%=360),d.css({transform:"rotate("+C+"deg)"}),n.options.onResize(e,void 0,void 0,void 0,void 0,C)}else if(u)i=(e.pageX-o)/n.options.getScale(),t.css({width:"100%"}),d.css({width:n.numHandlerText(a-i),left:n.numHandlerText(n.options.noDrag?void 0:n.numHandler(l+i))}),n.options.onResize(e,void 0,n.numHandler(a-i),void 0,n.options.noDrag?void 0:n.numHandler(l+i));else if(f)E=(e.pageY-r)/n.options.getScale(),t.css({height:"100%"}),d.css({height:n.numHandlerText(s-E),top:n.numHandlerText(n.options.noDrag?void 0:p+E)}),n.options.onResize(e,n.numHandler(s-E),void 0,n.options.noDrag?void 0:n.numHandler(p+E),void 0);else if(g)i=(e.pageX-o)/n.options.getScale(),E=(e.pageY-r)/n.options.getScale(),t.css({height:"100%",width:"100%"}),d.css({height:n.numHandlerText(s-E),top:n.numHandlerText(n.options.noDrag?void 0:p+E),width:n.numHandlerText(a+i)}),n.options.onResize(e,n.numHandler(s-E),n.numHandler(a+i),n.options.noDrag?void 0:n.numHandler(p+E),void 0);else if(m)i=(e.pageX-o)/n.options.getScale(),E=(e.pageY-r)/n.options.getScale(),t.css({height:"100%",width:"100%"}),d.css({height:n.numHandlerText(s-E),top:n.numHandlerText(n.options.noDrag?void 0:p+E),width:n.numHandlerText(a-i),left:n.numHandlerText(n.options.noDrag?void 0:l+i)}),n.options.onResize(e,n.numHandler(s-E),n.numHandler(a-i),n.options.noDrag?void 0:n.numHandler(p+E),n.options.noDrag?void 0:n.numHandler(l+i));else if(_)if(i=(e.pageX-o)/n.options.getScale(),E=(e.pageY-r)/n.options.getScale(),t.css({width:"100%",height:"100%"}),e.shiftKey)d.css({width:n.numHandlerText(a+i),height:n.numHandlerText(s+E)}),n.options.onResize(e,n.numHandler(s+E),n.numHandler(a+i),void 0,void 0);else{var x=s/a,O=a+i,D=s+E;D=O*x,d.css({width:n.numHandlerText(O),height:n.numHandlerText(D)}),n.options.onResize(e,n.numHandler(D),n.numHandler(O),void 0,void 0)}else v?(i=(e.pageX-o)/n.options.getScale(),E=(e.pageY-r)/n.options.getScale(),t.css({width:"100%",height:"100%"}),d.css({width:n.numHandlerText(a-i),left:n.numHandlerText(n.options.noDrag?void 0:l+i),height:n.numHandlerText(s+E)}),n.options.onResize(e,n.numHandler(s+E),n.numHandler(a-i),n.numHandler(otundefinedop),n.options.noDrag?void 0:n.numHandler(l+i))):b&&(i=(e.pageX-o)/n.options.getScale(),E=(e.pageY-r)/n.options.getScale(),d.css({left:n.numHandlerText(n.options.noDrag?void 0:l+i),top:n.numHandlerText(n.options.noDrag?void 0:p+E)}),n.options.onResize(e,void 0,void 0,n.options.noDrag?void 0:n.numHandler(p+E),n.options.noDrag?void 0:n.numHandler(l+i)))}).on("mouseup",function(t){(c||h||u||f||g||m||v||_||b||y)&&n.options.onStopResize(y),c=!1,h=!1,u=!1,f=!1,g=!1,m=!1,v=!1,_=!1,b=!1,y=!1})},bindTrigger:function(t){var e=this;t.on("click",function(n){n.stopPropagation(),e.triggerResize(t,n),i(".mouseRect").remove()})},bindHidePanel:function(t){if(n.maxPanelIndex<2){var e=this.options.stage;i(e).bind("click",function(t){t.target.className&&"string"==_typeof(t.target.className)&&t.target.className.includes("design")&&(t.stopPropagation(),i("div[panelindex]").css({display:"none"}),i("div[panelindex]").removeClass("selected"))})}}},i.fn.extend({hireizeable:function(t){return this.each(function(){var e,n=i.data(this,"hireizeable");e=n?i.extend({},n.options,t||{}):i.extend({},i.fn.hireizeable.defaults,t||{}),i.data(this,"hireizeable",{options:e}),new o({target:this,onResize:function(t,e,i,n,o){},onStopResize:function(t,e,i,n,o){}})})}}),i.fn.hireizeable.defaults={stage:document,reizeUnit:"pt",minResize:1.5,showSizeBox:!0,showPoints:["s","e"],noContainer:!1,onBeforeResize:function(t,e,i,n,o){},onResize:function(t,e,i,n,o){},onStopResize:function(t,e,i,n,o){},noDrag:!1}},function(t,e){var i,n;jQuery,i="connected",n="reconnecting",window.hiwebSocket={opened:!1,name:"webSockets",host:"http://localhost:17521",token:"vue-plugin-hiprint",reconnectTimeout:6e4,reconnectWindowSetTimeout:null,reconnectDelay:2e3,supportsKeepAlive:function(){return!0},hasIo:function(t){return window.io},send:function(t){try{this.socket.emit("news",t)}catch(e){console.log("send data error:"+(t||"")+JSON.stringify(e))}},sendByFragments:function(t){try{const{fragmentSize:e=5e4,sendInterval:i=10,html:n,generateHTMLInterval:o,printByFragments:r,...a}=t,s=t.html,l=s.length,p=Math.ceil(l/e);Array.apply(void 0,{length:p}).forEach((t,o)=>{const r=o*e,s=o+1===e?l:(o+1)*e;setTimeout(()=>{this.socket.emit("printByFragments",{...a,index:o,total:p,htmlFragment:n.slice(r,s)})},i*o)})}catch(e){console.log("send data fragment error:"+(t||"")+JSON.stringify(e))}},getPrinterList:function(){return this.printerList},refreshPrinterList:function(){try{this.socket.emit("refreshPrinterList")}catch(e){console.log("refreshPrinterList error:"+JSON.stringify(e))}},getPaperSizeInfo:function(t){try{console.warn("getPaperSizeInfo 是一个测试功能，仅win客户端支持该api！"),this.socket.emit("getPaperSizeInfo",t)}catch(e){console.log("getPaperSizeInfo error:"+JSON.stringify(e))}},getClients:function(){try{this.socket.emit("getClients")}catch(e){console.log("getClients error:"+JSON.stringify(e))}},getClientInfo:function(){try{this.socket.emit("getClientInfo")}catch(e){console.log("getClientInfo error:"+JSON.stringify(e))}},getAddress:function(t,...i){try{this.socket.emit("address",t,...i)}catch(e){console.log("getAddress error:"+JSON.stringify(e))}},ippPrint:function(t){try{this.socket.emit("ippPrint",t)}catch(e){console.log("ippPrint error:"+JSON.stringify(e))}},ippRequest:function(t){try{this.socket.emit("ippRequest",t)}catch(e){console.log("ippRequest error:"+JSON.stringify(e))}},setHost:function(t,e,i){"function"===typeof e&&(i=e,e=void 0),this.host=t,this.token=e,this.stop(),this.start(i)},start:function(t){var e=this,n=this;window.WebSocket?this.socket||(this.socket=window.io(this.host,{transports:["websocket"],reconnectionAttempts:5,auth:{token:this.token}}),this.socket.on("connect",function(o){n.opened=!0,console.log("Websocket opened."),e.socket.on("success",function(t){hinnn.event.trigger("printSuccess_"+t.templateId,t)}),e.socket.on("error",function(t){hinnn.event.trigger("printError_"+t.templateId,t)}),e.socket.on("clients",function(t){n.clients=t,hinnn.event.trigger("clients",t)}),e.socket.on("clientInfo",function(t){n.clientInfo=t,hinnn.event.trigger("clientInfo",t)}),e.socket.on("printerList",function(t){n.printerList=t,hinnn.event.trigger("printerList",t)}),e.socket.on("paperSizeInfo",function(t){n.paperSize=Array.isArray(t)?t:[t],hinnn.event.trigger("paperSizeInfo",n.paperSize)}),e.socket.on("address",function(t,e,i){hinnn.event.trigger("address_"+t,{addr:e,e:i})}),e.socket.on("ippPrinterConnected",function(t){hinnn.event.trigger("ippPrinterConnected",t)}),e.socket.on("ippPrinterCallback",function(t,e){hinnn.event.trigger("ippPrinterCallback",{err:t,res:e})}),e.socket.on("ippRequestCallback",function(t,e){hinnn.event.trigger("ippRequestCallback",{err:t,res:e})}),n.state=i,t&&t(!0,o)}),this.socket.on("connect_error",function(t){console.error(t),hinnn.event.trigger("connect_error",t)}),this.socket.on("disconnect",function(){n.opened=!1,t&&t(!1)})):console.log("WebSocket start fail"),t&&t(!1)},reconnect:function(){this.state!==i&&this.state!==n||(this.stop(),this.ensureReconnectingState()&&(console.log("Websocket reconnecting."),this.start()))},stop:function(){this.socket&&(console.log("Closing the Websocket."),this.socket.close(),this.socket=null,this.printerList=[])},ensureReconnectingState:function(){return this.state=n,this.state===n}}},function(t,e,i){var n=i(28);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(30)(n,o),n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(29)(!1)).push([t.i,".hicontextmenu {\r\n\tposition: absolute;\r\n\tdisplay: inline-block;\r\n\twidth: 215px;\r\n\tpadding: 0 0;\r\n\tmargin: 0;\r\n\tfont-family: inherit;\r\n\tfont-size: inherit;\r\n\tlist-style-type: none;\r\n\tlist-style: none;\r\n\tbackground: #fff;\r\n\tborder: 1px solid #bebebe;\r\n\tborder-radius: 2px;\r\n\tfont-size: 13px;\r\n}\r\n\r\n.hicontextmenuroot .hicontextmenuitem {\r\n\tposition: relative;\r\n\t-webkit-box-sizing: content-box;\r\n\t-moz-box-sizing: content-box;\r\n\tbox-sizing: content-box;\r\n\tpadding: .2em 12px;\r\n\tcolor: #2f2f2f;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\ttext-decoration: none;\r\n\r\n\tuser-select: none;\r\n\tbackground-color: #fff;\r\n\r\n}\r\n\r\n.hicontextmenuroot>.hicontextmenuitem:hover,\r\n.hicontextmenuroot .hicontextmenuitem > a:hover {\r\n\tbackground-color: #f3f3f3;\r\n}\r\n\r\n.hicontextmenuroot .hicontextmenuitem>a {\r\n\ttext-decoration: none;\r\n\tcolor: #363636;\r\n\tline-height: 22px;\r\n\r\n}\r\n\r\n.hicontextmenuroot .hicontextsubmenu>ul {\r\n\tdisplay: none;\r\n\tposition: absolute;\r\n\r\n}\r\n\r\n.hicontextmenuroot .hicontextsubmenu:hover>ul {\r\n\tdisplay: block;\r\n\tleft: 100%;\r\n\ttop: -1px;\r\n\tmargin-left: 0px;\r\n}\r\n\r\n.hicontextmenuroot .borderBottom {\r\n\tborder-bottom: 1px solid #efe6e6;\r\n}\r\n\r\n.hicontextmenuroot .disable> a {\r\n  \r\n    color: #ccc;\r\n   \r\n}\r\n.hicontextmenuroot>.disable:hover,\r\n.hicontextmenuroot .disable> a:hover {\r\n\tbackground-color:#fff;\r\n}",""])},function(t,e,i){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i,n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=(i=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(a).concat([r]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];null!=a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(t,e,i){var n,o,r={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),s=function(){var t={};return function(e,i){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,e,i);if(window.HTMLIFrameElement&&_instanceof(n,window.HTMLIFrameElement))try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,p=0,d=[],c=i(31);function h(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=r[n.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](n.parts[a]);for(;a<n.parts.length;a++)o.parts.push(v(n.parts[a],e))}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(v(n.parts[a],e));r[n.id]={id:n.id,refs:1,parts:s}}}}function u(t,e){for(var i=[],n={},o=0;o<t.length;o++){var r=t[o],a=e.base?r[0]+e.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};n[a]?n[a].parts.push(s):i.push(n[a]={id:a,parts:[s]})}return i}function f(t,e){var i=s(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),d.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=_typeof(t.insertAt)||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(t.insertAt.before,i);i.insertBefore(e,o)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){return i.nc}();n&&(t.attrs.nonce=n)}return _(e,t.attrs),f(t,e),e}function _(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function v(t,e){var i,n,o,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var a=p++;i=l||(l=m(e)),n=E.bind(null,i,a,!1),o=E.bind(null,i,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",_(e,t.attrs),f(t,e),e}(e),n=function(t,e,i){var n=i.css,o=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(n=c(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,i,e),o=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=m(e),n=function(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),o=function(){g(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=("undefined"===typeof document?"undefined":_typeof(document)))throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==_typeof(e.attrs)?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=u(t,e);return h(i,e),function(t){for(var n=[],o=0;o<i.length;o++){var a=i[o];(s=r[a.id]).refs--,n.push(s)}for(t&&h(u(t,e),e),o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var y,b=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function E(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e){var i,n;window,document,i=jQuery,(n=function(t,e){this.init(t,e)}).prototype={init:function(t,e){this.ele=t,this.defaults={menu:[{text:"text",menus:[{},{}],callback:function(){}}],target:function(t){},width:100,itemHeight:28,bgColor:"#fff",color:"#333",fontSize:14,hoverBgColor:"#f5f5f5"},this.opts=i.extend(!0,{},this.defaults,e),this.random=(new Date).getTime()+parseInt(1e3*Math.random()),this.eventBind()},renderMenu:function(t,e){var i=this,n=e;if(t&&t.length){var o=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<ul class="hicontextmenu" style="z-index: 9999;"></ul>');n||(n=o).addClass("hicontextmenuroot"),jquery__WEBPACK_IMPORTED_MODULE_12___default().each(t,function(t,e){var n=!!e.disable&&e.disable(),r=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<li class="hicontextmenuitem"><a href="javascript:void(0);"><span>'+(e.text||"")+"</span></a></li>");n&&r.addClass("disable"),e.borderBottom&&r.addClass("borderBottom"),e.menus&&(r.addClass("hicontextsubmenu"),i.renderMenu(e.menus,r)),e.callback&&r.click(function(t){jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).hasClass("disable")||(jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hicontextmenuroot").remove(),e.callback()),t.stopPropagation()}),o.append(r)}),e&&e.append(o)}e||jquery__WEBPACK_IMPORTED_MODULE_12___default()("body").append(n).find(".hicontextmenuroot").hide()},setPosition:function(t){jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hicontextmenuroot").css({left:t.pageX+2,top:t.pageY+2}).show()},eventBind:function(){var t=this;this.ele.on("contextmenu",function(e){jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hicontextmenuroot").remove(),e.preventDefault(),t.renderMenu(t.opts.menus),t.setPosition(e),t.opts.target&&"function"==typeof t.opts.target&&t.opts.target(i(this))}),i("body").on("click",function(){i(".hicontextmenuroot").remove()})}},i.fn.hicontextMenu=function(t){return new n(this,t),this}},function(t,e,n){n.r(e),n(22),n(23),n(24),n(25);var i,o=n(0);n(26),window.hiLocalStorage=(i=window.localStorage||null,{saveLocalData:function(t,e){return!(!i||!e||(i.setItem(t,e),0))},getLocalData:function(t){return i?i.getItem(t):null},removeItem:function(t){i&&i.removeItem(t)}}),n(27),n(32);var _r,a=function(){function t(){this.allElementTypes=[]}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.addPrintElementTypes=function(t,e){var i=this;this[t]?this[t]=this[t].concat(e):this[t]=e,e.forEach(function(t){i.allElementTypes=i.allElementTypes.concat(t.printElementTypes)})},t.prototype.removePrintElementTypes=function(t){var e=this;delete e[t],e.allElementTypes=e.allElementTypes.filter(function(e){return!e.tid.startsWith(t)})},t.prototype.getElementTypeGroups=function(t){return this[this.formatterModule(t)]||[]},t.prototype.getElementType=function(t){var e=this.allElementTypes.filter(function(e){return e.tid==t});if(e.length>0)return e[0]},t.prototype.updateElementType=function(t,e){var i=this.getElementType(t);if(e){var n=e(i),o=this.allElementTypes.findIndex(function(e){return e.tid==t});if(o>=0)return this.allElementTypes.splice(o,1,n),n}return i},t.prototype.formatterModule=function(t){return t||"_default"},t}(),p=n(1),s=n(2),l=function(){function t(){}return t.prototype.createPrintElementTypeHtml=function(t,e){var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<ul class="hiprint-printElement-type"></ul>');return e.forEach(function(t){var e=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<li></li>");e.append('<span class="title">'+t.name+"</span>");var n=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<ul></ul>");e.append(n),t.printElementTypes.forEach(function(t){n.append('<li><a class="ep-draggable-item" tid="'+t.tid+'">  '+t.getText()+" </a></li>")}),i.append(e)}),jquery__WEBPACK_IMPORTED_MODULE_12___default()(t).append(i),i.find(".ep-draggable-item")},t}(),u=n(5),d=n(15),c=function(){return function(t){this.title=t.title,this.type=t.type}}(),ctable=function(){return function(t){this.title=t.title,this.type=t.type,this.editable=t.editable,this.columnDisplayEditable=t.columnDisplayEditable,this.columnDisplayIndexEditable=t.columnDisplayIndexEditable,this.columnTitleEditable=t.columnTitleEditable,this.columnResizable=t.columnResizable,this.columnAlignEditable=t.columnAlignEditable,this.isEnableEditField=t.isEnableEditField,this.isEnableContextMenu=t.isEnableContextMenu,this.isEnableInsertRow=t.isEnableInsertRow,this.isEnableDeleteRow=t.isEnableDeleteRow,this.isEnableInsertColumn=t.isEnableInsertColumn,this.isEnableDeleteColumn=t.isEnableDeleteColumn,this.isEnableMergeCell=t.isEnableMergeCell}}(),h=function(){function t(t){var e=this;this.text=t.text,this.field=t.field,this.fields=t.fields,this.title=t.title,this.tid=t.tid,this.data=t.data,this.styler=t.styler,this.formatter=t.formatter,this.type=t.type,this.options=t.options,this.editable=void 0==t.editable||t.editable,this.columnDisplayEditable=void 0==t.columnDisplayEditable||t.columnDisplayEditable,this.columnDisplayIndexEditable=void 0==t.columnDisplayIndexEditable||t.columnDisplayIndexEditable,this.columnTitleEditable=void 0==t.columnTitleEditable||t.columnTitleEditable,this.columnResizable=void 0==t.columnResizable||t.columnResizable,this.columnAlignEditable=void 0==t.columnAlignEditable||t.columnAlignEditable,this.columns=[],(t.columns||[]).forEach(function(t,i){e.columns.push(e.createTableColumnArray(t))}),this.rowStyler=t.rowStyler,this.striped=t.striped,this.groupFields=t.groupFields||[],this.groupFormatter=t.groupFormatter,this.groupFooterFormatter=t.groupFooterFormatter,this.footerFormatter=t.footerFormatter,this.rowsColumnsMerge=t.rowsColumnsMerge,this.rowsColumnsMergeClean=t.rowsColumnsMergeClean,this.groupSequenceContinue=t.groupSequenceContinue,this.gridColumnsFooterFormatter=t.gridColumnsFooterFormatter,this.isEnableEditField=void 0==t.isEnableEditField||t.isEnableEditField,this.isEnableContextMenu=void 0==t.isEnableContextMenu||t.isEnableContextMenu,this.isEnableInsertRow=void 0==t.isEnableInsertRow||t.isEnableInsertRow,this.isEnableDeleteRow=void 0==t.isEnableDeleteRow||t.isEnableDeleteRow,this.isEnableInsertColumn=void 0==t.isEnableInsertColumn||t.isEnableInsertColumn,this.isEnableDeleteColumn=void 0==t.isEnableDeleteColumn||t.isEnableDeleteColumn,this.isEnableMergeCell=void 0==t.isEnableMergeCell||t.isEnableMergeCell,this.columnObj=this.makeColumnObj()}return t.prototype.getText=function(){return this.text||this.title||""},t.prototype.createPrintElement=function(t){var e=this;return this.columns&&0==this.columns.length&&(t.columns||[]).forEach(function(t,i){e.columns.push(e.createTableColumnArray(t))}),new d.a(this,t)},t.prototype.getData=function(){return[{}]},t.prototype.createTableColumnArray=function(t){var e=[];return t.forEach(function(t,i){e.push(new u.a(t))}),e},t.prototype.getPrintElementTypeEntity=function(){return"table"==this.type?new ctable({title:this.title,type:this.type,editable:this.editable,columnDisplayEditable:this.columnDisplayEditable,columnDisplayIndexEditable:this.columnDisplayIndexEditable,columnResizable:this.columnResizable,columnAlignEditable:this.columnAlignEditable,columnTitleEditable:this.columnTitleEditable,isEnableEditField:this.isEnableEditField,isEnableContextMenu:this.isEnableContextMenu,isEnableInsertRow:this.isEnableInsertRow,isEnableDeleteRow:this.isEnableDeleteRow,isEnableInsertColumn:this.isEnableInsertColumn,isEnableDeleteColumn:this.isEnableDeleteColumn,isEnableMergeCell:this.isEnableMergeCell}):new c({title:this.title,type:this.type})},t.prototype.getFields=function(){return this.fields},t.prototype.getOptions=function(){return this.options||{}},t.prototype.getColumnByColumnId=function(t){return this.columnObj[t]},t.prototype.makeColumnObj=function(t){var e={};return t?t.forEach(function(t){(t.id||t.columnId)&&(e[t.id||t.columnId]=t)}):this.columns&&this.columns.forEach(function(t){t.forEach(function(t){(t.id||t.columnId)&&(e[t.id||t.columnId]=t)})}),this.columnObj=e,e},t}(),f=n(4),g=n(3),m=(_r=function(t,e){return(_r=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}_r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),v=function(t){function e(e,i){var n=t.call(this,e)||this;return n.options=new g.a(i),n.options.setDefault(new g.a(p.a.instance.image.default).getPrintElementOptionEntity()),n}return m(e,t),e.prototype.getReizeableShowPoints=function(){return["s","e","se","r"]},e.prototype.getData=function(t){var e="",i=this.getField();e=t&&i?i.split(".").reduce((e,i)=>e?e[i]:t[i],!1)||"":this.options.src||this.printElementType.getData();var n=this.getFormatter();return n&&(e=n(e,this.options,this._currenttemplateData)),e||""},e.prototype.createTarget=function(t,e){var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div  class="hiprint-printElement hiprint-printElement-image" style="position: absolute;"><div class="hiprint-printElement-image-content" style="height:100%;width:100%"></div></div>');return this.updateTargetImage(i,t,e),i},e.prototype.initSizeByHtml=function(e){t.prototype.initSizeByHtml.call(this,e),this.css(e,this.getData())},e.prototype.getConfigOptions=function(){return p.a.instance.image},e.prototype.updateDesignViewFromOptions=function(){this.designTarget&&(this.css(this.designTarget,this.getData()),this.updateTargetImage(this.designTarget,this.getTitle(),this.getData()))},e.prototype.updateTargetImage=function(t,e,i){var n=t.find(".hiprint-printElement-image-content");n.find("img").length?n.find("img").attr("src",i):n.html('<img style="width:100%;height:100%;" src="'+i+'">'),i.length?n.find("img").css("cssText",`width:100%;height:100%;content:url("${i}")!important`):n.find("img").css("cssText","width:100%;height:100%;"),this.options.fit&&n.find("img").css("object-fit",this.options.fit),this.options.borderRadius&&n.find("img").css("border-radius",this.options.borderRadius)},e.prototype.getHtml=function(t,e,i){return this.getHtml2(t,e,i)},e}(f.a),y=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),b=function(t){function e(e){var i=this;return e=e||{},(i=t.call(this,e)||this).leftSpaceRemoved=e.leftSpaceRemoved,i}return y(e,t),e.prototype.getHideTitle=function(){return null==this.hideTitle?this.defaultOptions.hideTitle:this.hideTitle},e}(g.a),E=n(8),T=function(){function t(t,e,i,n,r,a,s,l,p,d,c,h,u,f,g,m){this.panelPageRule=n,this.scale=r,this.watermarkOptions=i,this.defaultPaperNumberFormat="${paperNo}-${paperCount}",this.printLine=0,this.templateId=t,this.panelIdx=e,this.width=o.a.mm.toPt(a),this.height=o.a.mm.toPt(s),this.mmwidth=a,this.mmheight=s,this.paperHeader=l>=0?l:0,this.paperFooter=p,this.contentHeight=p-l,this.createTarget(),this.index=g,this.paperNumberLeft=d||parseInt((this.width-30).toString()),this.paperNumberTop=c||parseInt((this.height-22).toString()),this.paperNumberDisabled=h,this.paperNumberContinue=u,this.paperNumberFormat=f,this.referenceElement=m?jquery__WEBPACK_IMPORTED_MODULE_12___default().extend({},m):new E.a({top:0,left:0,height:0,width:0,bottomInLastPaper:0,beginPrintPaperIndex:0,printTopInPaper:0,endPrintPaperIndex:0})}return t.prototype.subscribePaperBaseInfoChanged=function(t){this.onPaperBaseInfoChanged=t},t.prototype.triggerOnPaperBaseInfoChanged=function(t){this.onPaperBaseInfoChanged&&this.onPaperBaseInfoChanged({panelPageRule:this.panelPageRule,scale:this.scale,paperHeader:this.paperHeader,paperFooter:this.paperFooter,paperNumberLeft:this.paperNumberLeft,paperNumberTop:this.paperNumberTop,paperNumberDisabled:this.paperNumberDisabled,paperNumberContinue:this.paperNumberContinue,paperNumberFormat:this.paperNumberFormat}),o.a.event.trigger("hiprintTemplateDataChanged_"+this.templateId,t||"模板调整")},t.prototype.setFooter=function(t,e,i,n){this.firstPaperFooter=t,this.evenPaperFooter=e,this.oddPaperFooter=i,this.lastPaperFooter=n},t.prototype.setOffset=function(t,e){this.setLeftOffset(t),this.setTopOffset(e)},t.prototype.setLeftOffset=function(t){t?this.paperContentTarget.css("left",t+"pt"):this.paperContentTarget[0].style.left=""},t.prototype.setTopOffset=function(t){t?this.paperContentTarget.css("top",t+"pt"):this.paperContentTarget[0].style.top=""},t.prototype.createTarget=function(){this.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printPaper"><div class="hiprint-printPaper-content"></div></div>'),this.paperContentTarget=this.target.find(".hiprint-printPaper-content"),this.target.css("width",this.mmwidth+"mm"),this.target.css("height",this.mmheight-p.a.instance.paperHeightTrim+"mm"),this.target.attr("original-height",this.mmheight),this.zoom(this.scale)},t.prototype.createHeaderLine=function(){var t=this;this.headerLinetarget=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-headerLine"  style="position: absolute;width: 100%;border-top: 1px dashed #c9bebe;height: 7pt;"></div>'),this.headerLinetarget.css("top",(this.paperHeader||-1)+"pt"),0==this.paperHeader&&this.headerLinetarget.addClass("hideheaderLinetarget"),this.paperContentTarget.append(this.headerLinetarget),this.dragHeadLineOrFootLine(this.headerLinetarget,function(e,i){i>=t.paperFooter&&(i=t.paperFooter-10),t.paperHeader=i>=0?i:0,t.triggerOnPaperBaseInfoChanged()})},t.prototype.createFooterLine=function(){var t=this;this.footerLinetarget=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-footerLine"  style="position: absolute;width: 100%;border-top: 1px dashed #c9bebe;height: 7pt;"></div>'),this.footerLinetarget.css("top",parseInt(this.paperFooter.toString())+"pt"),this.paperFooter==this.height&&(this.footerLinetarget.css("top",this.mmheight-p.a.instance.paperHeightTrim+"mm"),this.footerLinetarget.addClass("hidefooterLinetarget")),this.paperContentTarget.append(this.footerLinetarget),this.dragHeadLineOrFootLine(this.footerLinetarget,function(e,i){i<=t.paperHeader&&(i=t.paperHeader+10),t.paperFooter=i,t.triggerOnPaperBaseInfoChanged()})},t.prototype.createPaperNumber=function(t,e){var i=this,n=this.target.find(".hiprint-paperNumber");if(n.length)return n.html(t),n;var o=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<span class="hiprint-paperNumber"  style="position: absolute">'+t+"</span>");return o.css("top",this.paperNumberTop+"pt"),o.css("left",this.paperNumberLeft+"pt"),this.paperContentTarget.append(o),e&&this.dragHeadLineOrFootLine(o,function(t,e){i.paperNumberTop=e,i.paperNumberLeft=t,i.triggerOnPaperBaseInfoChanged()},!0),o},t.prototype.getTarget=function(){return this.target},t.prototype.append=function(t){this.paperContentTarget.append(t)},t.prototype.updateReferenceElement=function(t){t&&(this.referenceElement=t)},t.prototype.updatePrintLine=function(t){t>=this.printLine&&(this.printLine=t)},t.prototype.design=function(t){var e=this;this.createHeaderLine(),this.createFooterLine(),this.target.addClass("design"),t&&t.grid&&this.target.addClass("grid"),this.paperNumberTarget=this.createPaperNumber(this.formatPaperNumber(1,1),!0),this.createRuler(),this.createWaterMark(!0,this.panelIdx,this.watermarkOptions),this.resetPaperNumber(this.paperNumberTarget),jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.paperNumberTarget).bind("dblclick.hiprint",function(){null==e.paperNumberDisabled&&(e.paperNumberDisabled=!1),e.paperNumberDisabled=!e.paperNumberDisabled,e.resetPaperNumber(e.paperNumberTarget),e.triggerOnPaperBaseInfoChanged("初始")}),jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.paperNumberTarget).bind("click.hiprint",function(){o.a.event.trigger("BuildCustomOptionSettingEventKey_"+e.templateId,{options:{paperNumberFormat:e.paperNumberFormat,paperNumberDisabled:e.paperNumberDisabled,paperNumberContinue:e.paperNumberContinue},callback:function(t){e.paperNumberDisabled=!!t.paperNumberDisabled||void 0,e.paperNumberContinue=t.paperNumberContinue,e.paperNumberFormat=t.paperNumberFormat?t.paperNumberFormat:void 0,e.createPaperNumber(e.formatPaperNumber(1,1),!0),e.resetPaperNumber(e.paperNumberTarget),e.triggerOnPaperBaseInfoChanged()}})})},t.prototype.resetPaperNumber=function(t){this.paperNumberDisabled?t.addClass("hiprint-paperNumber-disabled"):t.removeClass("hiprint-paperNumber-disabled")},t.prototype.updatePaperNumber=function(t,e,i){var n=this.createPaperNumber(this.formatPaperNumber(t,e));this.paperNumberDisabled?n.hide():i&&this.index%2==1&&(n[0].style.left="",n.css("right",this.paperNumberLeft+"pt"))},t.prototype.formatPaperNumber=function(t,e){return this.createWaterMark(!1,t,this.watermarkOptions),eval("`"+(this.paperNumberFormat?this.paperNumberFormat:this.defaultPaperNumberFormat).replace("paperNo",t).replace("paperCount",e)+"`")},t.prototype.dragHeadLineOrFootLine=function(t,e,i){var n=this;t.hidraggable({axis:i?void 0:"v",onDrag:function(t,i,n){e(i,n)},moveUnit:"pt",minMove:p.a.instance.movingDistance,onBeforeDrag:function(t){s.a.instance.draging=!0},getScale:function(){return n.scale||1},onStopDrag:function(t){n.headerLinetarget.css("top",n.paperHeader+"pt"),n.footerLinetarget.css("top",n.paperFooter+"pt"),s.a.instance.draging=!1,n.footerLinetarget.removeClass("hidefooterLinetarget"),n.headerLinetarget.removeClass("hideheaderLinetarget")}})},t.prototype.resize=function(t,e){var i=this.paperFooter/this.height;this.width=o.a.mm.toPt(t),this.height=o.a.mm.toPt(e),this.mmwidth=t,this.mmheight=e,this.target.css("width",t+"mm"),this.target.css("height",e-p.a.instance.paperHeightTrim+"mm"),this.target.attr("original-height",this.mmheight);var n=this.height*i;this.paperFooter=n||this.height,this.footerLinetarget.css("top",n+"pt"),this.contentHeight=this.paperFooter-this.paperHeader,this.paperNumberLeft=this.paperNumberLeft>this.width?parseInt((this.width-30).toString()):this.paperNumberLeft,this.paperNumberTop=this.paperNumberTop>this.height?this.paperNumberTop=parseInt((this.height-22).toString()):this.paperNumberTop,this.paperNumberTarget.css("top",this.paperNumberTop+"pt"),this.paperNumberTarget.css("left",this.paperNumberLeft+"pt"),this.triggerOnPaperBaseInfoChanged("调整大小")},t.prototype.zoom=function(t){t&&(this.scale=t,this.target.css("transform","scale("+t+")"),t>1?this.target.css("transform-origin","-"+t+"% -"+t+"%"):this.target.css("transform-origin","0 0"),this.triggerOnPaperBaseInfoChanged("缩放"))},t.prototype.getPaperFooter=function(t){var e=this.index+t;return 0==e?this.firstPaperFooter?this.firstPaperFooter:this.oddPaperFooter?this.oddPaperFooter:this.paperFooter:e%2==0?this.oddPaperFooter?this.oddPaperFooter:this.paperFooter:e%2==1?this.evenPaperFooter?this.evenPaperFooter:this.paperFooter:void 0},t.prototype.getContentHeight=function(t){return this.getPaperFooter(t)-this.paperHeader},t.prototype.createRuler=function(){this.target.append('<div class="hiprint_rul_wrapper">\n                     <img class="h_img" src="'+_css_image_l_img_svg__WEBPACK_IMPORTED_MODULE_20__+'" />\n                     <img class="v_img" src="'+_css_image_v_img_svg__WEBPACK_IMPORTED_MODULE_21__+'" />\n                    </div>')},t.prototype.createWaterMark=function(t,e,i){var n=this,o=Object.assign({},i||{},{id:`${n.templateId}_${n.panelIdx}_${e||1}_${t?"design":n.index}`,watch:t,container:n.target[0]});o.container&&(o.content?(t&&_plugins_watermark_js__WEBPACK_IMPORTED_MODULE_17__.A.destroyWatermark(Object.assign({},o,{id:`${n.templateId}_${n.panelIdx}_${e||1}_${n.index}`})),_plugins_watermark_js__WEBPACK_IMPORTED_MODULE_17__.A.createWatermark(o)):_plugins_watermark_js__WEBPACK_IMPORTED_MODULE_17__.A.destroyWatermark(o))},t.prototype.displayHeight=function(){return this.mmheight-p.a.instance.paperHeightTrim+"mm"},t.prototype.displayWidth=function(){return this.mmwidth+"mm"},t.prototype.getPanelTarget=function(){return this.target.parent(".hiprint-printPanel ")},t}(),P=n(6),_=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),w=function(t){function e(e,i){var n=t.call(this,e)||this;return n.options=new b(i),n.options.setDefault(new b(p.a.instance.longText.default).getPrintElementOptionEntity()),n}return _(e,t),e.prototype.getDesignTarget=function(e){var i=t.prototype.getDesignTarget.call(this,e);return i.find(".hiprint-printElement-longText-content").css("border","1px dashed #cebcbc"),i},e.prototype.getProxyTarget=function(t){t&&this.SetProxyTargetOption(t);var e=this.getData(),i=this.createTarget(this.printElementType.getText(!0),e);return this.updateTargetSize(i),this.css(i,e),i},e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData(),e=this.getHtml(this.designPaper)[0].target;this.designTarget.find(".hiprint-printElement-longText-content").html(e.find(".hiprint-printElement-longText-content").html()),this.css(this.designTarget,t)}},e.prototype.getConfigOptions=function(){return p.a.instance.longText},e.prototype.getTitle=function(){return this.options.title||this.printElementType.title},e.prototype.getData=function(t){var e=this.getField(),i=e&&e.split(".").reduce((e,i)=>e?e[i]:t?t[i]:"",!1)||"";return t?i||"":this.options.testData||this.printElementType.getData()||""},e.prototype.updateTargetText=function(t,e,i){var n=t.find(".hiprint-printElement-longText-content"),o=this.getText(e,i);n.html(o)},e.prototype.createTarget=function(t,e){var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div  class="hiprint-printElement hiprint-printElement-longText" style="position: absolute;"><div class="hiprint-printElement-longText-content hiprint-printElement-content" style="height:100%;width:100%"></div></div>');return this.updateTargetText(i,t,e),i},e.prototype.getText=function(t,e){var i=this.getFormatter();return e&&(e=0!=this.options.leftSpaceRemoved?e.toString().replace(/^\s*/,""):e),(this.getField()?(this.options.getHideTitle()?"":t?t+"：":"")+(i?i(t,e,this.options,this._currenttemplateData):e):i?i(t,t,this.options,this._currenttemplateData):t||"")||""},e.prototype.getHtml=function(t,e){this.setCurrenttemplateData(e),this.createTempContainer();var i=this.getPaperHtmlResult(t,e);return this.removeTempContainer(),i},e.prototype.getHeightByData=function(t){this.createTempContainer();var e=this.getPaperHtmlResult(new T("","",void 0,1e3,1e3,0,25e3,0,0,!0,!0,void 0,0,void 0),{},t);return this.removeTempContainer(),e[0].referenceElement.bottomInLastPaper-e[0].referenceElement.printTopInPaper},e.prototype.getLongTextIndent=function(){return this.options.longTextIndent?'<span class="long-text-indent" style="margin-left:'+this.options.longTextIndent+'pt"></span>':'<span class="long-text-indent"></span>'},e.prototype.getPaperHtmlResult=function(t,e,i){var n=this,o=[],r=0,a=i||this.getData(e),s=this.getText(this.getTitle(),a),l=this.createTarget(this.getTitle(),this.options.testData||"");this.css(l,a),e?this.updateTargetWidth(l):this.updateTargetSize(l),this.getTempContainer().html(""),this.getTempContainer().append(l);var p=[this.getLongTextIndent()],d=s.split(new RegExp("\r|\n","g"));if(d.forEach(function(t,e){var i=0!=n.options.leftSpaceRemoved?(t||"").toString().replace(/^\s*/,""):t;p=p.concat(i.split("")),e<d.length-1&&p.push("<br/>"+n.getLongTextIndent())}),0==p.length&&(p=[""]),this.isHeaderOrFooter()||this.isFixed()||!e)return(f=this.getStringBySpecificHeight(p,25e3,l)).target.css("left",this.options.displayLeft()),f.target.css("top",this.options.displayTop()),f.target[0].height="",o.push(new P.a({target:f.target,printLine:this.options.displayTop()+f.height,referenceElement:new E.a({top:this.options.getTop(),left:this.options.getLeft(),height:this.options.getHeight(),width:this.options.getWidth(),beginPrintPaperIndex:t.index,bottomInLastPaper:this.options.getTop()+f.height,printTopInPaper:this.options.getTop()})})),o;for(var c=this.getBeginPrintTopInPaperByReferenceElement(t);p.length>0;){var h=0,u=t.getPaperFooter(r);0==r&&c>u&&"none"!=t.panelPageRule&&(c=c-u+t.paperHeader,o.push(new P.a({target:void 0,printLine:void 0})),r++,h=t.getContentHeight(r)-(c-t.paperHeader),u=t.getPaperFooter(r));var f=this.getStringBySpecificHeight(p,h>0?h:0==r?u-c:t.getContentHeight(r),l);p.splice(0,f.length);var g=void 0,m=void 0;f.target.css("left",this.options.displayLeft()),f.target[0].height="",0==r||h>0?(m=c,f.target.css("top",m+"pt"),g=p.length>0?c+f.height:null!=this.options.lHeight?c+(f.height>this.options.lHeight?f.height:this.options.lHeight):c+f.height):(m=t.paperHeader,f.target.css("top",m+"pt"),g=m+f.height),o.push(new P.a({target:f.target,printLine:g,referenceElement:new E.a({top:this.options.getTop(),left:this.options.getLeft(),height:this.options.getHeight(),width:this.options.getWidth(),beginPrintPaperIndex:t.index,bottomInLastPaper:g,printTopInPaper:m})})),r++,e&&this.updatePanelHeight(g+this.options.getHeight(),t)}return o},e.prototype.getStringBySpecificHeight=function(t,e,i){var n=o.a.pt.toPx(e),r=void 0,a="none"==this.panel.panelPageRule;return r=a?this.IsPaginationIndex(t,t.length,-1,i):this.IsPaginationIndex(t,t.length-1,n,i),r.IsPagination?r:this.BinarySearch(t,0,t.length-1,n,i)},e.prototype.BinarySearch=function(t,e,i,n,o){var r=Math.floor((e+i)/2);if(e>i)return o.find(".hiprint-printElement-longText-content").html(""),{IsPagination:!0,height:0,length:0,target:o.clone()};var a=this.IsPaginationIndex(t,r,n,o);return a.IsPagination?a:"l"==a.move?this.BinarySearch(t,e,r-1,n,o):this.BinarySearch(t,r+1,i,n,o)},e.prototype.IsPaginationIndex=function(t,e,i,n){if(-1==i){n.find(".hiprint-printElement-longText-content").html(t.slice(0,e).join(""));var r=n.height();return{IsPagination:!0,height:o.a.px.toPt(r),length:t.length,target:n.clone()}}n.find(".hiprint-printElement-longText-content").html(t.slice(0,e+2).join(""));var a=n.height();n.find(".hiprint-printElement-longText-content").html(t.slice(0,e+1).join(""));r=n.height();return e>=t.length-1&&r<i?{IsPagination:!0,height:o.a.px.toPt(r),length:t.length,target:n.clone()}:r<=i&&a>=i?{IsPagination:!0,height:r,length:e+1,target:n.clone()}:r>=i?{IsPagination:!1,move:"l"}:a<=i?{IsPagination:!1,move:"r"}:{IsPagination:!0,result:1}},e}(f.a),x=function(){function t(){}return t.replaceEnterAndNewline=function(t,e){return t.replace(new RegExp("\r|\n|/g","g"),e)},t.replaceTab=function(t,e){return t.replace(new RegExp("\t/g","g"),e)},t.replaceEnterAndNewlineAndTab=function(t,e){return t.replace(new RegExp("\r|\n|\t|/g","g"),e)},t}(),C=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),O=function(t){function e(e){var i=t.call(this,e)||this;return i.title&&(i.title=x.replaceEnterAndNewlineAndTab(i.title,"")),i}return C(e,t),e.prototype.getHideTitle=function(){return null==this.hideTitle?this.defaultOptions.hideTitle:this.hideTitle},e.prototype.getTextType=function(){return(null==this.textType?this.defaultOptions.textType:this.textType)||"text"},e.prototype.getFontSize=function(){return(null==this.fontSize?this.defaultOptions.fontSize:this.fontSize)||9},e.prototype.getbarcodeMode=function(){return(null==this.barcodeMode?this.defaultOptions.barcodeMode:this.barcodeMode)||"CODE128"},e.prototype.getBarTextMode=function(){return(null==this.barTextMode?this.defaultOptions.barTextMode:this.barTextMode)||"text"},e.prototype.getBarWidth=function(){return(null==this.barWidth?this.defaultOptions.barWidth:this.barWidth)||1},e.prototype.getBarAutoWidth=function(){return(null==this.barAutoWidth?"true"===this.defaultOptions.barAutoWidth:"true"===this.barAutoWidth)??!0},e.prototype.getQRcodeLevel=function(){return(null==this.qrCodeLevel?this.defaultOptions.qrCodeLevel:this.qrCodeLevel)||0},e}(g.a),H=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),D=function(t){function e(e,i){var n=t.call(this,e)||this;return n.options=new O(i),n.options.setDefault(new O(p.a.instance.text.default).getPrintElementOptionEntity()),n}return H(e,t),e.prototype.getDesignTarget=function(e){return t.prototype.getDesignTarget.call(this,e)},e.prototype.getProxyTarget=function(t){t&&this.SetProxyTargetOption(t);var e=this.getData(),i=this.createTarget(this.printElementType.getText(!0),e);return this.updateTargetSize(i),this.css(i,e),i},e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t),this.updateTargetText(this.designTarget,this.getTitle(),t)}},e.prototype.getConfigOptions=function(){return p.a.instance.text},e.prototype.getTitle=function(){var t=this.options.title||this.printElementType.title||"";return t&&(t=x.replaceEnterAndNewlineAndTab(t,"")),t},e.prototype.getData=function(t){var e=void 0,i=this.getField();if(e=t?i&&i.split(".").reduce((e,i)=>e?e[i]:t?t[i]:"",!1)||"":this.options.testData||this.printElementType.getData()||"",this.options.format){if("datetime"==this.options.dataType)return o.a.dateFormat(e,this.options.format);if("boolean"==this.options.dataType){var n=this.options.format.split(":");if(n.length>0)return!0===e||"true"===e?n[0]:n[1]}}return e},e.prototype.updateTargetText=function(t,e,i,n,r){var a=this.getFormatter(),s=t.find(".hiprint-printElement-text-content"),l="";l=this.getField()?(this.options.getHideTitle()?"":e?e+"：":"")+hinnn.toUpperCase(this.options.upperCase,a?a(e,i,this.options,this._currenttemplateData,t):i):i=hinnn.toUpperCase(this.options.upperCase,a?a(e,e,this.options,this._currenttemplateData,t):e);var p=this.options.getTextType();if("text"==p)s.html(l);else{if("barcode"==p){s.css({display:"flex","flex-direction":"column"});var d="text"==this.options.getBarTextMode();s.html('<svg width="100%" display="block" height="100%" class="hibarcode_imgcode" preserveAspectRatio="none slice"></svg>'),d&&s.append('<div class="hibarcode_displayValue" style="white-space:nowrap">');try{i?(jsbarcode__WEBPACK_IMPORTED_MODULE_14___default()(s.find(".hibarcode_imgcode")[0],i,{format:this.options.getbarcodeMode(),width:this.options.getBarWidth(),textMargin:-1,lineColor:this.options.color||"#000000",margin:0,height:parseInt(o.a.pt.toPx(this.options.getHeight()||10).toString()),displayValue:!d&&!this.options.hideTitle}),s.find(".hibarcode_imgcode").attr("height","100%"),s.find(".hibarcode_imgcode").attr("width","100%"),d&&(this.options.hideTitle||s.find(".hibarcode_displayValue").html(i))):s.html("");let t=s.find(".hibarcode_imgcode rect")[0].attributes.width.value;t=Math.ceil(hinnn.px.toPt(1.05*t)),this.options.getBarAutoWidth()&&t>this.options.width&&(s.parent().css("width",t+"pt"),this.options.width=t)}catch(t){console.log(t),s.html(`${i18n.__("此格式不支持该文本")}`)}}if("qrcode"==p){s.html("");try{if(i){s.css({display:"flex","flex-direction":"column"});var c=this.options.width,h=this.options.height-(this.options.hideTitle?0:this.options.lineHeight??1.5*(this.options.fontSize??10.5)),u=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiqrcode_imgcode"></div>').css({width:Math.min(c,h)+"pt",height:Math.min(c,h)+"pt",margin:"auto"});new QRCode(u[0],{width:"100%",height:"100%",colorDark:this.options.color||"#000000",useSVG:!0,correctLevel:this.options.getQRcodeLevel()}).makeCode(i),s.html(u),!this.options.hideTitle&&s.append(`<div class="hiqrcode_displayValue" style="white-space:nowrap">${i}</div>`)}}catch(t){console.log(t),s.html(`${i18n.__("二维码生成失败")}`)}}}},e.prototype.onResize=function(e,i,n,o,r){t.prototype.onResize.call(this,e,i,n,o,r),"barcode"!=this.options.getTextType()&&"qrcode"!=this.options.getTextType()||this.updateTargetText(this.designTarget,this.getTitle(),this.getData())},e.prototype.createTarget=function(t,e,i){var n=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div tabindex="1" class="hiprint-printElement hiprint-printElement-text" style="position: absolute;"><div class="hiprint-printElement-text-content hiprint-printElement-content" style="height:100%;width:100%"></div></div>');return this.updateTargetText(n,t,e,i),n},e.prototype.getHtml=function(t,e,i){return this.getHtml2(t,e,i)},e}(f.a),I=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),R=function(t){function e(e){return t.call(this,e)||this}return I(e,t),e}(g.a),M=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),S=function(t){function e(e,i){var n=t.call(this,e)||this;return n.options=new R(i),n.options.setDefault(new R(p.a.instance.html.default).getPrintElementOptionEntity()),n}return M(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t),this.updateTargetHtml()}},e.prototype.updateTargetHtml=function(){var t=this.getFormatter();if(t){var e=t(this.getData(),this.options,this._currenttemplateData);this.designTarget.find(".hiprint-printElement-html-content").html(e)}},e.prototype.getConfigOptions=function(){return p.a.instance.html},e.prototype.createTarget=function(t,e){var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div  class="hiprint-printElement hiprint-printElement-html" style="position: absolute;"><div class="hiprint-printElement-html-content" style="height:100%;width:100%"></div></div>'),n=this.getFormatter();if(n){var o=n(this.getData(),this.options,this._currenttemplateData);i.find(".hiprint-printElement-html-content").append(o)}else this.options.content&&i.find(".hiprint-printElement-html-content").append(this.options.content);return i},e.prototype.getHtml=function(t,e,i){return this.getHtml2(t,e,i)},e}(f.a),B=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),F=function(t){function e(e,i){var n=t.call(this,e)||this;return n.options=new g.a(i),n.options.setDefault(new g.a(p.a.instance.vline.default).getPrintElementOptionEntity()),n}return B(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t)}},e.prototype.getConfigOptions=function(){return p.a.instance.vline},e.prototype.createTarget=function(t,e){return jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printElement hiprint-printElement-vline" style="border-left:1px solid;position: absolute;"></div>')},e.prototype.getReizeableShowPoints=function(){return["s","r"]},e.prototype.getHtml=function(t,e,i){return this.getHtml2(t,e,i)},e}(f.a),L=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),A=function(t){function e(e,i){var n=t.call(this,e)||this;return n.options=new g.a(i),n.options.setDefault(new g.a(p.a.instance.hline.default).getPrintElementOptionEntity()),n}return L(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t)}},e.prototype.getConfigOptions=function(){return p.a.instance.hline},e.prototype.createTarget=function(t,e){return jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printElement hiprint-printElement-hline" style="border-top:1px solid;position: absolute;"></div>')},e.prototype.getReizeableShowPoints=function(){return["e","r"]},e}(f.a),z=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),k=function(t){function e(e,i){var n=t.call(this,e)||this;return n.options=new g.a(i),n.options.setDefault(new g.a(p.a.instance.rect.default).getPrintElementOptionEntity()),n}return z(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t)}},e.prototype.getConfigOptions=function(){return p.a.instance.rect},e.prototype.createTarget=function(t,e){return jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printElement hiprint-printElement-rect" style="border:1px solid;position: absolute;"></div>')},e.prototype.getHtml=function(t,e,i){return this.getHtml2(t,e,i)},e}(f.a),N=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),V=function(t){function e(e,i){var n=t.call(this,e)||this;return n.options=new g.a(i),n.options.setDefault(new g.a(p.a.instance.oval.default).getPrintElementOptionEntity()),n}return N(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t)}},e.prototype.getConfigOptions=function(){return p.a.instance.oval},e.prototype.createTarget=function(t,e){return jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printElement hiprint-printElement-oval" style="border:1px solid;position: absolute;border-radius: 50%;"></div>')},e.prototype.getHtml=function(t,e,i){return this.getHtml2(t,e,i)},e}(f.a),barcode=function(t){function e(e,i){var n=t.call(this,e)||this;return n.options=new g.a(i),n.options.setDefault(new g.a(p.a.instance.barcode.default).getPrintElementOptionEntity()),n}return N(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t),this.initBarcode(this.designTarget,this.getTitle(),this.getData())}},e.prototype.getConfigOptions=function(){return p.a.instance.barcode},e.prototype.getBarAutoWidth=function(){return(null==this.options.barAutoWidth?"true"===this.options.defaultOptions.barAutoWidth:"true"===this.options.barAutoWidth)??!0},e.prototype.onResize=function(e,i,n,o,r){t.prototype.onResize.call(this,e,i,n,o,r),this.initBarcode(this.designTarget,this.getTitle(),this.getData())},e.prototype.getTitle=function(){return this.options.title||this.printElementType.title},e.prototype.getData=function(t){var e=void 0,i=this.getField();return e=t?i&&i.split(".").reduce((e,i)=>e?e[i]:t?t[i]:"",!1)||"":this.options.testData||this.printElementType.getData()||"",e},e.prototype.initBarcode=function(t,e,i){t=t||this.designTarget;var n=t.find(".hiprint-printElement-barcode-content");try{const t=o.a.pt.toMm(this.options.height-(this.options.hideTitle?0:this.options.lineHeight??1.5*(this.options.fontSize??10.5)));var r=bwip_js__WEBPACK_IMPORTED_MODULE_16__.Ay.toSVG({bcid:this.options.barcodeType||"code128",text:i||this.options.testData||this.options.title,scale:this.options.barWidth||1,width:this.getBarAutoWidth()?"":parseInt(o.a.pt.toMm(this.options.getWidth())),height:parseInt(t),includetext:!this.options.hideTitle,barcolor:this.options.barColor||"#000"});r=jquery__WEBPACK_IMPORTED_MODULE_12___default()(r),r.attr("preserveAspectRatio","none slice");let e=r[0].attributes.viewBox.value.split(" ")[2];e=Math.ceil(hinnn.px.toPt(1.05*e)),this.getBarAutoWidth()&&e>this.options.width&&(n.parent().css("width",e+"pt"),r.css("height","100%"),this.options.width=e),n.html(r)}catch(a){console.error(a),n.html(jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div>${i18n.__("条形码生成失败")}</div>`))}},e.prototype.getReizeableShowPoints=function(){return["s","e","se","r"]},e.prototype.createTarget=function(t,e){var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printElement hiprint-printElement-barcode" style="position: absolute;"><div class="hiprint-printElement-barcode-content" style="height:100%;width:100%;display:flex;flex-direction:column"></div></div>');return this.initBarcode(i,t,e),i},e.prototype.getHtml=function(t,e,i){return this.getHtml2(t,e,i)},e}(f.a),qrcode=function(t){function e(e,i){var n=t.call(this,e)||this;return n.options=new g.a(i),n.options.setDefault(new g.a(p.a.instance.qrcode.default).getPrintElementOptionEntity()),n}return N(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t),this.initQrcode(this.designTarget,this.getTitle(),this.getData())}},e.prototype.getConfigOptions=function(){return p.a.instance.qrcode},e.prototype.onResize=function(e,i,n,o,r){t.prototype.onResize.call(this,e,i,n,o,r),this.initQrcode(this.designTarget,this.getTitle(),this.getData())},e.prototype.getTitle=function(){return this.options.title||this.printElementType.title},e.prototype.getData=function(t){var e=void 0,i=this.getField();return e=t?i&&i.split(".").reduce((e,i)=>e?e[i]:t?t[i]:"",!1)||"":this.options.testData||this.printElementType.getData()||"",e},e.prototype.initQrcode=function(t,e,i){t=t||this.designTarget;var n=t.find(".hiprint-printElement-qrcode-content");try{const t=o.a.pt.toPx(this.options.getWidth()),a=o.a.pt.toPx(this.options.height-(this.options.hideTitle?0:this.options.lineHeight??1.5*(this.options.fontSize??10.5))),s=t>=a?Math.abs(parseInt((t-a)/2)):0,l=t>=a?0:Math.abs(parseInt((a-t)/2));var r=bwip_js__WEBPACK_IMPORTED_MODULE_16__.Ay.toSVG({bcid:this.options.qrcodeType||"qrcode",text:i||this.options.testData||this.options.title,scale:1,paddingwidth:s,paddingheight:l,width:Math.min(parseInt(t/2.835),parseInt(a/2.835)),height:Math.min(parseInt(t/2.835),parseInt(a/2.835)),includetext:!1,eclevel:["M","L","H","Q"][this.options.qrCodeLevel??0],barcolor:this.options.barColor||"#000"});if(n.html(jquery__WEBPACK_IMPORTED_MODULE_12___default()(r)),!this.options.hideTitle){const t=e?e+(i?":":""):"",o=this.options.textAlign||"center",r="justify"===o?"text-align-last: justify;text-justify: distribute-all-lines;":`text-align: ${o};`;n.append(jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div class="hiprint-printElement-qrcode-content-title" style="${r}">${t}${i}</div>`))}}catch(a){console.error(a),n.html(jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<div>${i18n.__("二维码生成失败")}</div>`))}},e.prototype.getReizeableShowPoints=function(){return["s","e","se","r"]},e.prototype.createTarget=function(t,e){var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printElement hiprint-printElement-qrcode" style="position: absolute;"><div class="hiprint-printElement-qrcode-content" style="height:100%;width:100%;display:flex;flex-direction:column"></div></div>');return this.initQrcode(i,t,e),i},e.prototype.getHtml=function(t,e,i){return this.getHtml2(t,e,i)},e}(f.a),W=function(){function t(){}return t.createPrintElement=function(t,e){return"text"==t.type?new D(t,e):"image"==t.type?new v(t,e):"longText"==t.type?new w(t,e):"table"==t.type?new d.a(t,e):"html"==t.type?new S(t,e):"vline"==t.type?new F(t,e):"hline"==t.type?new A(t,e):"rect"==t.type?new k(t,e):"oval"==t.type?new V(t,e):"barcode"==t.type?new barcode(t,e):"qrcode"==t.type?new qrcode(t,e):void 0},t}(),j=function(){function t(t){this.field=t.field,this.fields=t.fields,this.title=t.title,this.text=t.text,this.tid=t.tid,this.data=t.data,this.styler=t.styler,this.formatter=t.formatter,this.type=t.type,this.onRendered=t.onRendered,this.options=t.options}return t.prototype.getText=function(t){return t?this.title||this.text||"":this.text||this.title||""},t.prototype.getData=function(){return this.data},t.prototype.createPrintElement=function(t){var e={};return jquery__WEBPACK_IMPORTED_MODULE_12___default().extend(e,t||{}),W.createPrintElement(this,e)},t.prototype.getPrintElementTypeEntity=function(){return new c({title:this.title,type:this.type})},t.prototype.getFields=function(){return this.fields},t.prototype.getOptions=function(){return this.options||{}},t}(),U=n(16),K=n(12),G=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),q=function(t){function e(e){var i=t.call(this,e)||this;return(e=e||{}).columns?(i.columns=[],e.columns.forEach(function(t){i.columns.push(new K.a(t))})):i.columns=[new K.a({columns:[new u.a({width:100}),new u.a({width:100})]})],i.lHeight=e.lHeight,i.autoCompletion=e.autoCompletion,i.tableFooterRepeat=e.tableFooterRepeat,i}return G(e,t),e.prototype.getPrintElementOptionEntity=function(){var e=t.prototype.getPrintElementOptionEntity.call(this);return e.fields=this.fields,e.columns=[],this.columns.forEach(function(t){e.columns.push(t.getPrintElementOptionEntity())}),e},e}(g.a),Q=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),et=function(t){function e(e){return t.call(this,e)||this}return tt(e,t),e.prototype.createPrintElement=function(t){var e={};return jquery__WEBPACK_IMPORTED_MODULE_12___default().extend(e,t||{}),W.createPrintElement(this,e)},e.prototype.getPrintElementTypeEntity=function(){return new c({title:this.title,type:this.type})},e}(j),nt=function(){function t(){}return t.createPrintElementType=function(t){return t.type=t.type||"text","text"==t.type?new et(t):"table"==t.type?new h(t):new j(t)},t}(),it=function(){function t(){}return t.getElementTypeGroups=function(e){var i=t.formatterModule(e);return a.instance[i]||[]},t.getElementType=function(t,e){if(t)return a.instance.getElementType(t);nt.createPrintElementType({type:e})},t.build=function(e,i){var n=t.formatterModule(i),o=(new l).createPrintElementTypeHtml(e,this.getElementTypeGroups(n));this.enableDrag(o)},t.buildByHtml=function(t){this.enableDrag(t)},t.enableDrag=function(e){e.hidraggable({revert:!0,proxy:function(t){var e=s.a.instance.getDragingPrintElement(),i=e.printElement.getProxyTarget(e.printElement.printElementType.getOptions());return i.appendTo("body"),i.css("z-index","9999"),i},moveUnit:"pt",minMove:4,onBeforeDrag:function(e){s.a.instance.draging=!0;var i=jquery__WEBPACK_IMPORTED_MODULE_12___default()(e.data.target).attr("tid"),n=t.getElementType(i,jquery__WEBPACK_IMPORTED_MODULE_12___default()(e.data.target).attr("ptype"));if(!n)throw new Error(`${i18n.__("请检查 hiprint.init 的 provider 是否配置了")} [${i}]`);var o=n.createPrintElement();if(!o&&"tableCustom"==n.type)throw new Error(`${i18n.__("已移除'tableCustom',请替换使用'table'详情见更新记录")}`);return s.a.instance.setDragingPrintElement(o),!0},onDrag:function(t,e,i){s.a.instance.getDragingPrintElement().updatePosition(e,i)},onStopDrag:function(t){s.a.instance.draging=!1}})},t.formatterModule=function(t){return t||"_default"},t}(),ot=function(){return function(t,e){var i=this;this.name=t,this.printElementTypes=[],e.forEach(function(t){i.printElementTypes.push(nt.createPrintElementType(t))})}}(),rt=function(){return function(t){if(this.index=t.index,this.name=t.name,this.paperType=t.paperType,this.paperType){var e=s.a.instance[this.paperType];t.height?(this.height=t.height,this.width=t.width):(this.height=e.height,this.width=e.width)}else this.height=t.height,this.width=t.width;this.paperHeader=t.paperHeader||0,this.paperFooter=t.paperFooter||o.a.mm.toPt(this.height),this.printElements=t.printElements||[],this.paperNumberLeft=t.paperNumberLeft,this.paperNumberTop=t.paperNumberTop,this.paperNumberDisabled=t.paperNumberDisabled,this.paperNumberContinue=t.paperNumberContinue,this.paperNumberFormat=t.paperNumberFormat,this.panelPaperRule=t.panelPaperRule,this.panelPageRule=t.panelPageRule,this.rotate=t.rotate||void 0,this.firstPaperFooter=t.firstPaperFooter,this.evenPaperFooter=t.evenPaperFooter,this.oddPaperFooter=t.oddPaperFooter,this.lastPaperFooter=t.lastPaperFooter,this.topOffset=t.topOffset,this.fontFamily=t.fontFamily,this.leftOffset=t.leftOffset,this.orient=t.orient,this.scale=t.scale,this.watermarkOptions=t.watermarkOptions,this.panelLayoutOptions=t.panelLayoutOptions}}(),at=function(){function t(t,e,i,n){this.bx=t,this.by=e,this.ex=t,this.ey=e,this.startX=this.minX=t,this.startY=this.minY=e,this.maxX=t,this.maxY=e,this.lastLeft=i,this.lastTop=n}return t.prototype.updateRect=function(t,e,i){var n=i.designPaper.scale||1;this.ex=t,this.ey=e,this.minX=this.startX/n<t/n?this.startX/n:t/n,this.minY=this.startY/n<e/n?this.startY/n:e/n,this.maxX=this.startX/n<t/n?t/n:this.startX/n,this.maxY=this.startY/n<e/n?e/n:this.startY/n},t.prototype.updatePositionByMultipleSelect=function(t,e){null!=t&&(this.lastLeft=this.lastLeft+t),null!=e&&(this.lastTop=this.lastTop+e),this.target.css({left:this.lastLeft+"pt",top:this.lastTop+"pt"})},t}(),pt=function(){function t(t,e){this.templateId=e,this.index=t.index,this.name=t.name,this.width=t.width,this.height=t.height,this.paperType=t.paperType,this.paperHeader=t.paperHeader,this.paperFooter=t.paperFooter,this.initPrintElements(t.printElements),this.paperNumberLeft=t.paperNumberLeft,this.paperNumberTop=t.paperNumberTop,this.paperNumberDisabled=t.paperNumberDisabled,this.paperNumberContinue=void 0==t.paperNumberContinue||t.paperNumberContinue,this.paperNumberFormat=t.paperNumberFormat,this.panelPaperRule=t.panelPaperRule,this.panelPageRule=t.panelPageRule,this.firstPaperFooter=t.firstPaperFooter,this.evenPaperFooter=t.evenPaperFooter,this.oddPaperFooter=t.oddPaperFooter,this.lastPaperFooter=t.lastPaperFooter,this.topOffset=t.topOffset,this.leftOffset=t.leftOffset,this.fontFamily=t.fontFamily,this.orient=t.orient,this.target=this.createTarget(),this.rotate=t.rotate,this.scale=t.scale,this.watermarkOptions=t.watermarkOptions||{},this.panelLayoutOptions=t.panelLayoutOptions||{}}return t.prototype.design=function(t){var e=this;this.orderPrintElements(),this.designPaper=this.createNewPage(0),this.target.html(""),this.target.append(this.designPaper.getTarget()),this.droppablePaper(this.designPaper),this.designPaper.design(t),this.designPaper.subscribePaperBaseInfoChanged(function(t){e.paperHeader=t.paperHeader,e.paperFooter=t.paperFooter,e.paperNumberLeft=t.paperNumberLeft,e.paperNumberTop=t.paperNumberTop,e.paperNumberDisabled=t.paperNumberDisabled,e.paperNumberFormat=t.paperNumberFormat}),this.printElements.forEach(function(i){e.appendDesignPrintElement(e.designPaper,i),i.design(t,e.designPaper)}),this.target.bind("click.hiprint",function(t){let i={panelPaperRule:e.panelPaperRule,panelPageRule:e.panelPageRule,firstPaperFooter:e.firstPaperFooter,evenPaperFooter:e.evenPaperFooter,oddPaperFooter:e.oddPaperFooter,lastPaperFooter:e.lastPaperFooter,leftOffset:e.leftOffset,topOffset:e.topOffset,panelLayoutOptions:e.panelLayoutOptions||{},fontFamily:e.fontFamily,orient:e.orient,paperNumberDisabled:e.paperNumberDisabled,paperNumberContinue:e.paperNumberContinue,paperNumberFormat:e.paperNumberFormat,watermarkOptions:e.watermarkOptions||{}};p.a.instance.paperNumberContinue||delete i["paperNumberContinue"],o.a.event.trigger("BuildCustomOptionSettingEventKey_"+e.templateId,{options:i,callback:function(t){e.panelLayoutOptions=t.panelLayoutOptions||{},e.watermarkOptions=t.watermarkOptions||void 0,t.watermarkOptions&&e.designPaper.createWaterMark(!0,1,t.watermarkOptions),e.panelPaperRule=t.panelPaperRule,e.panelPageRule=t.panelPageRule,e.firstPaperFooter=t.firstPaperFooter,e.evenPaperFooter=t.evenPaperFooter,e.oddPaperFooter=t.oddPaperFooter,e.lastPaperFooter=t.lastPaperFooter,e.leftOffset=t.leftOffset,e.topOffset=t.topOffset,e.fontFamily=t.fontFamily,e.orient=t.orient,e.paperNumberDisabled=e.designPaper.paperNumberDisabled=!!t.paperNumberDisabled||void 0,e.paperNumberContinue=e.designPaper.paperNumberContinue=t.paperNumberContinue,e.paperNumberFormat=t.paperNumberFormat,e.designPaper.paperNumberFormat=t.paperNumberFormat,t.paperNumberFormat&&(e.designPaper.paperNumberTarget=e.designPaper.createPaperNumber(e.designPaper.formatPaperNumber(1,1),!0)),e.designPaper.setOffset(e.leftOffset,e.topOffset),e.css(e.target),e.designPaper.resetPaperNumber(e.designPaper.paperNumberTarget),e.designPaper.triggerOnPaperBaseInfoChanged()}})}),this.bindShortcutKeyEvent(),this.bingPasteEvent(),this.bindBatchMoveElement()},t.prototype.update=function(t){try{var e=Date.now();console.log("start",e);var i=this;this.index=t.index,this.name=t.name,this.width=t.width,this.height=t.height,this.paperType=t.paperType,this.paperHeader=t.paperHeader,this.paperFooter=t.paperFooter,this.designPaper.width=o.a.mm.toPt(t.width),this.designPaper.height=o.a.mm.toPt(this.height),this.designPaper.paperType=this.paperType,this.designPaper.paperHeader=this.paperHeader,this.designPaper.paperFooter=this.paperFooter,this.designPaper.mmheight=t.height,this.designPaper.mmwidth=t.width,this.designPaper.headerLinetarget.css("top",(this.paperHeader||-1)+"pt"),0==this.paperHeader&&this.designPaper.headerLinetarget.addClass("hideheaderLinetarget"),this.designPaper.footerLinetarget.css("top",parseInt(this.paperFooter.toString())+"pt"),this.paperFooter==this.height&&this.designPaper.footerLinetarget.css("top",t.height-p.a.instance.paperHeightTrim+"mm"),this.watermarkOptions=t.watermarkOptions||{},this.designPaper.createWaterMark(!0,this.index,this.watermarkOptions),this.paperNumberLeft=t.paperNumberLeft,this.paperNumberTop=t.paperNumberTop,this.paperNumberDisabled=t.paperNumberDisabled,this.paperNumberContinue=t.paperNumberContinue,this.paperNumberFormat=t.paperNumberFormat,this.designPaper.paperNumberLeft=this.paperNumberLeft,this.designPaper.paperNumberTop=this.paperNumberTop,this.designPaper.paperNumberDisabled=this.paperNumberDisabled,this.designPaper.paperNumberContinue=this.paperNumberContinue,this.designPaper.paperNumberFormat=this.paperNumberFormat,this.designPaper.paperNumberTarget.css("top",this.paperNumberTop+"pt").css("left",this.paperNumberLeft+"pt"),this.designPaper.resetPaperNumber(this.designPaper.paperNumberTarget),this.fontFamily=t.fontFamily,this.orient=t.orient,this.rotate=t.rotate,this.scale=t.scale,this.designPaper.fontFamily=this.fontFamily,this.designPaper.orient=this.orient,this.designPaper.scale=i.designPaper.scale||this.scale,this.panelLayoutOptions=t.panelLayoutOptions,this.panelPaperRule=t.panelPaperRule,this.panelPageRule=t.panelPageRule,this.firstPaperFooter=t.firstPaperFooter,this.evenPaperFooter=t.evenPaperFooter,this.oddPaperFooter=t.oddPaperFooter,this.lastPaperFooter=t.lastPaperFooter,this.topOffset=t.topOffset,this.leftOffset=t.leftOffset,this.designPaper.setFooter(this.firstPaperFooter,this.evenPaperFooter,this.oddPaperFooter,this.lastPaperFooter),this.designPaper.setOffset(this.leftOffset,this.topOffset),this.target.css("width",t.width+"mm"),this.target.css("height",t.height-p.a.instance.paperHeightTrim+"mm"),this.target.attr("original-height",t.height),this.target.parent().css("width",t.width+"mm"),this.target.parent().css("height",t.height-p.a.instance.paperHeightTrim+"mm"),this.designPaper.target.css("width",t.width+"mm"),this.designPaper.target.css("height",t.height-p.a.instance.paperHeightTrim+"mm");var n=Date.now();console.log("更新参数 end",n),console.log("更新参数 time:",n-e),this.printElements.forEach(function(t){t.designTarget&&t.designTarget.length&&t.designTarget.remove()}),this.printElements=[];n=Date.now();console.log("清空面板 end",n),console.log("清空面板 time:",n-e),this.initPrintElements(t.printElements);n=Date.now();console.log("初始化元素 end",n),console.log("初始化元素 time:",n-e),this.printElements.forEach(function(e){i.appendDesignPrintElement(i.designPaper,e),e.design(t,i.designPaper)});n=Date.now();console.log("插入面板 end",n),console.log("插入面板 time:",n-e)}catch(i){console.log("???????"),console.log(i)}},t.prototype.bindShortcutKeyEvent=function(){var t=this;jquery__WEBPACK_IMPORTED_MODULE_12___default()(document).keydown(function(e){"INPUT"!=e.target.tagName&&(e.ctrlKey||e.metaKey)&&90==e.keyCode&&(e.shiftKey?o.a.event.trigger("hiprintTemplateDataShortcutKey_"+t.templateId,"redo"):o.a.event.trigger("hiprintTemplateDataShortcutKey_"+t.templateId,"undo"),e.preventDefault())})},t.prototype.bingPasteEvent=function(){var t=this;t.designPaper.target.attr("tabindex","1"),t.designPaper.target.keydown(function(e){"INPUT"!=e.target.tagName&&(e.ctrlKey||e.metaKey)&&86==e.keyCode&&(t.pasteJson(e),e.preventDefault())})},t.prototype.pasteJson=function(t){var e=jquery__WEBPACK_IMPORTED_MODULE_12___default()("#copyArea");if(e.length)try{var i=e.text(),n=JSON.parse(i);let l=null,p=null;var r=null,a=null;n.forEach((e,i)=>{if(!e.printElementType&&!e.templateId)return;var n=this,d=e.options,c=n.getElementById(e.id);if(!c)return;var h=c.clone(e);if(!h)return;if(0===i){l={x:e.options.left,y:e.options.top};var u=t.currentTarget.className!=t.target.className;r=!u&&n.mouseOffsetX&&o.a.px.toPt(n.mouseOffsetX)||(d.left+=10),a=!u&&n.mouseOffsetY&&o.a.px.toPt(n.mouseOffsetY)||(d.top+=10),p={x:r,y:a}}else{const t={x:e.options.left,y:e.options.top},i={x:t.x-l.x,y:t.y-l.y};r=p.x+i.x,a=p.y+i.y}h.options.setLeft(r),h.options.setTop(a),h.setTemplateId(n.templateId),h.setPanel(n),n.appendDesignPrintElement(n.designPaper,h,!1);const f=s.a.instance.getPrintTemplateById(n.templateId);h.options.field&&f.qtDesigner&&(h.options.qid=f.qtDesignderFunction(h.options.field)),n.printElements.push(h),h.design(void 0,n.designPaper),console.log("pasteJson success"),o.a.event.trigger("hiprintTemplateDataChanged_"+n.templateId,"复制"),h.designTarget.children(".resize-panel").trigger(jquery__WEBPACK_IMPORTED_MODULE_12___default().Event("click"))})}catch(t){console.error("pasteJson error",t)}},t.prototype.css=function(t){this.fontFamily?t.css("fontFamily",this.fontFamily):t[0].style.fontFamily=""},t.prototype.getConfig=function(){return p.a.instance},t.prototype.getHtml=function(t,e,i,n,o){var r=this;this.orderPrintElements();let a=r.getConfig();var s,l=i||[],p=n||this,d=void 0;return n?(d=l[l.length-1],s=d.getPanelTarget(),d.updateReferenceElement(new E.a({top:this.paperHeader,left:0,height:0,width:0,bottomInLastPaper:d.referenceElement.bottomInLastPaper,beginPrintPaperIndex:l.length-1,printTopInPaper:d.referenceElement.bottomInLastPaper,endPrintPaperIndex:l.length-1}))):(s=p.createTarget(),d=p.createNewPage(l.length),l.push(d),s.append(d.getTarget())),this.printElements.filter(function(t){return!t.isFixed()&&!t.isHeaderOrFooter()}).forEach(function(e){var i=[],n=l[l.length-1];d=n.referenceElement.isPositionLeftOrRight(e.options.getTop())?l[n.referenceElement.beginPrintPaperIndex]:l[n.referenceElement.endPrintPaperIndex],i=e.getHtml(d,t),i.forEach(function(t,n){t.referenceElement&&(t.referenceElement.endPrintPaperIndex=t.referenceElement.beginPrintPaperIndex+i.length-1),n>0&&(d.index<l.length-1?d=l[d.index+1]:(d=p.createNewPage(l.length,d.referenceElement),l.push(d)),s.append(d.getTarget())),t.target&&("none"!=e.options.showInPage&&d.append(t.target),d.updatePrintLine(t.printLine),e.onRendered(d,t.target)),n==i.length-1&&t.referenceElement&&d.updateReferenceElement(t.referenceElement)})}),o&&o.templates.forEach(function(t,e){var n=t.data||{},o=t.options||{};t.template.printPanels.forEach(function(t){t.getHtml(n,o,i,r)})}),a.paperNumberContinue&&(r.paperNumberContinue?hinnn._paperList=[...hinnn._paperList||[],...l]:hinnn._paperList=[...l]),n||(this.lastPaperFooter&&l[l.length-1].printLine>this.lastPaperFooter&&(d=p.createNewPage(l.length,d.referenceElement),l.push(d),s.append(d.getTarget())),this.panelPaperRule&&("odd"==this.panelPaperRule&&l.length%2==0&&(d=p.createNewPage(l.length,d.referenceElement),l.push(d),s.append(d.getTarget())),"even"==this.panelPaperRule&&l.length%2==1&&(d=p.createNewPage(l.length,d.referenceElement),l.push(d),s.append(d.getTarget()))),l.forEach(function(i){i.updatePaperNumber(i.index+1,l.length,e.paperNumberToggleInEven),r.fillPaperHeaderAndFooter(i,t,l.length),e&&(null!=e.leftOffset&&i.setLeftOffset(e.leftOffset),null!=e.topOffset&&i.setTopOffset(e.topOffset))}),s.prepend(this.getPrintStyle()),a.paperNumberContinue&&hinnn._paperList.forEach(function(t,e){t.updatePaperNumber(e+1,hinnn._paperList.length)})),s},t.prototype.resize=function(t,e,i,n){this.width=e,this.height=i,this.paperType=t,this.rotate=n,this.designPaper.resize(e,i)},t.prototype.rotatePaper=function(){null==this.rotate&&(this.rotate=!1),this.rotate=!this.rotate,this.resize(this.paperType,this.height,this.width,this.rotate)},t.prototype.zoom=function(t,e){this.scale=e?t:void 0,this.designPaper.zoom(t)},t.prototype.getTarget=function(){return this.target},t.prototype.enable=function(){this.target.removeClass("hipanel-disable")},t.prototype.disable=function(){this.target.addClass("hipanel-disable")},t.prototype.getPanelEntity=function(t){var e=[];return this.printElements.forEach(function(i){e.push(i.getPrintElementEntity(t))}),new rt({index:this.index,name:this.name||this.index+1,width:this.width,height:this.height,paperType:this.paperType,paperHeader:this.paperHeader,paperFooter:this.paperFooter,paperNumberDisabled:!!this.paperNumberDisabled||void 0,paperNumberContinue:void 0==this.paperNumberContinue||this.paperNumberContinue,paperNumberFormat:this.paperNumberFormat?this.paperNumberFormat:void 0,panelPaperRule:this.panelPaperRule?this.panelPaperRule:void 0,panelPageRule:this.panelPageRule?this.panelPageRule:void 0,paperNumberLeft:this.paperNumberLeft,paperNumberTop:this.paperNumberTop,printElements:e,rotate:this.rotate,firstPaperFooter:this.firstPaperFooter,evenPaperFooter:this.evenPaperFooter,oddPaperFooter:this.oddPaperFooter,lastPaperFooter:this.lastPaperFooter,topOffset:this.topOffset,fontFamily:this.fontFamily,orient:this.orient,scale:this.scale,watermarkOptions:this.watermarkOptions?this.watermarkOptions:void 0,leftOffset:this.leftOffset,panelLayoutOptions:this.panelLayoutOptions||{}})},t.prototype.createTarget=function(){var t=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printPanel panel-index-'+this.index+'"></div>');return this.css(t),t},t.prototype.droppablePaper=function(t){var e=this;t.getTarget().hidroppable({accept:".ep-draggable-item",onDrop:function(i,n){const r=s.a.instance.getPrintTemplateById(e.templateId);var a=s.a.instance.getDragingPrintElement(),l=a.printElement,p=e.designPaper.scale||1,d=(a.left-o.a.px.toPt(e.target.children(".hiprint-printPaper").offset().left))/p,c=(a.top-o.a.px.toPt(e.target.children(".hiprint-printPaper").offset().top))/p;l.updateSizeAndPositionOptions(e.mathroundToporleft(d),e.mathroundToporleft(c)),l.setTemplateId(e.templateId),l.setPanel(e),e.appendDesignPrintElement(e.designPaper,l,!0),l.options.field&&r.qtDesigner&&(l.options.qid=r.qtDesignderFunction(l.options.field)),e.printElements.push(l),l.design(void 0,t),o.a.event.trigger("hiprintTemplateDataChanged_"+e.templateId,"新增")}})},t.prototype.initPrintElements=function(t){var e=this;this.printElements=[],t&&t.forEach(function(i){var n;if(n=i.printElementType?nt.createPrintElementType(i.printElementType):a.instance.getElementType(i.tid)){var o=n.createPrintElement(i.options);o.setTemplateId(e.templateId),o.setPanel(e),e.printElements.push(o)}else console.log("miss "+JSON.stringify(t))})},t.prototype.mathroundToporleft=function(t){var e=p.a.instance.movingDistance;return Math.round(t/e)*e},t.prototype.appendDesignPrintElement=function(t,e,i){e.setCurrenttemplateData(void 0);var n=e.getDesignTarget(t);n.addClass("design"),i&&e.initSizeByHtml(n),t.append(n)},t.prototype.createNewPage=function(t,e){var i=new T(this.templateId,this.index,this.watermarkOptions,this.panelPageRule,this.scale,this.width,this.height,this.paperHeader,this.paperFooter,this.paperNumberLeft,this.paperNumberTop,this.paperNumberDisabled,this.paperNumberContinue,this.paperNumberFormat,t,e);return i.setFooter(this.firstPaperFooter,this.evenPaperFooter,this.oddPaperFooter,this.lastPaperFooter),i.setOffset(this.leftOffset,this.topOffset),i},t.prototype.orderPrintElements=function(){this.printElements=o.a.orderBy(this.printElements,function(t){return t.options.getLeft()}),this.printElements=o.a.orderBy(this.printElements,function(t){return t.options.getTop()})},t.prototype.fillPaperHeaderAndFooter=function(t,e,i){this.printElements.filter(function(t){return t.isFixed()||t.isHeaderOrFooter()}).forEach(function(n){if(n.isFixed(),n.showInPage(t.index,i)){var o=n.getHtml(t,e);o.length&&t.append(o[0].target)}})},t.prototype.clear=function(){this.printElements.forEach(function(t){t.designTarget&&t.designTarget.length&&t.designTarget.remove()}),this.printElements=[],o.a.event.trigger("hiprintTemplateDataChanged_"+this.templateId,"清空")},t.prototype.insertPrintElementToPanel=function(t){var e=this.getPrintElementTypeByEntity(t);if(e){var i=e.createPrintElement(t.options);i.setTemplateId(this.templateId),i.setPanel(this),this.printElements.push(i)}},t.prototype.addPrintText=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="text",this.insertPrintElementToPanel(t)},t.prototype.addPrintHtml=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="html",this.insertPrintElementToPanel(t)},t.prototype.addPrintTable=function(t){if(t.printElementType=t.printElementType||{},t.printElementType.type="table",t.options&&t.options.columns){var e=jquery__WEBPACK_IMPORTED_MODULE_12___default().extend({},t.options.columns);t.printElementType.columns=e.columns,e.columns=void 0}this.insertPrintElementToPanel(t)},t.prototype.addPrintImage=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="image",this.insertPrintElementToPanel(t)},t.prototype.addPrintLongText=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="longText",this.insertPrintElementToPanel(t)},t.prototype.addPrintVline=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="vline",this.insertPrintElementToPanel(t)},t.prototype.addPrintHline=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="hline",this.insertPrintElementToPanel(t)},t.prototype.addPrintRect=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="rect",this.insertPrintElementToPanel(t)},t.prototype.addPrintOval=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="oval",this.insertPrintElementToPanel(t)},t.prototype.getPrintElementTypeByEntity=function(t){var e;return(e=t.tid?a.instance.getElementType(t.tid):nt.createPrintElementType(t.printElementType))||console.log("miss "+JSON.stringify(t)),e},t.prototype.getPrintStyle=function(){let t="";return this.panelLayoutOptions&&"row"===this.panelLayoutOptions["layoutType"]&&(t=`\n            <style>\n            .hiprint-printTemplate{\n              margin: -${(Number(this.panelLayoutOptions["layoutRowGap"])||0)/2}mm -${(Number(this.panelLayoutOptions["layoutColumnGap"])||0)/2}mm;\n            }\n              .hiprint-printTemplate .hiprint-printPanel {\n                display:inline-block;\n                padding: ${(Number(this.panelLayoutOptions["layoutRowGap"])||0)/2}mm ${(Number(this.panelLayoutOptions["layoutColumnGap"])||0)/2}mm;\n              }\n            </style>\n          `),t+" <style printStyle>\n        @page\n        {\n             border:0;\n             padding:0cm;\n             margin:0cm;\n             "+this.getPrintSizeStyle()+"\n        }\n        </style>\n"},t.prototype.getPrintSizeStyle=function(){return this.paperType?"size:"+this.paperType+" "+(this.height>this.width?"portrait":"landscape")+";":"size: "+this.width+"mm "+this.height+"mm "+(this.orient?1==this.orient?"portrait":"landscape":"")+";"},t.prototype.deletePrintElement=function(t){var e=this;this.printElements.filter(function(i,n){i.id==t.id&&(t.delete(),e.printElements.splice(n,1))})},t.prototype.getElementByTid=function(t){return this.printElements.filter(function(e){return e.printElementType.tid===t}).map(function(t,e){return t})},t.prototype.getElementByName=function(t){return this.printElements.filter(function(e){return e.options.name===t}).map(function(t,e){return t})},t.prototype.getElementById=function(t){return this.printElements.find(function(e){return e.id===t})},t.prototype.getFieldsInPanel=function(){var t=[];return this.printElements.forEach(function(e){e.options&&e.options.field?t.push(e.options.field):e.printElementType.field&&t.push(e.printElementType.field)}),t},t.prototype.getTestData=function(){var t={};return this.printElements.forEach(function(e){"table"!=e.printElementType.type&&(e.options&&e.options.field?t[e.options.field]=e.options.testData:e.printElementType.field&&(t[e.printElementType.field]=e.printElementType.data||e.options.testData))}),t},t.prototype.bindBatchMoveElement=function(){var t=this;this.designPaper.getTarget().on("mousemove",function(e){e.target.className&&"string"==_typeof(e.target.className)&&e.target.className.includes("editing")||(e.currentTarget.className==t.designPaper.target[0].className?(t.mouseOffsetX=e.offsetX,t.mouseOffsetY=e.offsetY):t.mouseOffsetX=t.mouseOffsetY=void 0,s.a.instance.draging||1===e.buttons&&s.a.instance.rectDraging&&t.mouseRect&&(t.mouseRect.updateRect(e.pageX,e.pageY,t),t.updateRectPanel(t.mouseRect)))}).on("mousedown",function(e){s.a.instance.rectDraging=!0,e.target.className&&"string"==_typeof(e.target.className)&&e.target.className.includes("editing")||s.a.instance.draging||(t.mouseRect&&t.mouseRect.target&&t.mouseRect.target.remove(),1===e.buttons&&"string"==_typeof(e.target.className)&&e.target.className.includes("hiprint-printPaper hidroppable design")&&(t.mouseRect=new at(e.pageX,e.pageY,s.a.instance.dragLengthCNum(e.pageX-t.designPaper.getTarget().offset().left,p.a.instance.movingDistance),s.a.instance.dragLengthCNum(e.pageY-t.designPaper.getTarget().offset().top,p.a.instance.movingDistance))))}).on("mouseup",function(t){s.a.instance.rectDraging=!1})},t.prototype.getElementInRect=function(t){var e=[];return this.printElements.filter(function(t){return!1!==t.options.draggable}).forEach(function(i){i.inRect(t)&&e.push(i)}),e},t.prototype.updateRectPanel=function(t){var e=this,i=this.designPaper.getTarget(),n=this.designPaper.scale||1;this.mouseRect.target||(this.mouseRect.target=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div tabindex="1" class="mouseRect" style="z-index:2;position: absolute;opacity:0.2;border: 1px dashed #000;background-color:#31676f;"><span></span></div>'),i.find(".hiprint-printPaper-content").append(this.mouseRect.target),this.bingKeyboardMoveEvent(this.mouseRect.target),this.mouseRect.target.hidraggable({onDrag:function(t,i,r){e.mouseRect.lastLeft=e.mouseRect.lastLeft?o.a.px.toPt(e.mouseRect.target[0].offsetLeft):i/n,e.mouseRect.lastTop=e.mouseRect.lastTop?o.a.px.toPt(e.mouseRect.target[0].offsetTop):r/n,(e.mouseRect.mouseRectSelectedElement||[]).forEach(function(t){t.updatePositionByMultipleSelect(i-e.mouseRect.lastLeft,r-e.mouseRect.lastTop)}),e.mouseRect.lastLeft=i/n,e.mouseRect.lastTop=r/n,s.a.instance.changed=!0},moveUnit:"pt",minMove:p.a.instance.movingDistance,onBeforeDrag:function(t){e.mouseRect.target.focus(),s.a.instance.draging=!0,e.mouseRect.mouseRectSelectedElement||(e.mouseRect.mouseRectSelectedElement=e.getElementInRect(e.mouseRect)),e.mouseRect.target.css({transform:"unset"})},getScale:function(){return e.designPaper.scale||1},onStopDrag:function(t){s.a.instance.changed&&o.a.event.trigger("hiprintTemplateDataChanged_"+i.templateId,"框选移动"),s.a.instance.draging=!1,s.a.instance.changed=!1}})),t.ex>=t.bx&&t.ey>=t.by?this.mouseRect.target.css({height:t.maxY-t.minY+"px",width:t.maxX-t.minX+"px",left:t.lastLeft/n+"pt",top:t.lastTop/n+"pt",transform:"unset"}):t.ex<t.bx&&t.ey<t.by?this.mouseRect.target.css({height:t.maxY-t.minY+"px",width:t.maxX-t.minX+"px",left:t.lastLeft/n+"pt",top:t.lastTop/n+"pt",transform:"rotate(180deg)","transform-origin":"0 0"}):t.ex<t.bx&&t.ey>t.by?this.mouseRect.target.css({height:t.maxY-t.minY+"px",width:t.maxX-t.minX+"px",left:t.lastLeft/n+"pt",top:t.lastTop/n+"pt",transform:"rotateY(180deg)","transform-origin":"0 0"}):t.ex>t.bx&&t.ey<t.by&&this.mouseRect.target.css({height:t.maxY-t.minY+"px",width:t.maxX-t.minX+"px",left:t.lastLeft/n+"pt",top:t.lastTop/n+"pt",transform:"rotateX(180deg)","transform-origin":"0 0"}),t.target.focus()},t.prototype.bingKeyboardMoveEvent=function(t){var e=this;t.attr("tabindex","1"),t.keydown(function(t){e.mouseRect.mouseRectSelectedElement||(e.mouseRect.mouseRectSelectedElement=e.getElementInRect(e.mouseRect));var i=e.mouseRect.mouseRectSelectedElement||[];switch(t.keyCode){case 37:e.mouseRect.updatePositionByMultipleSelect(0-p.a.instance.movingDistance,0),i.forEach(function(t){t.updatePositionByMultipleSelect(0-p.a.instance.movingDistance,0)}),t.preventDefault();break;case 38:e.mouseRect.updatePositionByMultipleSelect(0,0-p.a.instance.movingDistance),i.forEach(function(t){t.updatePositionByMultipleSelect(0,0-p.a.instance.movingDistance)}),t.preventDefault();break;case 39:e.mouseRect.updatePositionByMultipleSelect(p.a.instance.movingDistance,0),i.forEach(function(t){t.updatePositionByMultipleSelect(p.a.instance.movingDistance,0)}),t.preventDefault();break;case 40:e.mouseRect.updatePositionByMultipleSelect(0,p.a.instance.movingDistance),i.forEach(function(t){t.updatePositionByMultipleSelect(0,p.a.instance.movingDistance)}),t.preventDefault()}[37,38,39,40].includes(t.keyCode)&&o.a.event.trigger("hiprintTemplateDataChanged_"+e.templateId,"框选移动")})},t}(),st=function(){return function(t){if(t)if(t.panels){this.panels=[];for(var e=0;e<t.panels.length;e++)this.panels.push(new rt(t.panels[e]))}else this.panels=[]}}(),lt=n(9),ut=function(){function t(t,e){var i=this;this.printElementOptionSettingPanel={},this.printTemplate=t,this.settingContainer=jquery__WEBPACK_IMPORTED_MODULE_12___default()(e),o.a.event.on(t.getPrintElementSelectEventKey(),function(t){i.buildSetting(t)}),o.a.event.on(t.getBuildCustomOptionSettingEventKey(),function(t){i.buildSettingByCustomOptions(t)}),o.a.event.on("clearSettingContainer",function(){i.clearSettingContainer()})}return t.prototype.init=function(){},t.prototype.clearSettingContainer=function(){this.clearLastPrintElement(),this.settingContainer.html("")},t.prototype.clearLastPrintElement=function(){this.lastPrintElement&&(this.lastPrintElement._editing&&this.lastPrintElement.updateByContent(!0),this.lastPrintElement._printElementOptionTabs&&this.lastPrintElement._printElementOptionTabs.forEach(function(t){t.list&&t.list.forEach(function(t){t.destroy()})}),this.lastPrintElement._printElementOptionItems&&this.lastPrintElement._printElementOptionItems.forEach(function(t){t.destroy()})),this.lastPrintElement=void 0},t.prototype.buildSetting=function(t){var e,i=this,n=this,o=t.printElement,r=t.customOptionsInput,a=o.getPrintElementOptionTabs();i.clearSettingContainer(),a.length?(e=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="prop-tabs"><ul class="prop-tab-items"></ul></div>'),a.filter((t,e)=>t.list.length>0||2==e&&r&&r.length).forEach(function(t){var a=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<li class="prop-tab-item"><span class="tab-title">'+i18n.__(t.name)+"</span></li>");e.find(".prop-tab-items").append(a);var s=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-option-items" data-title="'+i18n.__(t.name)+'"></div>');t.list.forEach(function(t){t.submit=function(t){o.submitOption()};var e=t.createTarget(o,o.options,o.printElementType);i.printElementOptionSettingPanel[t.name]=e,s.append(e),["columns","dataType"].includes(t.name)?t.setValue(o.options[t.name],o.options,o.printElementType):["coordinate","widthHeight"].includes(t.name)?t.setValue(o.options,o):t.setValue(o.options[t.name]||o.printElementType[t.name]),e.find("textarea").bind("dblclick.textarea",function(t){if(!jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).val()){var e=t.target.placeholder||"";jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).val(e)}})}),0==t.list.length&&r&&r.length&&r.forEach(function(t){var e=t.callback;t.callback=function(t){e&&e(t)};var i=t.optionItems;t.title&&s.append('<div class="hiprint-option-item hiprint-option-item-row">\n            <div class="hiprint-option-item-label hiprint-option-title">\n              '+t.title+"\n            </div>\n        </div>"),i.forEach(function(e){e.submit=function(e){t.callback(n.getValueByOptionItems(i))},s.append(e.createTarget(n.printTemplate,t.options,void 0)),e.setValue(t.options[e.name],t.options,void 0)}),s.find(".auto-submit").change(function(){t.callback(n.getValueByOptionItems(i))}),s.find(".auto-submit:input").bind("keydown.submitOption",function(e){13===e.keyCode&&t.callback(n.getValueByOptionItems(i))}),s.find("textarea").bind("dblclick.textarea",function(t){if(!jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).val()){var e=t.target.placeholder||"";jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).val(e)}})}),e.append(s)})):(e=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-option-items"></div>'),o.getPrintElementOptionItems().forEach(function(t){t.submit=function(t){o.submitOption()};var n=t.createTarget(o,o.options,o.printElementType);i.printElementOptionSettingPanel[t.name]=n,e.append(n),["columns","dataType"].includes(t.name)?t.setValue(o.options[t.name],o.options,o.printElementType):["coordinate","widthHeight"].includes(t.name)?t.setValue(o.options,o):t.setValue(o.options[t.name]||o.printElementType[t.name])}));var s=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<button class="hiprint-option-item-settingBtn hiprint-option-item-submitBtn"\n        type="button">${i18n.__("确定")}</button>`),l=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<button  class="hiprint-option-item-settingBtn hiprint-option-item-deleteBtn"\n        type="button">${i18n.__("删除")}</button>`);if(e.append(s),0!=o.options.draggable&&e.append(l),a.length){e.on("click",".prop-tab-item",function(){var t=jquery__WEBPACK_IMPORTED_MODULE_12___default()(this),n=t.index();i.settingContainer.data("last-index",n),t.addClass("active"),t.siblings().removeClass("active");var o=e.find(".hiprint-option-items:eq("+n+")");o.addClass("active"),o.siblings().removeClass("active")});var p=+(i.settingContainer.data("last-index")||0);p>=a.length&&(p=0),e.find(".prop-tab-item:eq("+p+")").click()}s.bind("click.submitOption",function(){o.submitOption()}),l.bind("click.deleteBtn",function(){hinnn.event.trigger("hiprintTemplateDataChanged_"+o.templateId,"删除"),n.printTemplate.deletePrintElement(o),i.clearSettingContainer()}),e.find(".auto-submit").change(function(t){o.submitOption()}),e.find(".auto-submit:input").bind("keydown.submitOption",function(t){13==t.keyCode&&o.submitOption()}),this.settingContainer.append(e),a.length<1&&r&&r.forEach(function(t){var e=t.callback;t.callback=function(t){e&&(e(t),o.submitOption())},i.buildSettingByCustomOptions(t,i.settingContainer)}),this.lastPrintElement=o},t.prototype.buildSettingByCustomOptions=function(t,e){var i=this;this.clearLastPrintElement();var n=e||this.settingContainer;e||this.settingContainer.html("");var o=[],r=p.a.instance.panel.supportOptions.filter(function(t){return!t.hidden}).map(function(t){return t.name});t.optionItems?o=t.optionItems:Object.keys(t.options).filter(function(t){return r.includes(t)}).forEach(function(t){var e=lt.a.getItem(t);e&&o.push(e)});var a=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-option-items"></div>');t.title&&a.append('<div class="hiprint-option-item hiprint-option-item-row">\n            <div class="hiprint-option-item-label hiprint-option-title">\n              '+t.title+"\n            </div>\n        </div>"),o.forEach(function(e){e.submit=function(e){t.callback(i.getValueByOptionItems(o))},a.append(e.createTarget(i.printTemplate,t.options,void 0)),e.setValue(t.options[e.name],t.options,void 0)});var s=jquery__WEBPACK_IMPORTED_MODULE_12___default()(`<button class="hiprint-option-item-settingBtn hiprint-option-item-submitBtn"\n        type="button">${i18n.__("确定")}</button>`);a.append(s),s.bind("click.submitOption",function(){t.callback(i.getValueByOptionItems(o))}),a.find(".auto-submit").change(function(e){t.callback(i.getValueByOptionItems(o))}),a.find(".auto-submit:input").bind("keydown.submitOption",function(e){13==e.keyCode&&t.callback(i.getValueByOptionItems(o))}),n.append(a)},t.prototype.getValueByOptionItems=function(t){var e={};return t.forEach(function(t){e[t.name]=t.getValue()}),e},t}(),dt=function(){function t(t,e){this.paginationContainer=t,this.jqPaginationContainer=jquery__WEBPACK_IMPORTED_MODULE_12___default()(this.paginationContainer),this.template=e}return t.prototype.buildPagination=function(t){var e=this.template.getPaneltotal(),i=this;this.jqPaginationContainer.html("");for(var n=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<ul class="hiprint-pagination"></ul>'),o=function(){var t=r,e=i.template.printPanels[t].name||t+1,o=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<li><span>"+e+'</span><a href="javascript:void(0);">x</a></li>');o.find("span").click(function(){i.template.selectPanel(t),o.siblings().removeClass("selected"),jquery__WEBPACK_IMPORTED_MODULE_12___default()(this).parent("li").addClass("selected")}),o.find("a").click(function(){i.template.deletePanel(t),i.buildPagination()}),n.append(o)},r=0;r<e;r++)o();var a=jquery__WEBPACK_IMPORTED_MODULE_12___default()("<li><span>+</span></li>");n.append(a),this.jqPaginationContainer.append(n),a.click(function(){var t=function(t){i.template.addPrintPanel(t||void 0,!0),i.buildPagination(),jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hiprint-pagination li").removeClass("selected"),jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hiprint-pagination li:nth-last-child(2)").addClass("selected")};if(i.template.onPanelAddClick){var e={index:i.template.printPanels.length,paperType:"A4"};i.template.onPanelAddClick(e,t)}else t()})},t.prototype.selectPanel=function(t){var e=t||this.template.editingPanel.index,i=jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hiprint-pagination li:nth("+e+")");i.length&&(i.siblings().removeClass("selected"),i.addClass("selected")),hinnn.event.trigger("onSelectPanel",this.template.editingPanel,e,i)},t}(),ct=function(){function t(t){var e=this;this.tempimageBase64={},this.id=s.a.instance.guid(),s.a.instance.setPrintTemplateById(this.id,this);var i=t||{};this.printPanels=[],this.dataMode=i.dataMode||1,this.history=void 0==i.history||i.history,this.willOutOfBounds=void 0==i.willOutOfBounds||i.willOutOfBounds,this.onDataChanged=i.onDataChanged,this.getFields=i.getFields,this.onUpdateError=i.onUpdateError,this.lastJson=i.template||{},this.historyList=[{id:s.a.instance.guid(),type:"初始",json:this.lastJson}],this.historyPos=0,this.defaultPanelName=i.defaultPanelName,this.designOptions={},this.qtDesigner=void 0==i.qtDesigner||i.qtDesigner,this.qtDesignerMap={},this.qtDesignderFunction=function(t){this.qtDesignerMap={};const e=t.split("_")[0];for(const i of this.editingPanel.printElements){if(void 0===i.options.field)continue;const t=i.options.field.split("_")[0];void 0===this.qtDesignerMap[t]?this.qtDesignerMap[t]=1:this.qtDesignerMap[t]+=1}return 0===this.qtDesignerMap[e]||void 0===this.qtDesignerMap[e]?e:e+"_"+this.qtDesignerMap[e]};var n=new st(i.template||[]);i.template&&n.panels.forEach(function(t){e.printPanels.push(new pt(t,e.id))}),i.fontList&&(this.fontList=i.fontList),i.fields&&(this.fields=i.fields),i.onImageChooseClick&&(this.onImageChooseClick=i.onImageChooseClick),i.onPanelAddClick&&(this.onPanelAddClick=i.onPanelAddClick),i.settingContainer&&new ut(this,i.settingContainer),i.paginationContainer&&(this.printPaginationCreator=new dt(i.paginationContainer,this),this.printPaginationCreator.buildPagination()),this.initAutoSave()}return t.prototype.design=function(t,e){var i=this;if(e||(e={}),0==this.printPanels.length){var n=this.createDefaultPanel();this.printPanels.push(n)}if(!t)throw new Error("options.container can not be empty");i.designOptions=e,this.createContainer(t),this.printPanels.forEach(function(t,n){i.container.append(t.getTarget()),n>0&&t.disable(),t.design(e)}),this.selectPanel(0)},t.prototype.getSimpleHtml=function(t,e){var i=this;e||(e={});var n=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printTemplate"></div>');return t&&t.constructor===Array?t.forEach(function(o,r){o&&i.printPanels.forEach(function(i,a){n.append(i.getHtml(o,e)),r==t.length-1&&delete hinnn._paperList})}):this.printPanels.forEach(function(o,r){n.append(o.getHtml(t,e)),r==i.printPanels.length-1&&delete hinnn._paperList}),e&&e.imgToBase64&&this.transformImg(n.find("img")),n},t.prototype.getSimpleHtmlAsync=function(t,e){return new Promise(i=>{var n=this;e||(e={});let o=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printTemplate"></div>');const r=Array.isArray(t)?t:[t],a=[];function s(t,e){if(!t.length)return e();const[i,n,r]=t.shift();o.append(i.getHtml(n,r)),console.log("e.generateHTMLInterval",r.generateHTMLInterval),setTimeout(()=>s(t,e),r.generateHTMLInterval??10)}function l(){delete hinnn._paperList,e&&e.imgToBase64&&n.transformImg(o.find("img")),i(o)}r.forEach(function(t,i){t&&n.printPanels.forEach(function(i,n){a.push([i,t,e])})}),s(a,l)})},t.prototype.getHtml=function(t,e){return t||(t={}),this.getSimpleHtml(t,e)},t.prototype.getHtmlAsync=function(t,e){return t||(t={}),this.getSimpleHtmlAsync(t,e)},t.prototype.getJointHtml=function(t,e,i){var n=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printTemplate"></div>'),o=[];return this.printPanels.forEach(function(r,a){n.append(r.getHtml(t,e,o,void 0,i))}),n},t.prototype.setPaper=function(t,e){if(/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/.test(t))this.editingPanel.resize(void 0,parseFloat(t),parseFloat(e),!1);else{var i=s.a.instance[t];if(!i)throw new Error("not found pagetype:"+(t||""));this.editingPanel.resize(t,i.width,i.height,!1)}},t.prototype.rotatePaper=function(){this.editingPanel.rotatePaper()},t.prototype.zoom=function(t,e){this.editingPanel.zoom(t,e)},t.prototype.addPrintPanel=function(t,e){var i=t?new pt(new rt(t),this.id):this.createDefaultPanel();return t&&(t.index=this.printPanels.length),e&&(this.container.append(i.getTarget()),i.design(this.designOptions)),this.printPanels.push(i),e&&this.selectPanel(i.index),i},t.prototype.selectPanel=function(t){var e=this;t>e.printPanels.length-1&&(t=e.printPanels.length-1),this.printPanels.forEach(function(i,n){t==n?(i.enable(),e.editingPanel=i,e.printPaginationCreator&&e.printPaginationCreator.selectPanel(t)):i.disable()})},t.prototype.deletePanel=function(t){this.printPanels[t].clear(),this.printPanels[t].getTarget().remove(),this.printPanels.splice(t,1)},t.prototype.getPaneltotal=function(){return this.printPanels.length},t.prototype.createDefaultPanel=function(){return new pt(new rt({index:this.printPanels.length,name:this.defaultPanelName,paperType:"A4"}),this.id)},t.prototype.createContainer=function(t){t?(this.container=jquery__WEBPACK_IMPORTED_MODULE_12___default()(t),this.container.addClass("hiprint-printTemplate")):this.container=jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint-printTemplate"></div>')},t.prototype.getJsonTid=function(){var t=[];return this.printPanels.forEach(function(e){e.getPanelEntity().printElements.length&&t.push(e.getPanelEntity())}),new st({panels:t})},t.prototype.getJson=function(){var t=[];return this.printPanels.forEach(function(e){t.push(e.getPanelEntity(!0))}),new st({panels:t})},t.prototype.undo=function(t){o.a.event.trigger("hiprintTemplateDataShortcutKey_"+this.id,"undo")},t.prototype.redo=function(t){o.a.event.trigger("hiprintTemplateDataShortcutKey_"+this.id,"redo")},t.prototype.getPrintElementSelectEventKey=function(){return"PrintElementSelectEventKey_"+this.id},t.prototype.getBuildCustomOptionSettingEventKey=function(){return"BuildCustomOptionSettingEventKey_"+this.id},t.prototype.clear=function(){this.printPanels.forEach(function(t){if(t.clear(),t.index>0){var e=t.getTarget();e&&e.length&&e.remove()}}),this.printPanels=[this.printPanels[0]],this.printPaginationCreator&&this.printPaginationCreator.buildPagination()},t.prototype.getPaperType=function(t){return null==t&&(t=0),this.printPanels[0].paperType},t.prototype.getOrient=function(t){return null==t&&(t=0),this.printPanels[t].height>this.printPanels[t].width?1:2},t.prototype.getPrintStyle=function(t){return this.printPanels[t].getPrintStyle()},t.prototype.print=function(t,e,i){t||(t={}),this.getHtml(t,e).hiwprint(i)},t.prototype.print2=function(t,e){if(t||(t={}),e||(e={}),this.clientIsOpened()){var i=this,n=0,o={},r=jquery__WEBPACK_IMPORTED_MODULE_12___default()('link[media=print][href*="print-lock"]'),a="";if(e.styleHandler&&(a+=e.styleHandler()),r.length<=0)throw new Error('请在 入口文件(index.html) 中引入 print-lock.css. 注意: link[media="print"]');r.each(function(s,l){var p=new XMLHttpRequest;p.open("GET",jquery__WEBPACK_IMPORTED_MODULE_12___default()(l).attr("href")),p.onreadystatechange=function(){if(4===p.readyState&&200===p.status&&(o[s+""]='<style rel="stylesheet" type="text/css">'+p.responseText+"</style>",++n==r.length)){for(var l="",d=0;d<r.length;d++)l+=o[d+""];a&&(l=a+l),i.sentToClient(l,t,e)}},p.send()})}else alert(`${i18n.__("连接客户端失败")}`)},t.prototype.imageToBase64=function(t){var e=jquery__WEBPACK_IMPORTED_MODULE_12___default()(t).attr("src");if(-1==e.indexOf("base64"))try{if(!this.tempimageBase64[e]){var i=document.createElement("canvas"),n=new Image;n.src=t.attr("src"),i.width=n.width,i.height=n.height,i.getContext("2d").drawImage(n,0,0),e&&(this.tempimageBase64[e]=i.toDataURL("image/png"))}t.attr("src",this.tempimageBase64[e])}catch(e){try{this.xhrLoadImage(t)}catch(t){console.log(t)}}},t.prototype.xhrLoadImage=function(t){},t.prototype.sentToClient=function(t,e,i){e||(e={});var n=jquery__WEBPACK_IMPORTED_MODULE_12___default().extend({},i||{});if(n.imgToBase64=n.imgToBase64??!1,n.printByFragments)this.getHtmlAsync(e,n).then(e=>{var o=t+e[0].outerHTML;n.id=s.a.instance.guid(),n.html=o,n.templateId=this.id,hiwebSocket.sendByFragments(n,i)});else{var o=t+this.getHtml(e,n)[0].outerHTML;n.id=s.a.instance.guid(),n.html=o,n.templateId=this.id,hiwebSocket.send(n)}},t.prototype.printByHtml=function(t){jquery__WEBPACK_IMPORTED_MODULE_12___default()(t).hiwprint()},t.prototype.printByHtml2=function(t,e){if(e||(e={}),this.clientIsOpened()){var i=this,n=0,o={},r=jquery__WEBPACK_IMPORTED_MODULE_12___default()('link[media=print][href*="print-lock"]');if(r.length<=0)throw new Error('请在 入口文件(index.html) 中引入 print-lock.css. 注意: link[media="print"]');r.each(function(a,l){var p=new XMLHttpRequest;p.open("GET",jquery__WEBPACK_IMPORTED_MODULE_12___default()(l).attr("href")),p.onreadystatechange=function(){if(4===p.readyState&&200===p.status&&(o[a+""]='<style rel="stylesheet" type="text/css">'+p.responseText+"</style>",++n==r.length)){for(var l="",d=0;d<r.length;d++)l+=o[d+""];var c=l+jquery__WEBPACK_IMPORTED_MODULE_12___default()(t)[0].outerHTML,h=jquery__WEBPACK_IMPORTED_MODULE_12___default().extend({},e||{});h.id=s.a.instance.guid(),h.html=c,h.templateId=i.id,hiwebSocket.send(h)}},p.send()})}else alert(`${i18n.__("连接客户端失败")}`)},t.prototype.deletePrintElement=function(t){this.printPanels.forEach(function(e){e.deletePrintElement(t)})},t.prototype.transformImg=function(t){var e=this;t.map(function(t,i){e.imageToBase64(jquery__WEBPACK_IMPORTED_MODULE_12___default()(i))})},t.prototype.toPdf=function(t,e,i){var n=this,r=jquery__WEBPACK_IMPORTED_MODULE_12___default().Deferred(),a=!0;if(this.printPanels.length){var s=o.a.mm.toPt(this.printPanels[0].width),l=o.a.mm.toPt(this.printPanels[0].height),p=jquery__WEBPACK_IMPORTED_MODULE_12___default().extend({scale:2,width:o.a.pt.toPx(s),x:0,y:0,useCORS:!0},i||{}),d=new jspdf__WEBPACK_IMPORTED_MODULE_22__.uE({orientation:1==this.getOrient(0)?"portrait":"landscape",unit:"pt",format:this.printPanels[0].paperType?this.printPanels[0].paperType.toLocaleLowerCase():[s,l]}),c=this.getHtml(t,i);i&&void 0!=i.isDownload&&(a=i.isDownload),this.createTempContainer();var h=this.getTempContainer();this.svg2canvas(c),h.html(c[0]);var u=h.find(".hiprint-printPanel .hiprint-printPaper").length;jquery__WEBPACK_IMPORTED_MODULE_12___default()(c).css("position:fixed"),_wtto00_html2canvas__WEBPACK_IMPORTED_MODULE_23___default()(c[0],p).then(function(t){var o=t.getContext("2d");o.mozImageSmoothingEnabled=!1,o.webkitImageSmoothingEnabled=!1,o.msImageSmoothingEnabled=!1,o.imageSmoothingEnabled=!1;for(var p=t.toDataURL("image/jpeg"),c=0;c<u;c++)d.addImage(p,"JPEG",0,0-c*l,s,u*l),c<u-1&&d.addPage();if(a)n.removeTempContainer(),e.indexOf(".pdf")>-1?d.save(e):d.save(e+".pdf");else{n.removeTempContainer();let t=i.type||"blob";var h=d.output(t);r.resolve(h)}})}return r.promise()},t.prototype.createTempContainer=function(){this.removeTempContainer(),jquery__WEBPACK_IMPORTED_MODULE_12___default()("body").prepend(jquery__WEBPACK_IMPORTED_MODULE_12___default()('<div class="hiprint_temp_Container" style="overflow:hidden;height: 0px;box-sizing: border-box;"></div>'))},t.prototype.removeTempContainer=function(){jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hiprint_temp_Container").remove()},t.prototype.getTempContainer=function(){return jquery__WEBPACK_IMPORTED_MODULE_12___default()(".hiprint_temp_Container")},t.prototype.svg2canvas=function(t){var e=this;t.find("svg").each(function(t,i){var n=i.parentNode,o=e.parentWidthHeight(n),r=document.createElement("canvas");r.width=o.width,r.height=o.height;var a=r.getContext("2d"),s=(new XMLSerializer).serializeToString(i);canvg__WEBPACK_IMPORTED_MODULE_24__["default"].fromString(a,s).render(),jquery__WEBPACK_IMPORTED_MODULE_12___default()(i).before(r),n.removeChild(i)})},t.prototype.parentWidthHeight=function(t){return t.style.width.endsWith("%")||t.style.height.endsWith("%")?"hiprint-printPaper-content"!=t.className?this.parentWidthHeight(t.parentNode):{width:10,height:10}:{width:o.a.pt.toPx(parseFloat(t.style.width)),height:o.a.pt.toPx(parseFloat(t.style.height))}},t.prototype.on=function(t,e){o.a.event.clear(t+"_"+this.id),o.a.event.on(t+"_"+this.id,e)},t.prototype.clientIsOpened=function(){return hiwebSocket.opened},t.prototype.getPrinterList=function(){var t=hiwebSocket.getPrinterList();return t||[]},t.prototype.getElementByTid=function(t,e){return null==e&&(e=0),this.printPanels[e].getElementByTid(t)},t.prototype.getElementByName=function(t,e){return null==e&&(e=0),this.printPanels[e].getElementByName(t)},t.prototype.getPanel=function(t){return null==t&&(t=0),this.printPanels[t]},t.prototype.loadAllImages=function(t,e,i){var n=this;null==i&&(i=0);for(var o=t[0].getElementsByTagName("img"),r=!0,a=0;a<o.length;a++){var s=o[a];s.src&&s.src!==window.location.href&&-1==s.src.indexOf("base64")&&(s&&void 0!==s.naturalWidth&&0!==s.naturalWidth&&s.complete||(r=!1))}i++,!r&&i<10?setTimeout(function(){n.loadAllImages(t,e,i)},500):e()},t.prototype.setFontList=function(t){this.fontList=t},t.prototype.getFontList=function(){return this.fontList},t.prototype.setFields=function(t){this.fields=t},t.prototype.getFields=function(){return this.fields},t.prototype.setOnImageChooseClick=function(t){this.onImageChooseClick=t},t.prototype.getOnImageChooseClick=function(){return this.onImageChooseClick},t.prototype.getFieldsInPanel=function(){var t=[];return this.printPanels.forEach(function(e){t=t.concat(e.getFieldsInPanel())}),t},t.prototype.getTestData=function(){var t={};return this.printPanels.forEach(function(e){t=Object.assign(t,e.getTestData())}),t},t.prototype.update=function(t,e){var i=this;try{if(t&&"object"==_typeof(t)&&t.panels.length>0){var n=i.printPanels.length-1;t.panels.forEach(function(t,e){if(e>n){i.printPanels.push(new pt(t,i.id));var o=i.printPanels[e];i.container.append(o.getTarget()),e>0&&o.disable(),o.design(i.designOptions),i.printPaginationCreator&&i.printPaginationCreator.buildPagination()}var r=new rt(t);i.editingPanel=i.printPanels[e],i.editingPanel.update(r)}),i.selectPanel(e||0)}}catch(o){console.log(o),i.onUpdateError&&i.onUpdateError(o)}},t.prototype.getSelectEls=function(){var t=this,e=[];return e=t.editingPanel.mouseRect&&t.editingPanel.mouseRect.target&&jquery__WEBPACK_IMPORTED_MODULE_12___default()(".mouseRect").length?t.editingPanel.getElementInRect(t.editingPanel.mouseRect):t.editingPanel.printElements.filter(function(t){return"block"==t.designTarget.children().last().css("display")&&!t.printElementType.type.includes("table")}),e},t.prototype.selectElementsByField=function(t){var e=this,i=jquery__WEBPACK_IMPORTED_MODULE_12___default();e.editingPanel.printElements.forEach((e,n)=>{if(t&&t.includes(e.options.field)){let t=e.designTarget;t.children("div[panelindex]").addClass("selected"),t.children().last().css({display:"block"}),t=t[0],i.data(t,"hidraggable").options.onBeforeSelectAllDrag.call(t,{})}})},t.prototype.selectAllElements=function(){var t=this,e=jquery__WEBPACK_IMPORTED_MODULE_12___default();t.editingPanel.printElements.forEach((t,i)=>{let n=t.designTarget;n.children("div[panelindex]").addClass("selected"),n.children().last().css({display:"block"}),n=n[0],e.data(n,"hidraggable").options.onBeforeSelectAllDrag.call(n,{})})},t.prototype.updateOption=function(t,e){var i=this.getSelectEls();i&&i.length&&(i.forEach(function(i){i.updateOption(t,e,!0)}),o.a.event.trigger("hiprintTemplateDataChanged_"+this.id,"批量修改"))},t.prototype.setElsAlign=function(t){var e=this.getSelectEls();if(e.length){var i=Math.min.apply(null,e.map(function(t){return t.options.left})),n=Math.max.apply(null,e.map(function(t){return t.options.left+t.options.width})),o=Math.min.apply(null,e.map(function(t){return t.options.top})),r=Math.max.apply(null,e.map(function(t){return t.options.top+t.options.height}));switch(t){case"left":e.forEach(function(t){t.updateSizeAndPositionOptions(i),t.designTarget.css("left",t.options.displayLeft())});break;case"vertical":var a=i+(n-i)/2;e.forEach(function(t){t.updateSizeAndPositionOptions(a-t.options.width/2),t.designTarget.css("left",t.options.displayLeft())});break;case"right":e.forEach(function(t){t.updateSizeAndPositionOptions(n-t.options.width),t.designTarget.css("left",t.options.displayLeft())});break;case"top":e.forEach(function(t){t.updateSizeAndPositionOptions(void 0,o),t.designTarget.css("top",t.options.displayTop())});break;case"horizontal":var s=o+(r-o)/2;e.forEach(function(t){t.updateSizeAndPositionOptions(void 0,s-t.options.height/2),t.designTarget.css("top",t.options.displayTop())});break;case"bottom":e.forEach(function(t){t.updateSizeAndPositionOptions(void 0,r-t.options.height),t.designTarget.css("top",t.options.displayTop())});break;case"distributeHor":var l=[].reduce.call(e,function(t,e){return t+e.options.width},0),p=(n-i-l)/(e.length-1);e.sort(function(t,e){return t.options.left-e.options.left}),e.forEach(function(t,i){[0,e.length-1].includes(i)||(t.updateSizeAndPositionOptions(e[i-1].options.left+e[i-1].options.width+p),t.designTarget.css("left",t.options.displayLeft()))});break;case"distributeVer":var d=[].reduce.call(e,function(t,e){return t+e.options.height},0),c=(r-o-d)/(e.length-1);e.sort(function(t,e){return t.options.top-e.options.top}),e.forEach(function(t,i){[0,e.length-1].includes(i)||(t.updateSizeAndPositionOptions(void 0,e[i-1].options.top+e[i-1].options.height+c),t.designTarget.css("top",t.options.displayTop()))});break}}},t.prototype.setElsSpace=function(t,e){var i=this.getSelectEls();i.length&&(e?(i.sort(function(t,e){return t.options.left-e.options.left}),i.forEach(function(e,n){n>0&&(e.updateSizeAndPositionOptions(i[n-1].options.left+i[n-1].options.width+t),e.designTarget.css("left",e.options.displayLeft()))})):(i.sort(function(t,e){return t.options.top-e.options.top}),i.forEach(function(e,n){n>0&&(e.updateSizeAndPositionOptions(void 0,i[n-1].options.top+i[n-1].options.height+t),e.designTarget.css("top",e.options.displayTop()))})))},t.prototype.initAutoSave=function(){var t=this;o.a.event.on("hiprintTemplateDataShortcutKey_"+this.id,function(e){if(t.history)switch(e){case"undo":if(t.historyPos>0){t.historyPos-=1;var i=t.historyList[t.historyPos];t.update(i.json)}break;case"redo":if(t.historyPos<t.historyList.length-1){t.historyPos+=1;i=t.historyList[t.historyPos];t.update(i.json)}break}}),o.a.event.on("hiprintTemplateDataChanged_"+this.id,function(e){if(t.history){var i=1==t.dataMode?t.getJson():t.getJsonTid();t.lastJson=i,t.historyPos<t.historyList.length-1&&(t.historyList=t.historyList.slice(0,t.historyPos+1)),t.historyList.push({id:s.a.instance.guid(),type:e,json:i}),t.historyList.length>50?t.historyList=t.historyList.slice(0,1).concat(t.historyList.slice(1,50)):t.historyPos+=1,t.onDataChanged&&t.onDataChanged(e,i)}})},t}();function ht(t){this.getHtml(t).hiwprint()}function ft(t,e,i){jquery__WEBPACK_IMPORTED_MODULE_12___default().extend({},t||{}),t.imgToBase64=t.imgToBase64??!1;var n=new ct({});n.on("printSuccess",e),n.on("printError",i),n.printByHtml2(this.getHtml(t),t.options)}function gt(t){var e=void 0;return t&&t.templates.forEach(function(i,n){var o=jquery__WEBPACK_IMPORTED_MODULE_12___default().extend({},i.options||{});t.imgToBase64&&(o.imgToBase64=o.imgToBase64??!1),e?e.append(i.template.getHtml(i.data,o).html()):e=i.template.getHtml(i.data,o)}),e}function mt(t){p.a.instance.init(t),p.a.instance.providers&&p.a.instance.providers.forEach(function(t){t.addElementTypes(a.instance)}),!window.autoConnect||p.a.instance.host==hiwebSocket.host&&p.a.instance.token==hiwebSocket.token||(hiwebSocket.stop(),p.a.instance.host&&(hiwebSocket.host=p.a.instance.host),p.a.instance.token&&(hiwebSocket.token=p.a.instance.token),hiwebSocket.start()),p.a.instance.lang&&Object.keys(languages).includes(p.a.instance.lang)?i18n.lang=p.a.instance.lang:i18n.lang="cn"}function cig(t){void 0==hiprint._config&&(hiprint._config=JSON.stringify(window.HIPRINT_CONFIG));const e=JSON.parse(hiprint._config);t?t&&Object.keys(t).forEach(function(i){if("optionItems"==i&&t.optionItems&&t.optionItems.length)p.a.instance.registerItems(t.optionItems);else if(t[i].tabs&&t[i].tabs.length)t[i].tabs.forEach(function(t,n){if(t.replace)jquery__WEBPACK_IMPORTED_MODULE_12___default().extend(p.a.instance[i].tabs[n],t);else{var o=t.options||[],r=e[i].tabs[n].options;o&&o.forEach(function(t){var e=r.findIndex(function(e){return e.name==t.name});e>-1?r[e].hidden=t.hidden:t.after?(e=r.findIndex(function(e){return e.name==t.after}),e>-1&&r.splice(e+1,0,t)):r.push(t)}),jquery__WEBPACK_IMPORTED_MODULE_12___default().extend(p.a.instance[i].tabs[n],{name:t.name,options:r})}}),delete t[i].tabs;else if(t[i].supportOptions&&t[i].supportOptions.length){var n=t[i].supportOptions,o=e[i].supportOptions;n.forEach(function(t){var e=o.findIndex(function(e){return e.name==t.name});e>-1?o[e].hidden=t.hidden:t.after?(e=o.findIndex(function(e){return e.name==t.after}),e>-1&&o.splice(e+1,0,t)):o.push(t)}),jquery__WEBPACK_IMPORTED_MODULE_12___default().extend(p.a.instance[i].supportOptions,o),delete t[i].supportOptions}else{var r={};r[i]=t[i],t[i].tabs&&0==t[i].tabs.length&&(r[i].supportOptions=e[i].supportOptions),jquery__WEBPACK_IMPORTED_MODULE_12___default().extend(p.a.instance,r)}}):jquery__WEBPACK_IMPORTED_MODULE_12___default().extend(p.a.instance,JSON.parse(hiprint._config))}function uep(t,e){return a.instance.updateElementType(t,e)}function rpl(t){p.a.instance.clear("printerList"),p.a.instance.on("printerList",t),hiwebSocket.refreshPrinterList()}function getClients(t){p.a.instance.clear("clients"),p.a.instance.on("clients",t),hiwebSocket.getClients()}function getClientInfo(t){p.a.instance.clear("clientInfo"),p.a.instance.on("getClientInfo",t),hiwebSocket.getClientInfo()}function getAddr(t,e,...i){p.a.instance.clear("address_"+t),p.a.instance.on("address_"+t,e),hiwebSocket.getAddress(t,...i)}function ippPrint(t,e,i){p.a.instance.clear("ippPrinterCallback"),p.a.instance.on("ippPrinterCallback",e),p.a.instance.clear("ippPrinterConnected"),p.a.instance.on("ippPrinterConnected",i),hiwebSocket.ippPrint(t)}function ippRequest(t,e){p.a.instance.clear("ippRequestCallback"),p.a.instance.on("ippRequestCallback",e),hiwebSocket.ippRequest(t)}n.d(e,"init",function(){return mt}),n.d(e,"setConfig",function(){return cig}),n.d(e,"updateElementType",function(){return uep}),n.d(e,"hiwebSocket",function(){return hiwebSocket}),n.d(e,"refreshPrinterList",function(){return rpl}),n.d(e,"getClients",function(){return getClients}),n.d(e,"getClientInfo",function(){return getClientInfo}),n.d(e,"getAddress",function(){return getAddr}),n.d(e,"ippPrint",function(){return ippPrint}),n.d(e,"ippRequest",function(){return ippRequest}),n.d(e,"PrintElementTypeManager",function(){return it}),n.d(e,"PrintElementTypeGroup",function(){return ot}),n.d(e,"PrintTemplate",function(){return ct}),n.d(e,"print",function(){return ht}),n.d(e,"print2",function(){return ft}),n.d(e,"getHtml",function(){return gt}),jquery__WEBPACK_IMPORTED_MODULE_12___default()(document).ready(function(){console.log("document ready"),console.log(window.autoConnect),hiwebSocket.hasIo()&&window.autoConnect&&hiwebSocket.start()})}]),defaultElementTypeProvider=(0,_etypes_default_etyps_provider__WEBPACK_IMPORTED_MODULE_25__.A)(hiprint)},37866:function(t,e,i){var n={"./cn.json":85833,"./cn_tw.json":771,"./de.json":52923,"./en.json":10739,"./es.json":12724,"./fr.json":39208,"./it.json":22833,"./ja.json":61417,"./ru.json":80037};function o(t){var e=r(t);return i(e)}function r(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id=37866},39208:function(t){"use strict";t.exports=JSON.parse('{"请选择字段":"Veuillez sélectionner un champ","计数":"Compter","合计":"Somme","平均值":"Moyenne","最小值":"Minimum","最大值":"Maximum","此格式不支持该文本":"Ce format ne prend pas en charge ce texte","二维码生成失败":"Échec de la génération de code QR","字体行高":"Hauteur de police","默认":"Défaut","字体":"Police","宋体":"SimSun","微软雅黑":"Microsoft YaHei","字体大小":"Taille de police","字体粗细":"Épaisseur de police","更细":"Plus léger","粗体":"Gras","粗体+":"Plus gras","字间距":"Espacement des lettres","左右对齐":"Justifié","居左":"Gauche","居中":"Centré","居右":"Droite","两端对齐":"Justifié","标题显示隐藏":"Affichage du titre","显示":"Afficher","隐藏":"Masquer","表格边框":"Bordure du tableau","有边框":"Oui","无边框":"Non","表头边框":"Bordure d\'en-tête","左边框":"Gauche","右边框":"Droite","左右边框":"Gauche et droite","上边框":"Haut","下边框":"Bas","上下边框":"Haut et bas","表头单元格边框":"Bordure de cellule d\'en-tête","表尾边框":"Bordure de pied de page","表尾单元格边框":"Bordure de cellule de pied de page","表头行高":"Hauteur de ligne d\'en-tête","表头字体大小":"Taille de police d\'en-tête","表头字体粗细":"Épaisseur de police d\'en-tête","表体单元格边框":"Bordure de cellule de corps","表体行高":"Hauteur de ligne de corps","表头背景":"Arrière-plan de l\'en-tête","线宽":"Largeur de trait","边框大小":"Taille de bordure","条形码格式":"Type de code à barres","商品条码":"Code à barres de produit","条形码":"Code à barres","物流":"Logistique","邮政和快递编码":"Code postal et messagerie","医疗产品编码":"Code de produit médical","不常用编码":"Code inhabituel","附加组件":"Composant supplémentaire","实验编码":"Code expérimental","条码类型":"Type de code à barres","二维码类型":"Type de QR code","二维码容错率":"Niveau de correction d\'erreur de QR code","字体颜色":"Couleur de police","文本修饰":"Décoration de texte","下划线":"Souligné","上划线":"Barré","穿梭线":"Barré","字段名":"Nom de champ","请输入字段名":"Veuillez saisir le nom du champ","标题":"Titre","请输入标题":"Veuillez saisir le titre","测试数据":"Données de test","仅字段名称存在时有效":"Valide uniquement lorsque le nom de champ existe","位置坐标":"Coordonnée de position","X位置(左)":"Position X (gauche)","Y位置(上)":"Position Y (haut)","同步":"Synchroniser","不同步":"Non synchronisé","宽高大小":"Largeur et hauteur","宽":"Largeur","高":"Hauteur","图片地址":"URL de l\'image","请输入图片地址":"Veuillez saisir l\'URL de l\'image","选择":"Choisir","图片缩放":"Mise à l\'échelle de l\'image","等比":"Proportionnel","裁切":"Rogner","填充":"Remplir","原始尺寸":"Taille d\'origine","颜色":"Couleur","边框颜色":"Couleur de bordure","水印功能":"Filigrane","水印内容":"Contenu du filigrane","旋转角度":"Angle de rotation","水平密度":"Densité horizontale","垂直密度":"Densité verticale","水印时间":"Heure du filigrane","时间格式":"Format de l\'heure","页码格式":"Format du numéro de page","显示页码":"Afficher le numéro de page","页码续排":"Continuer le numéro de page","续排":"Continuer","重排":"Réinitialiser","每行缩进":"Retrait","显示规则":"Règle d\'affichage","始终隐藏":"Toujours masquer","首页":"Première page","奇数页":"Pages impaires","偶数页":"Pages paires","尾页":"Dernière page","强制分页":"Forcer saut de page","是":"Oui","否":"Non","打印规则":"Règle d\'impression","保持奇数":"Garder impaires","保持偶数":"Garder paires","分页规则":"Règle de saut de page","不分页":"Pas de saut de page","移除段落左侧空白":"Supprimer l\'espace vide à gauche","移除":"Supprimer","不移除":"Ne pas supprimer","首页页尾":"Pied de page première page","尾页页尾":"Pied de page dernière page","偶数页页尾":"Pied de page pages paires","奇数页页尾":"Pied de page pages impaires","位置固定":"Position fixe","拖动方向":"Direction de glissement","横向":"Horizontal","竖向":"Vertical","左偏移":"Décalage à gauche","偏移量":"Décalage","最低高度":"Hauteur minimum","文本过短或为空时的高度":"Hauteur lorsque le texte est trop court ou vide","隐藏规则":"Règle de masquage","表体行边框":"Bordure de ligne du corps","元素层级":"Index Z","边框设置":"Paramètres de bordure","实线":"Plein","虚线":"Pointillé","左内边距":"Marge intérieure gauche","上内边距":"Marge intérieure haut","右内边距":"Marge intérieure droite","下内边距":"Marge intérieure bas","样式":"Style","边框样式":"Style de bordure","长虚线":"Pointillé long","短虚线":"Pointillé court","背景颜色":"Couleur de fond","纸张方向(仅自定义纸质有效)":"Orientation du papier (uniquement papier personnalisé)","纵向":"Portrait","上下对齐":"Alignement vertical","垂直居中":"Centré verticalement","底部":"Bas","文本换行":"Césure de texte","不换行":"Pas de césure","不换行&隐藏":"Pas de césure et masquer","不换行&省略":"Pas de césure et points de suspension","打印类型":"Type d\'impression","文本":"Texte","二维码":"QR code","字段类型":"Type de champ","默认(文本)":"Défaut (texte)","序号":"Index","图片":"Image","单元格高度":"Hauteur de cellule","条形码、二维码以及图片有效":"Code à barres, QR code et image sont valides","底部聚合标题":"Titre du récapitulatif","底部聚合文本":"Texte du récapitulatif","聚合类型":"Type de récapitulatif","底部聚合合并列数":"Colonnes fusionnées du récapitulatif","合并列数":"Colonnes fusionnées","底部聚合类型左右对齐":"Alignement du récapitulatif","整数":"Entier","保留%s位":"Garder %s décimales","底部聚合小数":"Décimales du récapitulatif","转大小写":"Majuscules ou minuscules","底部聚合类型":"Type de récapitulatif","不聚合":"Pas de récapitulatif","仅文本":"Texte uniquement","顶部偏移":"Décalage supérieur","一行多组":"Plusieurs groupes sur une ligne","一行二列":"Une ligne deux colonnes","一行三列":"Une ligne trois colonnes","一行四列":"Une ligne quatre colonnes","一行多组间隔":"Espacement de plusieurs groupes sur une ligne","表格头显示":"Affichage de l\'en-tête du tableau","每页显示":"Afficher par page","首页显示":"Afficher sur la première page","不显示":"Ne pas afficher","数据类型":"Type de données","日期时间":"DateHeure","布尔":"Booléen","格式":"Format","格式化函数":"Fonction de mise en forme","样式函数":"Fonction de style","行/列合并函数":"Fusionner ligne/colonne","跨页合并是否清除":"Annuler fusion sur saut de page","表格脚函数":"Fonction pied de tableau","分组字段函数":"Fonction Champ de regroupement","分组头格式化函数":"Fonction de mise en forme en-tête de groupe","分组头信息":"Informations en-tête de groupe","分组脚格式化函数":"Fonction de mise en forme pied de groupe","分组脚信息":"Informations pied de groupe","多组表格脚函数":"Fonction pied de tableau multi-groupe","行样式函数":"Fonction style de ligne","单元格左右对齐":"Alignement des cellules","单元格上下对齐":"Alignement vertical des cellules","上":"Haut","中":"Milieu","表格头单元格左右对齐":"Alignement des cellules d\'en-tête","单元格样式函数":"Fonction style de cellule","表格头样式函数":"Fonction style d\'en-tête","单元格格式化函数":"Fonction de mise en forme de cellule","单元格渲染函数":"Fonction d\'affichage de cellule","自动补全":"Saisie automatique","每页最大行数":"Lignes max par page","表格脚显示":"Affichage pied de tableau","最后显示":"Afficher sur dernière page","没有足够空间进行表格分页，请调整页眉/页脚线":"Pas assez d\'espace pour la pagination du tableau, veuillez ajuster la ligne d\'entête/pied de page","没有足够空间,显示下方内容, 可分页高度":"Pas assez de place, afficher le contenu ci-dessous, la hauteur peut être paginée :","列属性":"Propriété de colonne","在上方插入行":"Insérer ligne au-dessus","在下方插入行":"Insérer ligne en dessous","向左方插入列":"Insérer colonne à gauche","向右方插入列":"Insérer colonne à droite","删除行":"Supprimer ligne","删除列":"Supprimer colonne","对齐":"Aligner","左":"Gauche","左右居中":"Centrer","右":"Droite","下":"Bas","合并单元格":"Fusionner cellule","解开单元格":"Défusionner cellule","条形码生成失败":"Échec de la génération de code à barres","请检查 hiprint.init 的 provider 是否配置了":"Veuillez vérifier si le fournisseur de hiprint.init est configuré","已移除\'tableCustom\',请替换使用\'table\'详情见更新记录":"\'TableCustom\' a été supprimé, veuillez le remplacer par \'table\', voir le journal de mise à jour pour plus de détails","确定":"Confirmer","删除":"Supprimer","连接客户端失败":"Échec de connexion au client","基础":"De base","边框":"Bordure","列":"Colonne","高级":"Avancé","面板排列":"Agencement du panneau","排列方式":"Mode d\'agencement","垂直间距%s":"Espacement Vertical %s","水平间距%s":"Espacement Horizontal %s","边框圆角":"Rayon de Bordure","显示码值":"Afficher la Valeur du Code"}')},43393:function(t,e,i){"use strict";i.d(e,{Z4:function(){return O},C_:function(){return M},hw:function(){return D},Lv:function(){return I}});i(44114),i(18111),i(22489),i(7588),i(61701);var n=i(34894),o=i(27007),r=i(31372),a=i(54880),s=(i(97042),i(60713),i(69225),i(65451)),l=(i(63390),i(25136)),p=(i(69957),i(56768)),d=i(90144),c=i(57477),h=i(11278),u=i(89277),f=i(84068);i(16573),i(78100),i(77936),i(79577),i(64979);async function g(t,e){const i={alg:"HS256",typ:"JWT"},n={...t,iat:Math.floor(Date.now()/1e3)},o=t=>{const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},r=new TextEncoder,a=o(r.encode(JSON.stringify(i))),s=o(r.encode(JSON.stringify(n))),l=`${a}.${s}`,p=await crypto.subtle.importKey("raw",r.encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),d=await crypto.subtle.sign("HMAC",p,r.encode(l));return`${l}.${o(d)}`}var m=i(71066);const _=t=>{const e=(0,d.KR)(!1),i="http://127.0.0.1:9999/",{thirdParams:n,onCloseThirdDialog:o}=(0,m.P)(t);console.log("props",t);const r=(0,p.EW)(()=>({printId:t.printId||n.value.printId,printName:t.printName||n.value.printName,paramList:t.printParam||n.value.printParam||[]})),a=(0,p.EW)(()=>Array.isArray(r.value.paramList)?r.value.paramList.map(t=>({paramName:t.paramName,paramValue:t.paramValue})):[]),s=()=>{console.log("文档加载完成")},l=t=>{console.log("Error loading editor: ",t)},c=(t,e)=>{switch(console.log("Error loading component: "+e,"errorCode",t),t){case-1:console.log(e);break;case-2:console.log(e);break;case-3:console.log(e);break}},h=t=>{console.log("收到消息:",t)};return(0,p.sV)(()=>{window.addEventListener("message",h)}),(0,p.hi)(()=>{window.removeEventListener("message",h)}),{isReady:e,documentServerUrl:i,printParamList:a,onCloseThirdDialog:o,onDocumentReady:s,onError:l,onLoadComponentError:c}},v={class:"preview-print-spread-sheet"},y={style:{height:"calc(100vh - 72px - 16px - 16px)"}};var b=(0,p.pM)({__name:"previewPrintWord",props:{printId:{},printName:{},printParam:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(t){const e=t,{downloadFile:i}=(0,u.m)(),{buildGetUrl:n}=(0,f.a)(),r={url:"",name:""},{isReady:m,printParamList:b,onCloseThirdDialog:E,documentServerUrl:w,onDocumentReady:P,onError:T,onLoadComponentError:C}=_(e),x=(0,d.KR)({document:{fileType:"docx",key:(0,o.kX)(10),permissions:{chat:!1,comment:!1,copy:!1,download:!1,edit:!1,fillForms:!1,modifyContentControl:!1,modifyFilter:!1,print:!0,review:!1,reviewGroups:void 0,commentGroups:null,userInfoGroups:void 0,protect:!1},title:"",url:""},documentType:"word",height:"100%",token:"",type:"embedded",width:"100%",editorConfig:{lang:"zh",mode:"view",customization:{features:{print:!0},close:{visible:!0,text:"Close"},logo:{visible:!1},pointerMode:"select",slidePlayerBackground:"rgba(255, 255, 255, 0.5)",toolbarHideFileName:!0,toolbarNoTabs:!1},embedded:{toolbarDocked:"top"}}}),O=()=>{r.url?i(r.url,r.name):console.warn("url is empty")},D=()=>{e.dialog?e.dialog.cancel():E(!0)},M=async t=>{if(!t)return void(m.value=!0);const i=n("admin/report/reportPrint/previewWithUrl",{printId:e.printId,printParam:encodeURIComponent(JSON.stringify(b.value)),renderType:4,Authorization:(0,o.gf)()});r.url=i,r.name=e.printName+".docx",console.log("word",r),x.value.document.title=r.name,x.value.document.url=r.url;const a=await g(JSON.parse(JSON.stringify(x.value)),"XXXXXXXXXXXXXXXXX");x.value.token=a,m.value=!0};return(0,p.sV)(()=>{M(e.printId)}),(t,e)=>{const i=l.S2,n=s.S2,o=a.bZ,r=a.ZO;return(0,p.uX)(),(0,p.CE)("div",v,[(0,p.bF)(o,{class:"step-header",style:{overflow:"hidden",height:"72px",background:"white","border-bottom":"1px solid #ebeef5"}},{default:(0,p.k6)(()=>[(0,p.bF)(n,{type:"flex",justify:"space-between",align:"middle",style:{height:"100%"}},{default:(0,p.k6)(()=>[e[2]||(e[2]=(0,p.Lk)("div",{class:"title",style:{display:"flex",width:"200px",height:"40px","line-height":"40px"}},[(0,p.Lk)("span",{style:{"font-size":"22px",color:"#333","font-weight":"bold"}},"BIQS打印预览")],-1)),(0,p.bF)(n,{class:"operation",justify:"end"},{default:(0,p.k6)(()=>[(0,p.bF)(i,{size:"default",icon:(0,d.R1)(c.Download),onClick:O,style:{width:"85px"}},{default:(0,p.k6)(()=>e[0]||(e[0]=[(0,p.eW)("Word")])),_:1,__:[0]},8,["icon"]),(0,p.bF)(i,{size:"default",onClick:D,style:{width:"85px"}},{default:(0,p.k6)(()=>e[1]||(e[1]=[(0,p.eW)("退出")])),_:1,__:[1]})]),_:1})]),_:1,__:[2]})]),_:1}),(0,p.bF)(r,{style:{padding:"16px",background:"#f6f6f6"}},{default:(0,p.k6)(()=>[(0,p.Lk)("div",y,[(0,d.R1)(m)?((0,p.uX)(),(0,p.Wv)((0,d.R1)(h.p),{key:0,id:"docEditor",documentServerUrl:(0,d.R1)(w),config:(0,d.R1)(x),events_onDocumentReady:(0,d.R1)(P),events_onError:(0,d.R1)(T),onLoadComponentError:(0,d.R1)(C)},null,8,["documentServerUrl","config","events_onDocumentReady","events_onError","onLoadComponentError"])):(0,p.Q3)("",!0)])]),_:1})])}}}),E=i(71241);const w=(0,E.A)(b,[["__scopeId","data-v-380dcadc"]]);var P=w,T=i(18870),C=i(98283),x=i(92380);const O=(t,e,i)=>{if(!Array.isArray(t))return[];let n=[];if(null!=e&&""!==e){const o=new Map;let r=null,a=!1;const s={},l=t.filter(t=>(o.set(t.columnId,t),null!=t.parentId&&""!==t.parentId&&(null==s[t.parentId]&&(s[t.parentId]=[]),s[t.parentId].push(t.columnId)),null!=t.parentId&&""!==t.parentId||(r=t,a=t.fieldType===e),t.fieldType===e)).map(t=>t.columnId);if(0===l.length)return[];if(!a&&"Object"===e)return[];"Array"===e?a&&r&&r.columId?n=[r.columId]:l.forEach(t=>{const e=o.get(t);let r=!1;const a=[e.columnId];let p=e.parentId;while(null!=p){const t=o.get(p);if(-1!==l.indexOf(t.columnId)){r=!0;break}a.push(t.columnId),p=t.parentId}if(!r&&(a.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),i)){const t=s[e.columnId];Array.isArray(t)&&(n=n.concat(t))}}):l.forEach(t=>{if(n.push(t),i){const e=s[t];Array.isArray(e)&&(n=n.concat(e))}}),n=n.map(t=>o.get(t)),o.clear()}return(0,o.BN)(n.map(t=>({...t})),"columnId","parentId")},D=t=>new Promise((e,i)=>{Array.isArray(t.columnList)&&t.columnList.length>0?e(t.columnList):n.TR.view({datasetId:t.slaveDatasetId||t.id}).then(i=>{i.data.columnList.forEach(t=>{t.id=t.columnName,t.name=t.columnName}),t.columnList=i.data.columnList,e(i.data.columnList)}).catch(t=>{i(t)})}),M=(t,e,i)=>new Promise((n,o)=>{let r=[],a=[];t?D(t).then(t=>{r=[...t],e?D(e).then(t=>{const o={...e,children:t};r.splice(0,0,o),i&&(a=[...t]),n({filterColumnTree:r,orderColumnList:a})}).catch(t=>{o(t)}):(i&&(a=[...t]),n({filterColumnTree:r,orderColumnList:a}))}).catch(t=>{o(t)}):n({filterColumnTree:r,orderColumnList:a})}),I=(t,e,i,n)=>{e===x.PrintTemplateType.WORD?r.l.show("Word预览",P,{area:["100vw","100vh"],skin:"fullscreen-dialog"},{printId:t,printParam:i,printName:n,path:"thirdPrintPreview"},{fullscreen:!0,pathName:"/thirdParty/thirdPrintPreview"}).catch(t=>{console.warn(t)}):e===x.PrintTemplateType.HIPRINT?r.l.show("HiPrint预览",C.A,{area:["100vw","100vh"],skin:"fullscreen-dialog"},{printId:t,printParam:i,printName:n,path:"thirdPrintPreview"},{fullscreen:!0,pathName:"/thirdParty/thirdPrintPreview"}).catch(t=>{console.warn(t)}):r.l.show("x-spread-sheet预览",T["default"],{area:["100vw","100vh"],skin:"fullscreen-dialog"},{printId:t,printParam:i,printName:n,path:"thirdPrintPreview"},{fullscreen:!0,pathName:"/thirdParty/thirdPrintSpreadSheet"}).catch(t=>{console.warn(t)})}},44003:function(t,e,i){i(16573),i(78100),i(77936),i(18111),i(7588),i(61701),i(79577),i(64979),i(14603),i(47566),i(98721),function(e,i){t.exports=i()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}({"./src/index.js":
/*!**********************!*\
      !*** ./src/index.js ***!
      \**********************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);i(/*! ./sass/index.scss */"./src/sass/index.scss");var n=i(/*! ./js/init */"./src/js/init.js"),o=n["default"].init;"undefined"!==typeof window&&(window.printJS=o),e["default"]=o},"./src/js/browser.js":
/*!***************************!*\
      !*** ./src/js/browser.js ***!
      \***************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var n={isFirefox:function(){return"undefined"!==typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!n.isIE()&&!!window.StyleMedia},isChrome:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return!!t.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};e["default"]=n},"./src/js/functions.js":
/*!*****************************!*\
      !*** ./src/js/functions.js ***!
      \*****************************/
/*! exports provided: addWrapper, capitalizePrint, collectStyles, addHeader, cleanUp, isRawHTML */function(t,e,i){"use strict";i.r(e),i.d(e,"addWrapper",function(){return a}),i.d(e,"capitalizePrint",function(){return s}),i.d(e,"collectStyles",function(){return l}),i.d(e,"addHeader",function(){return d}),i.d(e,"cleanUp",function(){return c}),i.d(e,"isRawHTML",function(){return h});var n=i(/*! ./modal */"./src/js/modal.js"),o=i(/*! ./browser */"./src/js/browser.js");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e){var i="font-family:"+e.font+" !important; width:100%;";return'<div style="'+i+'">'+t+"</div>"}function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}function l(t,e){for(var i=document.defaultView||window,n="",o=i.getComputedStyle(t,""),r=0;r<o.length;r++)(-1!==e.targetStyles.indexOf("*")||-1!==e.targetStyle.indexOf(o[r])||p(e.targetStyles,o[r]))&&o.getPropertyValue(o[r])&&(n+=o[r]+":"+o.getPropertyValue(o[r])+";");return n+="max-width: "+e.maxWidth+"px !important;",n}function p(t,e){for(var i=0;i<t.length;i++)if("object"===r(e)&&-1!==e.indexOf(t[i]))return!0;return!1}function d(t,e){var i=document.createElement("div");if(h(e.header))i.innerHTML=e.header;else{var n=document.createElement("h1"),o=document.createTextNode(e.header);n.appendChild(o),n.setAttribute("style",e.headerStyle),i.appendChild(n)}t.insertBefore(i,t.childNodes[0])}function c(t){t.showModal&&n["default"].close(),t.onLoadingEnd&&t.onLoadingEnd(),(t.showModal||t.onLoadingStart)&&window.URL.revokeObjectURL(t.printable);var e="mouseover";(o["default"].isChrome()||o["default"].isFirefox())&&(e="focus");var i=function i(){window.removeEventListener(e,i),t.onPrintDialogClose();var n=document.getElementById(t.frameId);n&&n.remove()};window.addEventListener(e,i)}function h(t){var e=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return e.test(t)}},"./src/js/html.js":
/*!************************!*\
      !*** ./src/js/html.js ***!
      \************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./functions */"./src/js/functions.js"),o=i(/*! ./print */"./src/js/print.js");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e){for(var i=t.cloneNode(),o=Array.prototype.slice.call(t.childNodes),r=0;r<o.length;r++)if(-1===e.ignoreElements.indexOf(o[r].id)){var s=a(o[r],e);i.appendChild(s)}switch(e.scanStyles&&1===t.nodeType&&i.setAttribute("style",Object(n["collectStyles"])(t,e)),t.tagName){case"SELECT":i.value=t.value;break;case"CANVAS":i.getContext("2d").drawImage(t,0,0);break}return i}function s(t){return"object"===r(t)&&t&&(t instanceof HTMLElement||1===t.nodeType)}e["default"]={print:function(t,e){var i=s(t.printable)?t.printable:document.getElementById(t.printable);i?(t.printableElement=a(i,t),t.header&&Object(n["addHeader"])(t.printableElement,t),o["default"].send(t,e)):window.console.error("Invalid HTML element id: "+t.printable)}}},"./src/js/image.js":
/*!*************************!*\
      !*** ./src/js/image.js ***!
      \*************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./functions */"./src/js/functions.js"),o=i(/*! ./print */"./src/js/print.js"),r=i(/*! ./browser */"./src/js/browser.js");e["default"]={print:function(t,e){t.printable.constructor!==Array&&(t.printable=[t.printable]),t.printableElement=document.createElement("div"),t.printable.forEach(function(e){var i=document.createElement("img");if(i.setAttribute("style",t.imageStyle),i.src=e,r["default"].isFirefox()){var n=i.src;i.src=n}var o=document.createElement("div");o.appendChild(i),t.printableElement.appendChild(o)}),t.header&&Object(n["addHeader"])(t.printableElement,t),o["default"].send(t,e)}}},"./src/js/init.js":
/*!************************!*\
      !*** ./src/js/init.js ***!
      \************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./browser */"./src/js/browser.js"),o=i(/*! ./modal */"./src/js/modal.js"),r=i(/*! ./pdf */"./src/js/pdf.js"),a=i(/*! ./html */"./src/js/html.js"),s=i(/*! ./raw-html */"./src/js/raw-html.js"),l=i(/*! ./image */"./src/js/image.js"),p=i(/*! ./json */"./src/js/json.js");function d(t){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var c=["pdf","html","image","json","raw-html"];e["default"]={init:function(){var t={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(t){throw t},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},e=arguments[0];if(void 0===e)throw new Error("printJS expects at least 1 attribute.");switch(d(e)){case"string":t.printable=encodeURI(e),t.fallbackPrintable=t.printable,t.type=arguments[1]||t.type;break;case"object":for(var i in t.printable=e.printable,t.fallbackPrintable="undefined"!==typeof e.fallbackPrintable?e.fallbackPrintable:t.printable,t.fallbackPrintable=t.base64?"data:application/pdf;base64,".concat(t.fallbackPrintable):t.fallbackPrintable,t)"printable"!==i&&"fallbackPrintable"!==i&&(t[i]="undefined"!==typeof e[i]?e[i]:t[i]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+d(e))}if(!t.printable)throw new Error("Missing printable information.");if(!t.type||"string"!==typeof t.type||-1===c.indexOf(t.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");t.showModal&&o["default"].show(t),t.onLoadingStart&&t.onLoadingStart();var h=document.getElementById(t.frameId);h&&h.parentNode.removeChild(h);var u=document.createElement("iframe");switch(n["default"].isFirefox()?u.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):u.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),u.setAttribute("id",t.frameId),"pdf"!==t.type&&(u.srcdoc="<html><head><title>"+t.documentTitle+"</title>",t.css&&(Array.isArray(t.css)||(t.css=[t.css]),t.css.forEach(function(t){u.srcdoc+='<link rel="stylesheet" href="'+t+'">'})),u.srcdoc+="</head><body></body></html>"),t.type){case"pdf":if(n["default"].isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var f=window.open(t.fallbackPrintable,"_blank");f.focus(),t.onIncompatibleBrowser()}catch(g){t.onError(g)}finally{t.showModal&&o["default"].close(),t.onLoadingEnd&&t.onLoadingEnd()}else r["default"].print(t,u);break;case"image":l["default"].print(t,u);break;case"html":a["default"].print(t,u);break;case"raw-html":s["default"].print(t,u);break;case"json":p["default"].print(t,u);break}}}},"./src/js/json.js":
/*!************************!*\
      !*** ./src/js/json.js ***!
      \************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./functions */"./src/js/functions.js"),o=i(/*! ./print */"./src/js/print.js");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t){var e=t.printable,i=t.properties,o='<table style="border-collapse: collapse; width: 100%;">';t.repeatTableHeader&&(o+="<thead>"),o+="<tr>";for(var r=0;r<i.length;r++)o+='<th style="width:'+i[r].columnSize+";"+t.gridHeaderStyle+'">'+Object(n["capitalizePrint"])(i[r].displayName)+"</th>";o+="</tr>",t.repeatTableHeader&&(o+="</thead>"),o+="<tbody>";for(var a=0;a<e.length;a++){o+="<tr>";for(var s=0;s<i.length;s++){var l=e[a],p=i[s].field.split(".");if(p.length>1)for(var d=0;d<p.length;d++)l=l[p[d]];else l=l[i[s].field];o+='<td style="width:'+i[s].columnSize+t.gridStyle+'">'+l+"</td>"}o+="</tr>"}return o+="</tbody></table>",o}e["default"]={print:function(t,e){if("object"!==r(t.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!==typeof t.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!t.properties||!Array.isArray(t.properties))throw new Error("Invalid properties array for your JSON data.");t.properties=t.properties.map(function(e){return{field:"object"===r(e)?e.field:e,displayName:"object"===r(e)?e.displayName:e,columnSize:"object"===r(e)&&e.columnSize?e.columnSize+";":100/t.properties.length+"%;"}}),t.printableElement=document.createElement("div"),t.header&&Object(n["addHeader"])(t.printableElement,t),t.printableElement.innerHTML+=a(t),o["default"].send(t,e)}}},"./src/js/modal.js":
/*!*************************!*\
      !*** ./src/js/modal.js ***!
      \*************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var n={show:function(t){var e="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",i=document.createElement("div");i.setAttribute("style",e),i.setAttribute("id","printJS-Modal");var o=document.createElement("div");o.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var r=document.createElement("div");r.setAttribute("class","printClose"),r.setAttribute("id","printClose"),o.appendChild(r);var a=document.createElement("span");a.setAttribute("class","printSpinner"),o.appendChild(a);var s=document.createTextNode(t.modalMessage);o.appendChild(s),i.appendChild(o),document.getElementsByTagName("body")[0].appendChild(i),document.getElementById("printClose").addEventListener("click",function(){n.close()})},close:function(){var t=document.getElementById("printJS-Modal");t&&t.parentNode.removeChild(t)}};e["default"]=n},"./src/js/pdf.js":
/*!***********************!*\
      !*** ./src/js/pdf.js ***!
      \***********************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./print */"./src/js/print.js"),o=i(/*! ./functions */"./src/js/functions.js");function r(t,e,i){var o=new window.Blob([i],{type:"application/pdf"});o=window.URL.createObjectURL(o),e.setAttribute("src",o),n["default"].send(t,e)}e["default"]={print:function(t,e){if(t.base64){var i=Uint8Array.from(atob(t.printable),function(t){return t.charCodeAt(0)});r(t,e,i)}else{t.printable=/^(blob|http|\/\/)/i.test(t.printable)?t.printable:window.location.origin+("/"!==t.printable.charAt(0)?"/"+t.printable:t.printable);var n=new window.XMLHttpRequest;n.responseType="arraybuffer",n.addEventListener("error",function(){Object(o["cleanUp"])(t),t.onError(n.statusText,n)}),n.addEventListener("load",function(){if(-1===[200,201].indexOf(n.status))return Object(o["cleanUp"])(t),void t.onError(n.statusText,n);r(t,e,n.response)}),n.open("GET",t.printable,!0),n.send()}}}},"./src/js/print.js":
/*!*************************!*\
      !*** ./src/js/print.js ***!
      \*************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./browser */"./src/js/browser.js"),o=i(/*! ./functions */"./src/js/functions.js"),r={send:function(t,e){document.getElementsByTagName("body")[0].appendChild(e);var i=document.getElementById(t.frameId);i.onload=function(){if("pdf"!==t.type){var e=i.contentWindow||i.contentDocument;if(e.document&&(e=e.document),e.body.appendChild(t.printableElement),"pdf"!==t.type&&t.style){var o=document.createElement("style");o.innerHTML=t.style,e.head.appendChild(o)}var r=e.getElementsByTagName("img");r.length>0?s(Array.from(r)).then(function(){return a(i,t)}):a(i,t)}else n["default"].isFirefox()?setTimeout(function(){return a(i,t)},1e3):a(i,t)}}};function a(t,e){try{if(t.focus(),n["default"].isEdge()||n["default"].isIE())try{t.contentWindow.document.execCommand("print",!1,null)}catch(i){t.contentWindow.print()}else t.contentWindow.print()}catch(r){e.onError(r)}finally{n["default"].isFirefox()&&(t.style.visibility="hidden",t.style.left="-1px"),Object(o["cleanUp"])(e)}}function s(t){var e=t.map(function(t){if(t.src&&t.src!==window.location.href)return l(t)});return Promise.all(e)}function l(t){return new Promise(function(e){var i=function i(){t&&"undefined"!==typeof t.naturalWidth&&0!==t.naturalWidth&&t.complete?e():setTimeout(i,500)};i()})}e["default"]=r},"./src/js/raw-html.js":
/*!****************************!*\
      !*** ./src/js/raw-html.js ***!
      \****************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./print */"./src/js/print.js");e["default"]={print:function(t,e){t.printableElement=document.createElement("div"),t.printableElement.setAttribute("style","width:100%"),t.printableElement.innerHTML=t.printable,n["default"].send(t,e)}}},"./src/sass/index.scss":
/*!*****************************!*\
      !*** ./src/sass/index.scss ***!
      \*****************************/
/*! no static exports found */function(t,e,i){},0:
/*!****************************!*\
      !*** multi ./src/index.js ***!
      \****************************/
/*! no static exports found */function(t,e,i){t.exports=i(/*! ./src/index.js */"./src/index.js")}})["default"]})},45208:function(t,e,i){"use strict";function n(t){return function(e){var i=function(e){e.removePrintElementTypes("defaultModule"),e.addPrintElementTypes("defaultModule",[new t.PrintElementTypeGroup("常规",[{tid:"defaultModule.text",title:"文本",data:"",type:"text"},{tid:"defaultModule.image",title:"图片",data:"",type:"image"},{tid:"defaultModule.longText",title:"长文",data:"155123456789",type:"longText"},{tid:"defaultModule.table",field:"table",title:"表格",type:"table",groupFields:["name"],groupFooterFormatter:function(t,e){return"这里自定义统计脚信息"},columns:[[{title:"行号",fixed:!0,rowspan:2,field:"id",width:70},{title:"人员信息",colspan:2},{title:"销售统计",colspan:2}],[{title:"姓名",align:"left",field:"name",width:100},{title:"性别",field:"gender",width:100},{title:"销售数量",field:"count",width:100},{title:"销售金额",field:"amount",width:100}]],editable:!0,columnDisplayEditable:!0,columnDisplayIndexEditable:!0,columnTitleEditable:!0,columnResizable:!0,columnAlignEditable:!0,isEnableEditField:!0,isEnableContextMenu:!0,isEnableInsertRow:!0,isEnableDeleteRow:!0,isEnableInsertColumn:!0,isEnableDeleteColumn:!0,isEnableMergeCell:!0},{tid:"defaultModule.emptyTable",title:"空白表格",type:"table",columns:[[{title:"",field:"",width:100},{title:"",field:"",width:100}]]},{tid:"defaultModule.html",title:"html",formatter:function(t,e){return'<div style="height:50pt;width:50pt;background:red;border-radius: 50%;"></div>'},type:"html"},{tid:"defaultModule.customText",title:"自定义文本",customText:"自定义文本",custom:!0,type:"text"}]),new t.PrintElementTypeGroup("辅助",[{tid:"defaultModule.hline",title:"横线",type:"hline"},{tid:"defaultModule.vline",title:"竖线",type:"vline"},{tid:"defaultModule.rect",title:"矩形",type:"rect"},{tid:"defaultModule.oval",title:"椭圆",type:"oval"},{tid:"defaultModule.barcode",title:"条形码",type:"barcode"},{tid:"defaultModule.qrcode",title:"二维码",type:"qrcode"}])])};return{addElementTypes:i}}}i.d(e,{A:function(){return n}})},52923:function(t){"use strict";t.exports=JSON.parse('{"请选择字段":"Bitte Feld auswählen","计数":"Anzahl","合计":"Summe","平均值":"Durchschnitt","最小值":"Min","最大值":"Max","此格式不支持该文本":"Dieses Format unterstützt diesen Text nicht","二维码生成失败":"QR-Code Generierung fehlgeschlagen","字体行高":"Schriftzeilenhöhe","默认":"Standard","字体":"Schriftart","宋体":"SimSun","微软雅黑":"Microsoft YaHei","字体大小":"Schriftgröße","字体粗细":"Schriftstärke","更细":"Feiner","粗体":"Fett","粗体+":"Fetter","字间距":"Zeilenabstand","左右对齐":"Blocksatz","居左":"Linksbündig","居中":"Zentriert","居右":"Rechtsbündig","两端对齐":"Blocksatz","标题显示隐藏":"Titelanzeige","显示":"Anzeigen","隐藏":"Ausblenden","表格边框":"Tabellenrahmen","有边框":"Ja","无边框":"Nein","表头边框":"Kopfrahmen","左边框":"Links","右边框":"Rechts","左右边框":"Links & Rechts","上边框":"Oben","下边框":"Unten","上下边框":"Oben & Unten","表头单元格边框":"Kopfzel-lenrahmen","表尾边框":"Fußzeilenrahmen","表尾单元格边框":"Fußzellenrahmen","表头行高":"Kopfzeilenhöhe","表头字体大小":"Kopfschriftgröße","表头字体粗细":"Kopfschriftstärke","表体单元格边框":"Zellenrahmen","表体行高":"Zeilenhöhe","表头背景":"Kopfzeilen-hintergrund","线宽":"Linienbreite","边框大小":"Rahmenbreite","条形码格式":"Strichcodetyp","商品条码":"Waren-Strichcode","条形码":"Strichcode","物流":"Logistik","邮政和快递编码":"Post- und Kuriercode","医疗产品编码":"Medizinproduktcode","不常用编码":"Ungewöhnlicher Code","附加组件":"Zusätzliche Komponente","实验编码":"Experimenteller Code","条码类型":"Strichcodetyp","二维码类型":"QR-Code-Typ","二维码容错率":"QR-Code-Fehlerkorrektur","字体颜色":"Schriftfarbe","文本修饰":"Textdekoration","下划线":"Unterstrichen","上划线":"Überstrichen","穿梭线":"Durchgestrichen","字段名":"Feldname","请输入字段名":"Bitte Feldname eingeben","标题":"Titel","请输入标题":"Bitte Titel eingeben","测试数据":"Testdaten","仅字段名称存在时有效":"Nur gültig, wenn Feldnamen vorhanden","位置坐标":"Positionskoordinate","X位置(左)":"X-Position (links)","Y位置(上)":"Y-Position (oben)","同步":"Synchronisieren","不同步":"Nicht synchronisieren","宽高大小":"Breite & Höhe","宽":"Breite","高":"Höhe","图片地址":"Bild-URL","请输入图片地址":"Bitte Bild-URL eingeben","选择":"Auswählen","图片缩放":"Bildskalierung","等比":"Proportional","裁切":"Zuschneiden","填充":"Auffüllen","原始尺寸":"Originalgröße","颜色":"Farbe","边框颜色":"Rahmenfarbe","水印功能":"Wasserzeichen","水印内容":"Wasserzeicheninhalt","旋转角度":"Drehwinkel","水平密度":"Horizontale Dichte","垂直密度":"Vertikale Dichte","水印时间":"Wasserzeichenzeit","时间格式":"Zeitformat","页码格式":"Seitenzahlformat","显示页码":"Seitenzahl anzeigen","页码续排":"Seitenzahl fortsetzen","续排":"Fortsetzen","重排":"Zurücksetzen","每行缩进":"Einrückung","显示规则":"Anzeigeregel","始终隐藏":"Immer ausblenden","首页":"Erste Seite","奇数页":"Ungerade Seiten","偶数页":"Gerade Seiten","尾页":"Letzte Seite","强制分页":"Seitenumbruch erzwingen","是":"Ja","否":"Nein","打印规则":"Druckregel","保持奇数":"Ungerade beibehalten","保持偶数":"Gerade beibehalten","分页规则":"Seitenumbruchregel","不分页":"Kein Seitenumbruch","移除段落左侧空白":"Linken Freiraum entfernen","移除":"Entfernen","不移除":"Nicht entfernen","首页页尾":"Fußzeile erste Seite","尾页页尾":"Fußzeile letzte Seite","偶数页页尾":"Fußzeile gerade Seiten","奇数页页尾":"Fußzeile ungerade Seiten","位置固定":"Feste Position","拖动方向":"Zugrichtung","横向":"Horizontal","竖向":"Vertikal","左偏移":"Linker Versatz","偏移量":"Versatz","最低高度":"Mindesthöhe","文本过短或为空时的高度":"Höhe bei zu kurzem oder leerem Text","隐藏规则":"Ausblendregel","表体行边框":"Zeilenrahmen","元素层级":"Z-Index","边框设置":"Rahmeneinstellungen","实线":"Durchgezogen","虚线":"Gestrichelt","左内边距":"Linker Abstand","上内边距":"Oberer Abstand","右内边距":"Rechter Abstand","下内边距":"Unterer Abstand","样式":"Stil","边框样式":"Rahmenstil","长虚线":"Lang gestrichelt","短虚线":"Kurz gestrichelt","背景颜色":"Hintergrundfarbe","纸张方向(仅自定义纸质有效)":"Papierausrichtung (nur benutzerdefiniertes Papier)","纵向":"Hochformat","上下对齐":"Vertikale Ausrichtung","垂直居中":"Vertikal zentriert","底部":"Unten","文本换行":"Textumbruch","不换行":"Kein Umbruch","不换行&隐藏":"Kein Umbruch & ausbl.","不换行&省略":"Kein Umbruch & Ausl.","打印类型":"Drucktyp","文本":"Text","二维码":"QR-Code","字段类型":"Feldtyp","默认(文本)":"Standard (Text)","序号":"Index","图片":"Bild","单元格高度":"Zellenhöhe","条形码、二维码以及图片有效":"Strichcode, QR-Code und Bild gültig","底部聚合标题":"Zusammenfassungstitel","底部聚合文本":"Zusammenfassungstext","聚合类型":"Zusammenfassungstyp","底部聚合合并列数":"Zusammenfassungsspalten","合并列数":"Spalten verbinden","底部聚合类型左右对齐":"Zusammenfassungsausrichtung","整数":"Ganzzahl","保留%s位":"Behalte %s Dezimalstellen","底部聚合小数":"Zusammenfassungsdezimalstellen","转大小写":"Groß-/Kleinschreibung","底部聚合类型":"Zusammenfassungstyp","不聚合":"Keine Zusammenfassung","仅文本":"Nur Text","顶部偏移":"oberer Versatz","一行多组":"Mehrere Gruppen pro Zeile","一行二列":"Eine Zeile zwei Spalten","一行三列":"Eine Zeile drei Spalten","一行四列":"Eine Zeile vier Spalten","一行多组间隔":"Abstand mehrerer Gruppen pro Zeile","表格头显示":"Tabellenkopf Anzeige","每页显示":"Pro Seite anzeigen","首页显示":"Auf erster Seite anzeigen","不显示":"Nicht anzeigen","数据类型":"Datentyp","日期时间":"DatumUhrzeit","布尔":"Boolesch","格式":"Format","格式化函数":"Formatierungsfunktion","样式函数":"Style-Funktion","行/列合并函数":"Zeile/Spalte zusammenführen","跨页合并是否清除":"Seitenumbruch aufheben","表格脚函数":"Tabellenfußfunktion","分组字段函数":"Gruppenfeld-Funktion","分组头格式化函数":"Gruppenkopf-Formatierungsfunktion","分组头信息":"Gruppenkopfinfo","分组脚格式化函数":"Gruppenfuß-Formatierungsfunktion","分组脚信息":"Gruppenfußinfo","多组表格脚函数":"Mehrere Gruppen Tabellenfußfunktion","行样式函数":"Zeilenstilfunktion","单元格左右对齐":"Zellenausrichtung","单元格上下对齐":"Zellenvertikale Ausrichtung","上":"Oben","中":"Mitte","表格头单元格左右对齐":"Tabellenkopf Ausrichtung","单元格样式函数":"Zellenstilfunktion","表格头样式函数":"Tabellenkopf-Stilfunktion","单元格格式化函数":"Zellenformatierungsfunktion","单元格渲染函数":"Zellen-Rendering-Funktion","自动补全":"Auto Vervollständigen","每页最大行数":"Max Zeilen pro Seite","表格脚显示":"Tabellenfußanzeige","最后显示":"Auf letzter Seite anzeigen","没有足够空间进行表格分页，请调整页眉/页脚线":"Nicht genügend Platz für die Tabellenseitenumbrüche, bitte Kopf-/Fußzeile anpassen","没有足够空间,显示下方内容, 可分页高度":"Nicht genügend Platz, Inhalt unten anzeigen, Höhe kann umgebrochen werden:","列属性":"Spalteneigenschaft","在上方插入行":"Zeile oben einfügen","在下方插入行":"Zeile unten einfügen","向左方插入列":"Spalte links einfügen","向右方插入列":"Spalte rechts einfügen","删除行":"Zeile löschen","删除列":"Spalte löschen","对齐":"Ausrichtung","左":"Links","左右居中":"Zentriert","右":"Rechts","下":"Unten","合并单元格":"Zelle verbinden","解开单元格":"Zellenverbindung aufheben","条形码生成失败":"Strichcode-Generierung fehlgeschlagen","请检查 hiprint.init 的 provider 是否配置了":"Bitte überprüfen, ob der Anbieter von hiprint.init konfiguriert wurde","已移除\'tableCustom\',请替换使用\'table\'详情见更新记录":"\'TableCustom\' wurde entfernt, bitte durch \'table\' ersetzen, Details siehe Änderungsprotokoll","确定":"Bestätigen","删除":"Löschen","连接客户端失败":"Verbindung zum Client fehlgeschlagen","基础":"Grundlegend","边框":"Rahmen","列":"Spalte","高级":"Erweitert","面板排列":"Panelanordnung","排列方式":"Anordnungsart","垂直间距%s":"Vertikaler Abstand %s","水平间距%s":"Horizontaler Abstand %s","边框圆角":"Abgerundete Ecken","显示码值":"Anzeigecode"}')},60962:function(t,e,i){"use strict";i.d(e,{A:function(){return u}});var n=i(25136),o=(i(97042),i(69957),i(16573),i(78100),i(77936),i(79577),i(64979),i(14603),i(47566),i(98721),i(56768)),r=i(24232),a=i(90144),s=i(5563),l=i(71066);const p={class:"btn"};var d=(0,o.pM)({__name:"signatureDlg",props:{value:{},originBound:{},width:{default:"500px"},height:{default:"200px"},backgroundColor:{},penColor:{default:"#000"},autoTrim:{type:Boolean,default:!1},debug:{type:Boolean,default:!1},dialog:{},thirdParamsString:{},dialogKey:{}},emits:["result"],setup(t,{emit:e}){const i=e,d=t,c=(0,a.KR)();let h,u=null;const{thirdParams:f,onCloseThirdDialog:g}=(0,l.P)(d),m=(0,o.EW)(()=>({value:d.value||f.value.value,originBound:d.originBound||f.value.originBound,width:d.width||f.value.width||"500px",height:d.height||f.value.height||"200px",backgroundColor:d.backgroundColor||f.value.backgroundColor,penColor:d.penColor||f.value?.penColor||"#000",autoTrim:d.autoTrim||f.value.autoTrim||!1,debug:d.debug||f.value.debug||!1}));function _(){if(!h)return;const t=Math.max(window.devicePixelRatio||1,1);m.value.debug&&(console.log("signaturePad.resizeCanvas() ratio",t),console.log("signaturePad.resizeCanvas() offsetWidth",h?.offsetWidth),console.log("signaturePad.resizeCanvas() offsetHeight",h?.offsetHeight)),h.width=h.offsetWidth*t,h.height=h.offsetHeight*t,h.getContext("2d")?.scale(t,t)}(0,o.sV)(()=>{const t={backgroundColor:m.value.backgroundColor,penColor:m.value.penColor};(0,o.dY)(()=>{if(h=c.value,h){if(u=new s.A(h,t),m.value.value){Math.max(window.devicePixelRatio||1,1);const t={};let e=new Image;e.src=m.value.value,e.onload=()=>{t.width=e.width,t.height=e.height,t.xOffset=0,t.yOffset=0,u.fromDataURL(m.value.value,t)},e.onerror=()=>{console.error("图片加载失败")}}_()}})});const v=()=>{u?u.clear():console.error("signaturePad is null")};let y;function b(){if(!h)return void console.error("canvas is null");const t=h.getContext("2d");if(!t)return void console.error("canvas.getContext('2d') is null");const e=t.getImageData(0,0,h.width,h.height),i=e.data,n=i.length;let o=null,r=null,a=null,s=null;y={top:0,left:0,right:h.width,bottom:h.height};for(let d=0;d<n;d+=4)if(0!==i[d+3]){const t=d/4%h.width,e=~~(d/4/h.width);null===o?(o=e,y.top=e):e<y.top&&(y.top=e),null===r?(r=t,y.left=t):t<y.left&&(y.left=t),null===a?(a=t,y.right=t):t>y.right&&(y.right=t),null===s?(s=e,y.bottom=e):e>y.bottom&&(y.bottom=e)}if(null===o)return null;const l=document.createElement("canvas"),p=l.getContext("2d");return l.width=y.right-y.left+1,l.height=y.bottom-y.top+1,p?.putImageData(t.getImageData(y.left,y.top,l.width,l.height),0,0),l}function E(){const t=d.autoTrim?b():h,e=t?.toDataURL();return d.debug&&console.log("signaturePad.toDataURL()",e),e}const w=()=>{if(u)if(u.isEmpty())console.warn("没有签名内容，数据无效");else{const t=E(),e={data:t,bound:y||{top:0,left:0,right:h.width,bottom:h.height}};i("result",e),d.dialog?d.dialog.submit(e):g(!0,null,e)}else console.error("signaturePad is null")};function P(t){const e=t.split(";base64,"),i=e[0].split(":")[1],n=window.atob(e[1]),o=n.length,r=new Uint8Array(o);for(let a=0;a<o;++a)r[a]=n.charCodeAt(a);return new Blob([r],{type:i})}function T(t,e){const i=P(t),n=window.URL.createObjectURL(i),o=document.createElement("a");o.style.display="none",o.href=n,o.download=e,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(n)}const C=()=>{if(u)if(u.isEmpty())console.warn("没有签名内容，请先手写一个签名再导出");else{const t=E();T(t,"signature.png")}else console.error("signaturePad is null")};return(t,e)=>{const i=n.S2;return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",{class:"signature",style:(0,r.Tr)({width:(0,a.R1)(m).width,height:(0,a.R1)(m).height})},[(0,o.Lk)("canvas",{style:{"touch-action":"none","user-select":"none"},ref_key:"signatureArea",ref:c},null,512)],4),(0,o.Lk)("div",p,[t.debug?((0,o.uX)(),(0,o.Wv)(i,{key:0,onClick:C},{default:(0,o.k6)(()=>e[0]||(e[0]=[(0,o.eW)("导出")])),_:1,__:[0]})):(0,o.Q3)("",!0),(0,o.bF)(i,{onClick:v},{default:(0,o.k6)(()=>e[1]||(e[1]=[(0,o.eW)("清空")])),_:1,__:[1]}),(0,o.bF)(i,{type:"primary",onClick:w},{default:(0,o.k6)(()=>e[2]||(e[2]=[(0,o.eW)("完成")])),_:1,__:[2]})])])}}}),c=i(71241);const h=(0,c.A)(d,[["__scopeId","data-v-2b41b156"]]);var u=h},61417:function(t){"use strict";t.exports=JSON.parse('{"请选择字段":"フィールドを選択してください","计数":"カウント","合计":"合計","平均值":"平均","最小值":"最小値","最大值":"最大値","此格式不支持该文本":"このフォーマットはこのテキストをサポートしていません","二维码生成失败":"QRコードの生成に失敗しました","字体行高":"フォントの行の高さ","默认":"デフォルト","字体":"フォント","宋体":"明朝","微软雅黑":"Yu Gothic","字体大小":"フォントサイズ","字体粗细":"フォントの太さ","更细":"より細い","粗体":"太字","粗体+":"より太字","字间距":"文字間隔","左右对齐":"両端揃え","居左":"左寄せ","居中":"中央寄せ","居右":"右寄せ","两端对齐":"両端揃え","标题显示隐藏":"タイトルの表示/非表示","显示":"表示","隐藏":"非表示","表格边框":"表の罫線","有边框":"罫線あり","无边框":"罫線なし","表头边框":"ヘッダーの罫線","左边框":"左罫線","右边框":"右罫線","左右边框":"左右罫線","上边框":"上罫線","下边框":"下罫線","上下边框":"上下罫線","表头单元格边框":"ヘッダーのセル罫線","表尾边框":"フッターの罫線","表尾单元格边框":"フッターのセル罫線","表头行高":"ヘッダーの行の高さ","表头字体大小":"ヘッダーのフォントサイズ","表头字体粗细":"ヘッダーのフォントの太さ","表体单元格边框":"本体のセル罫線","表体行高":"本体の行の高さ","表头背景":"ヘッダーの背景","线宽":"線の太さ","边框大小":"罫線の太さ","条形码格式":"バーコードの形式","商品条码":"商品バーコード","条形码":"バーコード","物流":"物流","邮政和快递编码":"郵便および宅配便番号","医疗产品编码":"医療用品コード","不常用编码":"あまり使われないコード","附加组件":"付属品","实验编码":"実験的コード","条码类型":"バーコードのタイプ","二维码类型":"QRコードのタイプ","二维码容错率":"QRコードの誤り訂正レベル","字体颜色":"文字色","文本修饰":"テキストの装飾","下划线":"下線","上划线":"上線","穿梭线":"取り消し線","字段名":"フィールド名","请输入字段名":"フィールド名を入力してください","标题":"タイトル","请输入标题":"タイトルを入力してください","测试数据":"テストデータ","仅字段名称存在时有效":"フィールド名があるときのみ有効","位置坐标":"位置座標","X位置(左)":"X位置(左)","Y位置(上)":"Y位置(上)","同步":"同期","不同步":"非同期","宽高大小":"幅と高さ","宽":"幅","高":"高さ","图片地址":"画像のURL","请输入图片地址":"画像のURLを入力してください","选择":"選択","图片缩放":"画像の拡大/縮小","等比":"等倍","裁切":"切り抜き","填充":"埋め込み","原始尺寸":"オリジナルサイズ","颜色":"色","边框颜色":"罫線の色","水印功能":"透かし","水印内容":"透かしの内容","旋转角度":"回転角度","水平密度":"水平方向の密度","垂直密度":"垂直方向の密度","水印时间":"透かしの時刻","时间格式":"時刻のフォーマット","页码格式":"ページ番号のフォーマット","显示页码":"ページ番号を表示","页码续排":"ページ番号の続き","续排":"続き","重排":"リセット","每行缩进":"行頭字下げ","显示规则":"表示ルール","始终隐藏":"常に非表示","首页":"最初のページ","奇数页":"奇数ページ","偶数页":"偶数ページ","尾页":"最終ページ","强制分页":"改ページを強制","是":"はい","否":"いいえ","打印规则":"印刷ルール","保持奇数":"奇数ページを維持","保持偶数":"偶数ページを維持","分页规则":"改ページルール","不分页":"改ページなし","移除段落左侧空白":"段落左側の空白を削除","移除":"削除する","不移除":"削除しない","首页页尾":"最初のページのフッター","尾页页尾":"最終ページのフッター","偶数页页尾":"偶数ページのフッター","奇数页页尾":"奇数ページのフッター","位置固定":"固定位置","拖动方向":"ドラッグ方向","横向":"横方向","竖向":"縦方向","左偏移":"左端からのオフセット","偏移量":"オフセット量","最低高度":"最小の高さ","文本过短或为空时的高度":"テキストが短すぎるか空のときの高さ","隐藏规则":"非表示ルール","表体行边框":"本体の行の罫線","元素层级":"Zインデックス","边框设置":"枠線の設定","实线":"実線","虚线":"点線","左内边距":"左のパディング","上内边距":"上のパディング","右内边距":"右のパディング","下内边距":"下のパディング","样式":"スタイル","边框样式":"枠線のスタイル","长虚线":"長点線","短虚线":"短点線","背景颜色":"背景色","纸张方向(仅自定义纸质有效)":"用紙の向き(カスタム用紙のみ有効)","纵向":"縦方向","上下对齐":"上下の配置","垂直居中":"垂直中央揃え","底部":"下揃え","文本换行":"テキストの折り返し","不换行":"折り返さない","不换行&隐藏":"折り返さず非表示","不换行&省略":"折り返さず省略記号","打印类型":"印刷タイプ","文本":"テキスト","二维码":"QRコード","字段类型":"フィールドタイプ","默认(文本)":"デフォルト(テキスト)","序号":"インデックス","图片":"画像","单元格高度":"セルの高さ","条形码、二维码以及图片有效":"バーコード、QRコード、画像有効","底部聚合标题":"集計タイトル","底部聚合文本":"集計テキスト","聚合类型":"集計のタイプ","底部聚合合并列数":"集計の結合列数","合并列数":"結合列数","底部聚合类型左右对齐":"集計の左右揃え","整数":"整数","保留%s位":"%s桁を保持","底部聚合小数":"集計の小数点以下桁数","转大小写":"大文字小文字の変換","底部聚合类型":"集計のタイプ","不聚合":"集計しない","仅文本":"テキストのみ","顶部偏移":"上部のオフセット","一行多组":"1行複数グループ","一行二列":"1行2列","一行三列":"1行3列","一行四列":"1行4列","一行多组间隔":"1行複数グループの間隔","表格头显示":"表ヘッダーの表示","每页显示":"1ページごとに表示","首页显示":"最初のページに表示","不显示":"表示しない","数据类型":"データ型","日期时间":"日時","布尔":"ブール","格式":"フォーマット","格式化函数":"書式設定関数","样式函数":"スタイル関数","行/列合并函数":"行/列のマージ関数","跨页合并是否清除":"改ページでのマージをクリアするか","表格脚函数":"表のフッター関数","分组字段函数":"グループフィールド関数","分组头格式化函数":"グループヘッダーの書式設定関数","分组头信息":"グループヘッダー情報","分组脚格式化函数":"グループフッターの書式設定関数","分组脚信息":"グループフッター情報","多组表格脚函数":"複数グループ表のフッター関数","行样式函数":"行のスタイル関数","单元格左右对齐":"セルの左右揃え","单元格上下对齐":"セルの上下揃え","上":"上","中":"中央","表格头单元格左右对齐":"ヘッダーセルの左右揃え","单元格样式函数":"セルのスタイル関数","表格头样式函数":"ヘッダーのスタイル関数","单元格格式化函数":"セルの書式設定関数","单元格渲染函数":"セルのレンダリング関数","自动补全":"オートコンプリート","每页最大行数":"1ページ最大行数","表格脚显示":"表のフッターの表示","最后显示":"最終ページで表示","没有足够空间进行表格分页，请调整页眉/页脚线":"表のページ分割のための十分なスペースがありません。ヘッダー/フッターの線を調整してください","没有足够空间,显示下方内容, 可分页高度":"スペースが十分ではありません。下のコンテンツを表示し、高さはページ分割できます:","列属性":"列のプロパティ","在上方插入行":"上に行を挿入","在下方插入行":"下に行を挿入","向左方插入列":"左に列を挿入","向右方插入列":"右に列を挿入 ","删除行":"行を削除","删除列":"列を削除","对齐":"配置","左":"左","左右居中":"中央","右":"右","下":"下","合并单元格":"セルをマージ","解开单元格":"マージを解除","条形码生成失败":"バーコードの生成に失敗しました","请检查 hiprint.init 的 provider 是否配置了":"hiprint.init のプロバイダが設定されていることを確認してください","已移除\'tableCustom\',请替换使用\'table\'详情见更新记录":"\'tableCustom\'は削除されました。\'table\'に置き換えてください。詳細は更新ログを参照してください。","确定":"確定","删除":"削除","连接客户端失败":"クライアントへの接続に失敗しました","基础":"基本","边框":"枠線","列":"列","高级":"高度","面板排列":"パネル配置","排列方式":"配列方法","垂直间距%s":"垂直間隔 %s","水平间距%s":"水平間隔 %s","边框圆角":"ボーダーラジウス","显示码值":"表示コード値"}')},66874:function(t,e,i){"use strict";i.d(e,{A:function(){return Kn}});var n=i(29357);i(44114),i(18111),i(61701),i(7588);class o{constructor(t,e=""){"string"===typeof t?(this.el=document.createElement(t),this.el.className=e):this.el=t,this.data={}}data(t,e){return void 0!==e?(this.data[t]=e,this):this.data[t]}on(t,e){const[i,...n]=t.split(".");let o=i;return"mousewheel"===o&&/Firefox/i.test(window.navigator.userAgent)&&(o="DOMMouseScroll"),this.el.addEventListener(o,t=>{e(t);for(let e=0;e<n.length;e+=1){const i=n[e];if("left"===i&&0!==t.button)return;if("right"===i&&2!==t.button)return;"stop"===i&&t.stopPropagation()}}),this}offset(t){if(void 0!==t)return Object.keys(t).forEach(e=>{this.css(e,`${t[e]}px`)}),this;const{offsetTop:e,offsetLeft:i,offsetHeight:n,offsetWidth:o}=this.el;return{top:e,left:i,height:n,width:o}}scroll(t){const{el:e}=this;return void 0!==t&&(void 0!==t.left&&(e.scrollLeft=t.left),void 0!==t.top&&(e.scrollTop=t.top)),{left:e.scrollLeft,top:e.scrollTop}}box(){return this.el.getBoundingClientRect()}parent(){return new o(this.el.parentNode)}children(...t){return 0===arguments.length?this.el.childNodes:(t.forEach(t=>this.child(t)),this)}removeChild(t){this.el.removeChild(t)}child(t){let e=t;return"string"===typeof t?e=document.createTextNode(t):t instanceof o&&(e=t.el),this.el.appendChild(e),this}contains(t){return this.el.contains(t)}className(t){return void 0!==t?(this.el.className=t,this):this.el.className}addClass(t){return this.el.classList.add(t),this}hasClass(t){return this.el.classList.contains(t)}removeClass(t){return this.el.classList.remove(t),this}toggle(t="active"){return this.toggleClass(t)}toggleClass(t){return this.el.classList.toggle(t)}active(t=!0,e="active"){return t?this.addClass(e):this.removeClass(e),this}checked(t=!0){return this.active(t,"checked"),this}disabled(t=!0){return t?this.addClass("disabled"):this.removeClass("disabled"),this}attr(t,e){if(void 0!==e)this.el.setAttribute(t,e);else{if("string"===typeof t)return this.el.getAttribute(t);Object.keys(t).forEach(e=>{this.el.setAttribute(e,t[e])})}return this}removeAttr(t){return this.el.removeAttribute(t),this}html(t){return void 0!==t?(this.el.innerHTML=t,this):this.el.innerHTML}val(t){return void 0!==t?(this.el.value=t,this):this.el.value}focus(){this.el.focus()}cssRemoveKeys(...t){return t.forEach(t=>this.el.style.removeProperty(t)),this}css(t,e){return void 0===e&&"string"!==typeof t?(Object.keys(t).forEach(e=>{this.el.style[e]=t[e]}),this):void 0!==e?(this.el.style[t]=e,this):this.el.style[t]}computedStyle(){return window.getComputedStyle(this.el,null)}show(){return this.css("display","block"),this}hide(){return this.css("display","none"),this}}const r=(t,e="")=>new o(t,e);i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var a={toolbar:{undo:"Undo",redo:"Redo",print:"Print",paintformat:"Paint format",clearformat:"Clear format",format:"Format",fontName:"Font",fontSize:"Font size",fontBold:"Font bold",fontItalic:"Font italic",underline:"Underline",strike:"Strike",color:"Text color",bgcolor:"Fill color",border:"Borders",merge:"Merge cells",align:"Horizontal align",valign:"Vertical align",textwrap:"Text wrapping",freeze:"Freeze cell",autofilter:"Filter",formula:"Functions",more:"More"},contextmenu:{copy:"Copy",cut:"Cut",paste:"Paste",pasteValue:"Paste values only",pasteFormat:"Paste format only",hide:"Hide",insertRow:"Insert row",insertColumn:"Insert column",deleteSheet:"Delete",deleteRow:"Delete row",deleteColumn:"Delete column",deleteCell:"Delete cell",deleteCellText:"Delete cell text",validation:"Data validations",cellprintable:"Enable export",cellnonprintable:"Disable export",celleditable:"Enable editing",cellnoneditable:"Disable editing"},print:{size:"Paper size",orientation:"Page orientation",orientations:["Landscape","Portrait"]},format:{normal:"Normal",text:"Plain Text",number:"Number",percent:"Percent",rmb:"RMB",usd:"USD",eur:"EUR",date:"Date",time:"Time",datetime:"Date time",duration:"Duration"},formula:{sum:"Sum",average:"Average",max:"Max",min:"Min",_if:"IF",and:"AND",or:"OR",concat:"Concat"},validation:{required:"it must be required",notMatch:"it not match its validation rule",between:"it is between {} and {}",notBetween:"it is not between {} and {}",notIn:"it is not in list",equal:"it equal to {}",notEqual:"it not equal to {}",lessThan:"it less than {}",lessThanEqual:"it less than or equal to {}",greaterThan:"it greater than {}",greaterThanEqual:"it greater than or equal to {}"},error:{pasteForMergedCell:"Unable to do this for merged cells"},calendar:{weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]},button:{next:"Next",cancel:"Cancel",remove:"Remove",save:"Save",ok:"OK"},sort:{desc:"Sort Z -> A",asc:"Sort A -> Z"},filter:{empty:"empty"},dataValidation:{mode:"Mode",range:"Cell Range",criteria:"Criteria",modeType:{cell:"Cell",column:"Colun",row:"Row"},type:{list:"List",number:"Number",date:"Date",phone:"Phone",email:"Email"},operator:{be:"between",nbe:"not betwwen",lt:"less than",lte:"less than or equal to",gt:"greater than",gte:"greater than or equal to",eq:"equal to",neq:"not equal to"}}};let s=["en"];const l={en:a};function p(t,e){if(e)for(const i of s){if(!e[i])break;let n=e[i];const o=t.match(/(?:\\.|[^.])+/g);for(let t=0;t<o.length;t+=1){const e=o[t],i=n[e];if(!i)break;if(t===o.length-1)return i;n=i}}}function d(t){let e=p(t,l);return!e&&window&&window.x_spreadsheet&&window.x_spreadsheet.$messages&&(e=p(t,window.x_spreadsheet.$messages)),e||""}function c(t){return()=>d(t)}function h(t,e,i=!1){i?s=[t]:s.unshift(t),e&&(l[t]=e)}const u=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function f(t){let e="",i=t;while(i>=u.length)i/=u.length,i-=1,e+=u[parseInt(i,10)%u.length];const n=t%u.length;return e+=u[n],e}function g(t){let e=0;for(let i=0;i!==t.length;++i)e=26*e+t.charCodeAt(i)-64;return e-1}function m(t){let e="",i="";for(let n=0;n<t.length;n+=1)t.charAt(n)>="0"&&t.charAt(n)<="9"?i+=t.charAt(n):e+=t.charAt(n);return[g(e),parseInt(i,10)-1]}function _(t,e){return`${f(t)}${e+1}`}function v(t,e,i,n=()=>!0){if(0===e&&0===i)return t;const[o,r]=m(t);return n(o,r)?_(o+e,r+i):t}class y{constructor(t,e,i,n,o=0,r=0){this.sri=t,this.sci=e,this.eri=i,this.eci=n,this.w=o,this.h=r}set(t,e,i,n){this.sri=t,this.sci=e,this.eri=i,this.eci=n}multiple(){return this.eri-this.sri>0||this.eci-this.sci>0}includes(...t){let[e,i]=[0,0];1===t.length?[i,e]=m(t[0]):2===t.length&&([e,i]=t);const{sri:n,sci:o,eri:r,eci:a}=this;return n<=e&&e<=r&&o<=i&&i<=a}each(t,e=()=>!0){const{sri:i,sci:n,eri:o,eci:r}=this;for(let a=i;a<=o;a+=1)if(e(a))for(let e=n;e<=r;e+=1)t(a,e)}contains(t){return this.sri<=t.sri&&this.sci<=t.sci&&this.eri>=t.eri&&this.eci>=t.eci}within(t){return this.sri>=t.sri&&this.sci>=t.sci&&this.eri<=t.eri&&this.eci<=t.eci}disjoint(t){return this.sri>t.eri||this.sci>t.eci||t.sri>this.eri||t.sci>this.eci}intersects(t){return this.sri<=t.eri&&this.sci<=t.eci&&t.sri<=this.eri&&t.sci<=this.eci}union(t){const{sri:e,sci:i,eri:n,eci:o}=this;return new y(t.sri<e?t.sri:e,t.sci<i?t.sci:i,t.eri>n?t.eri:n,t.eci>o?t.eci:o)}difference(t){const e=[],i=(t,i,n,o)=>{e.push(new y(t,i,n,o))},{sri:n,sci:o,eri:r,eci:a}=this,s=t.sri-n,l=t.sci-o,p=r-t.eri,d=a-t.eci;return s>0?(i(n,o,t.sri-1,a),p>0?(i(t.eri+1,o,r,a),l>0&&i(t.sri,o,t.eri,t.sci-1),d>0&&i(t.sri,t.eci+1,t.eri,a)):(l>0&&i(t.sri,o,r,t.sci-1),d>0&&i(t.sri,t.eci+1,r,a))):p>0&&(i(t.eri+1,o,r,a),l>0&&i(n,o,t.eri,t.sci-1),d>0&&i(n,t.eci+1,t.eri,a)),l>0?(i(n,o,r,t.sci-1),d>0?(i(n,t.eri+1,r,a),s>0&&i(n,t.sci,t.sri-1,t.eci),p>0&&i(t.sri+1,t.sci,r,t.eci)):(s>0&&i(n,t.sci,t.sri-1,a),p>0&&i(t.sri+1,t.sci,r,a))):d>0&&(i(r,t.eci+1,r,a),s>0&&i(n,o,t.sri-1,t.eci),p>0&&i(t.eri+1,o,r,t.eci)),e}size(){return[this.eri-this.sri+1,this.eci-this.sci+1]}toString(){const{sri:t,sci:e,eri:i,eci:n}=this;let o=_(e,t);return this.multiple()&&(o=`${o}:${_(n,i)}`),o}clone(){const{sri:t,sci:e,eri:i,eci:n,w:o,h:r}=this;return new y(t,e,i,n,o,r)}equals(t){return this.eri===t.eri&&this.eci===t.eci&&this.sri===t.sri&&this.sci===t.sci}static valueOf(t){const e=t.split(":"),[i,n]=m(e[0]);let[o,r]=[n,i];return e.length>1&&([r,o]=m(e[1])),new y(n,i,o,r)}}class b{constructor(){this.range=new y(0,0,0,0),this.ri=0,this.ci=0}multiple(){return this.range.multiple()}setIndexes(t,e){this.ri=t,this.ci=e}size(){return this.range.size()}}class E{constructor(){this.x=0,this.y=0,this.ri=0,this.ci=0}}class w{constructor(){this.undoItems=[],this.redoItems=[]}add(t){this.undoItems.push(JSON.stringify(t)),this.redoItems=[]}canUndo(){return this.undoItems.length>0}canRedo(){return this.redoItems.length>0}undo(t,e){const{undoItems:i,redoItems:n}=this;this.canUndo()&&(n.push(JSON.stringify(t)),e(JSON.parse(i.pop())))}redo(t,e){const{undoItems:i,redoItems:n}=this;this.canRedo()&&(i.push(JSON.stringify(t)),e(JSON.parse(n.pop())))}}class P{constructor(){this.range=null,this.state="clear"}copy(t){return this.range=t,this.state="copy",this}cut(t){return this.range=t,this.state="cut",this}isCopy(){return"copy"===this.state}isCut(){return"cut"===this.state}isClear(){return"clear"===this.state}clear(){this.range=null,this.state="clear"}}class T{constructor(t,e,i){this.ci=t,this.operator=e,this.value=i}set(t,e){this.operator=t,this.value=e}includes(t){const{operator:e,value:i}=this;return"all"===e||"in"===e&&i.includes(t)}vlength(){const{operator:t,value:e}=this;return"in"===t?e.length:0}getData(){const{ci:t,operator:e,value:i}=this;return{ci:t,operator:e,value:i}}}class C{constructor(t,e){this.ci=t,this.order=e}asc(){return"asc"===this.order}desc(){return"desc"===this.order}}class x{constructor(){this.ref=null,this.filters=[],this.sort=null}setData({ref:t,filters:e,sort:i}){null!=t&&(this.ref=t,this.filters=e.map(t=>new T(t.ci,t.operator,t.value)),i&&(this.sort=new C(i.ci,i.order)))}getData(){if(this.active()){const{ref:t,filters:e,sort:i}=this;return{ref:t,filters:e.map(t=>t.getData()),sort:i}}return{}}addFilter(t,e,i){const n=this.getFilter(t);null==n?this.filters.push(new T(t,e,i)):n.set(e,i)}setSort(t,e){this.sort=e?new C(t,e):null}includes(t,e){return!!this.active()&&this.hrange().includes(t,e)}getSort(t){const{sort:e}=this;return e&&e.ci===t?e:null}getFilter(t){const{filters:e}=this;for(let i=0;i<e.length;i+=1)if(e[i].ci===t)return e[i];return null}filteredRows(t){const e=new Set,i=new Set;if(this.active()){const{sri:n,eri:o}=this.range(),{filters:r}=this;for(let a=n+1;a<=o;a+=1)for(let n=0;n<r.length;n+=1){const o=r[n],s=t(a,o.ci),l=s?s.text:"";if(!o.includes(l)){e.add(a);break}i.add(a)}}return{rset:e,fset:i}}items(t,e){const i={};if(this.active()){const{sri:n,eri:o}=this.range();for(let r=n+1;r<=o;r+=1){const n=e(r,t);if(null===n||/^\s*$/.test(n.text))i[""]=(i[""]||0)+1;else{const t=n.text,e=(i[t]||0)+1;i[t]=e}}}return i}range(){return y.valueOf(this.ref)}hrange(){const t=this.range();return t.eri=t.sri,t}clear(){this.ref=null,this.filters=[],this.sort=null}active(){return null!==this.ref}}i(22489);class O{constructor(t=[]){this._=t}forEach(t){this._.forEach(t)}deleteWithin(t){this._=this._.filter(e=>!e.within(t))}getFirstIncludes(t,e){for(let i=0;i<this._.length;i+=1){const n=this._[i];if(n.includes(t,e))return n}return null}filterIntersects(t){return new O(this._.filter(e=>e.intersects(t)))}intersects(t){for(let e=0;e<this._.length;e+=1){const i=this._[e];if(i.intersects(t))return!0}return!1}union(t){let e=t;return this._.forEach(t=>{t.intersects(e)&&(e=t.union(e))}),e}add(t){this.deleteWithin(t),this._.push(t)}shift(t,e,i,n){this._.forEach(o=>{const{sri:r,sci:a,eri:s,eci:l}=o,p=o;"row"===t?r>=e?(p.sri+=i,p.eri+=i):r<e&&e<=s&&(p.eri+=i,n(r,a,i,0)):"column"===t&&(a>=e?(p.sci+=i,p.eci+=i):a<e&&e<=l&&(p.eci+=i,n(r,a,0,i)))})}move(t,e,i){this._.forEach(n=>{const o=n;o.within(t)&&(o.eri+=e,o.sri+=e,o.sci+=i,o.eci+=i)})}setData(t){return this._=t.map(t=>y.valueOf(t)),this}getData(){return this._.map(t=>t.toString())}}function D(t){return JSON.parse(JSON.stringify(t))}const M=(t={},...e)=>(e.forEach(e=>{Object.keys(e).forEach(i=>{const n=e[i];"string"===typeof n||"number"===typeof n||"boolean"===typeof n?t[i]=n:"function"!==typeof n&&!Array.isArray(n)&&n instanceof Object?(t[i]=t[i]||{},M(t[i],n)):t[i]=n})}),t);function I(t,e){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!1;for(let n=0;n<i.length;n+=1){const o=i[n],r=t[o],a=e[o];if(void 0===a)return!1;if("string"===typeof r||"number"===typeof r||"boolean"===typeof r){if(r!==a)return!1}else if(Array.isArray(r)){if(r.length!==a.length)return!1;for(let t=0;t<r.length;t+=1)if(!I(r[t],a[t]))return!1}else if("function"!==typeof r&&!Array.isArray(r)&&r instanceof Object&&!I(r,a))return!1}return!0}const R=(t,e=t=>t)=>{let i=0,n=0;return Object.keys(t).forEach(o=>{i+=e(t[o],o),n+=1}),[i,n]};function S(t,e){const i=t[`${e}`];return delete t[`${e}`],i}function B(t,e,i,n,o,r){let a=i,s=n,l=t;for(;l<e;l+=1){if(a>o)break;s=r(l),a+=s}return[l,a-s,s]}function A(t,e,i){let n=0;for(let o=t;o<e;o+=1)n+=i(o);return n}function L(t,e,i){for(let n=t;n<e;n+=1)i(n)}function k(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i+=1)if(t[i]!==e[i])return!1;return!0}function H(t){const e=`${t}`;let i=0,n=!1;for(let o=0;o<e.length;o+=1)!0===n&&(i+=1),"."===e.charAt(o)&&(n=!0);return i}function F(t,e,i){if(Number.isNaN(e)||Number.isNaN(i))return e+t+i;const n=H(e),o=H(i),r=Number(e),a=Number(i);let s=0;if("-"===t)s=r-a;else if("+"===t)s=r+a;else if("*"===t)s=r*a;else if("/"===t)return s=r/a,H(s)>5?s.toFixed(2):s;return s.toFixed(Math.max(n,o))}var W={cloneDeep:D,merge:(...t)=>M({},...t),equals:I,arrayEquals:k,sum:R,rangeEach:L,rangeSum:A,rangeReduceIf:B,deleteProperty:S,numberCalc:F};class j{constructor({len:t,height:e,indexHeight:i}){this._={},this.len=t,this.height=e,this.indexHeight=i}getHeight(t){if(this.isHide(t))return 0;const e=this.get(t);return e&&e.height?e.height:this.height}setHeight(t,e){const i=this.getOrNew(t);i.height=e}unhide(t){let e=t;while(e>0){if(e-=1,!this.isHide(e))break;this.setHide(e,!1)}}isHide(t){const e=this.get(t);return e&&e.hide}setHide(t,e){const i=this.getOrNew(t);!0===e?i.hide=!0:delete i.hide}setStyle(t,e){const i=this.getOrNew(t);i.style=e}sumHeight(t,e,i){return W.rangeSum(t,e,t=>i&&i.has(t)?0:this.getHeight(t))}totalHeight(){return this.sumHeight(0,this.len)}get(t){return this._[t]}getOrNew(t){return this._[t]=this._[t]||{cells:{}},this._[t]}getCell(t,e){const i=this.get(t);return void 0!==i&&void 0!==i.cells&&void 0!==i.cells[e]?i.cells[e]:null}getCellMerge(t,e){const i=this.getCell(t,e);return i&&i.merge?i.merge:[0,0]}getCellOrNew(t,e){const i=this.getOrNew(t);return i.cells[e]=i.cells[e]||{},i.cells[e]}setCell(t,e,i,n="all"){const o=this.getOrNew(t);"all"===n?o.cells[e]=i:"text"===n?(o.cells[e]=o.cells[e]||{},o.cells[e].text=i.text):"format"===n&&(o.cells[e]=o.cells[e]||{},o.cells[e].style=i.style,i.merge&&(o.cells[e].merge=i.merge))}setCellText(t,e,i){const n=this.getCellOrNew(t,e);!1!==n.editable&&(n.text=i)}copyPaste(t,e,i,n=!1,o=()=>{console.log("empty function")}){const{sri:r,sci:a,eri:s,eci:l}=t,p=e.sri,d=e.sci,c=e.eri,h=e.eci,[u,f]=t.size(),[g,m]=e.size();let _=!0,y=0;(c<r||h<a)&&(_=!1,y=c<r?g:m);for(let b=r;b<=s;b+=1)if(this._[b])for(let t=a;t<=l;t+=1)if(this._[b].cells&&this._[b].cells[t])for(let e=p;e<=c;e+=u)for(let g=d;g<=h;g+=f){const m=e+(b-r),E=g+(t-a),w=W.cloneDeep(this._[b].cells[t]);if(n&&w&&w.text&&w.text.length>0){const{text:t}=w;let i=g-d+(e-p)+2;if(_||(i-=y+1),"="===t[0])w.text=t.replace(/[a-zA-Z]{1,3}\d+/g,t=>{let[e,n]=[0,0];return r===p?e=i-1:n=i-1,/^\d+$/.test(t)?t:v(t,e,n)});else if(u<=1&&f>1&&(p>s||c<r)||f<=1&&u>1&&(d>l||h<a)||u<=1&&f<=1){const e=/[\\.\d]+$/.exec(t);if(null!==e){const n=Number(e[0])+i-1;w.text=t.substring(0,e.index)+n}}}this.setCell(m,E,w,i),o(m,E,w)}}cutPaste(t,e){const i={};this.each(n=>{this.eachCells(n,o=>{let r=parseInt(n,10),a=parseInt(o,10);t.includes(n,o)&&(r=e.sri+(r-t.sri),a=e.sci+(a-t.sci)),i[r]=i[r]||{cells:{}},i[r].cells[a]=this._[n].cells[o]})}),this._=i}paste(t,e){if(t.length<=0)return;const{sri:i,sci:n}=e;t.forEach((t,e)=>{const o=i+e;t.forEach((t,e)=>{const i=n+e;this.setCellText(o,i,t)})})}insert(t,e=1){const i={};this.each((n,o)=>{let r=parseInt(n,10);r>=t&&(r+=e,this.eachCells(n,(i,n)=>{n.text&&"="===n.text[0]&&(n.text=n.text.replace(/[a-zA-Z]{1,3}\d+/g,i=>v(i,0,e,(e,i)=>i>=t)))})),i[r]=o}),this._=i,this.len+=e}delete(t,e){const i=e-t+1,n={};this.each((o,r)=>{const a=parseInt(o,10);a<t?n[a]=r:o>e&&(n[a-i]=r,this.eachCells(o,(t,n)=>{n.text&&"="===n.text[0]&&(n.text=n.text.replace(/[a-zA-Z]{1,3}\d+/g,t=>v(t,0,-i,(t,i)=>i>e)))}))}),this._=n,this.len-=i}insertColumn(t,e=1){this.each((i,n)=>{const o={};this.eachCells(i,(i,n)=>{let r=parseInt(i,10);r>=t&&(r+=e,n.text&&"="===n.text[0]&&(n.text=n.text.replace(/[a-zA-Z]{1,3}\d+/g,i=>v(i,e,0,e=>e>=t)))),o[r]=n}),n.cells=o})}deleteColumn(t,e){const i=e-t+1;this.each((n,o)=>{const r={};this.eachCells(n,(n,o)=>{const a=parseInt(n,10);a<t?r[a]=o:a>e&&(r[a-i]=o,o.text&&"="===o.text[0]&&(o.text=o.text.replace(/[a-zA-Z]{1,3}\d+/g,t=>v(t,-i,0,t=>t>e))))}),o.cells=r})}deleteCells(t,e="all"){t.each((t,i)=>{this.deleteCell(t,i,e)})}deleteCell(t,e,i="all"){const n=this.get(t);if(null!==n){const o=this.getCell(t,e);null!==o&&!1!==o.editable&&("all"===i?delete n.cells[e]:"text"===i?(o.text&&delete o.text,o.value&&delete o.value):"format"===i?(void 0!==o.style&&delete o.style,o.merge&&delete o.merge):"merge"===i&&o.merge&&delete o.merge)}}maxCell(){const t=Object.keys(this._),e=t[t.length-1],i=this._[e];if(i){const{cells:t}=i,n=Object.keys(t),o=n[n.length-1];return[parseInt(e,10),parseInt(o,10)]}return[0,0]}each(t){Object.entries(this._).forEach(([e,i])=>{t(e,i)})}eachCells(t,e){this._[t]&&this._[t].cells&&Object.entries(this._[t].cells).forEach(([t,i])=>{e(t,i)})}setData(t){t.len&&(this.len=t.len,delete t.len),this._=t}getData(){const{len:t}=this;return Object.assign({len:t},this._)}}class U{constructor({len:t,width:e,indexWidth:i,minWidth:n}){this._={},this.len=t,this.width=e,this.indexWidth=i,this.minWidth=n}setData(t){t.len&&(this.len=t.len,delete t.len),this._=t}getData(){const{len:t}=this;return Object.assign({len:t},this._)}getWidth(t){if(this.isHide(t))return 0;const e=this._[t];return e&&e.width?e.width:this.width}getOrNew(t){return this._[t]=this._[t]||{},this._[t]}setWidth(t,e){const i=this.getOrNew(t);i.width=e}unhide(t){let e=t;while(e>0){if(e-=1,!this.isHide(e))break;this.setHide(e,!1)}}isHide(t){const e=this._[t];return e&&e.hide}setHide(t,e){const i=this.getOrNew(t);!0===e?i.hide=!0:delete i.hide}setStyle(t,e){const i=this.getOrNew(t);i.style=e}sumWidth(t,e){return W.rangeSum(t,e,t=>this.getWidth(t))}totalWidth(){return this.sumWidth(0,this.len)}}const $={phone:/^[1-9]\d{10}$/,email:/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/};function z(t,e,...i){let n="";return t||(n=d(`validation.${e}`,...i)),[t,n]}class K{constructor(t,e,i,n){this.required=e,this.value=i,this.type=t,this.operator=n,this.message=""}parseValue(t){const{type:e}=this;return"date"===e?new Date(t):"number"===e?Number(t):t}equals(t){let e=this.type===t.type&&this.required===t.required&&this.operator===t.operator;return e&&(e=Array.isArray(this.value)?W.arrayEquals(this.value,t.value):this.value===t.value),e}values(){return this.value.split(",")}validate(t){const{required:e,operator:i,value:n,type:o}=this;if(e&&/^\s*$/.test(t))return z(!1,"required");if(/^\s*$/.test(t))return[!0];if($[o]&&!$[o].test(t))return z(!1,"notMatch");if("list"===o)return z(this.values().includes(t),"notIn");if(i){const e=this.parseValue(t);if("be"===i){const[t,i]=n;return z(e>=this.parseValue(t)&&e<=this.parseValue(i),"between",t,i)}if("nbe"===i){const[t,i]=n;return z(e<this.parseValue(t)||e>this.parseValue(i),"notBetween",t,i)}if("eq"===i)return z(e===this.parseValue(n),"equal",n);if("neq"===i)return z(e!==this.parseValue(n),"notEqual",n);if("lt"===i)return z(e<this.parseValue(n),"lessThan",n);if("lte"===i)return z(e<=this.parseValue(n),"lessThanEqual",n);if("gt"===i)return z(e>this.parseValue(n),"greaterThan",n);if("gte"===i)return z(e>=this.parseValue(n),"greaterThanEqual",n)}return[!0]}}class q{constructor(t,e,i){this.refs=e,this.mode=t,this.validator=i}includes(t,e){const{refs:i}=this;for(let n=0;n<i.length;n+=1){const o=y.valueOf(i[n]);if(o.includes(t,e))return!0}return!1}addRef(t){this.remove(y.valueOf(t)),this.refs.push(t)}remove(t){const e=[];this.refs.forEach(i=>{const n=y.valueOf(i);if(n.intersects(t)){const i=n.difference(t);i.forEach(t=>e.push(t.toString()))}else e.push(i)}),this.refs=e}getData(){const{refs:t,mode:e,validator:i}=this,{type:n,required:o,operator:r,value:a}=i;return{refs:t,mode:e,type:n,required:o,operator:r,value:a}}static valueOf({refs:t,mode:e,type:i,required:n,operator:o,value:r}){return new q(e,t,new K(i,n,r,o))}}class N{constructor(){this._=[],this.errors=new Map}getError(t,e){return this.errors.get(`${t}_${e}`)}validate(t,e,i){const n=this.get(t,e),o=`${t}_${e}`,{errors:r}=this;if(null!==n){const[t,e]=n.validator.validate(i);t?r.delete(o):r.set(o,e)}else r.delete(o);return!0}add(t,e,{type:i,required:n,value:o,operator:r}){const a=new K(i,n,o,r),s=this.getByValidator(a);null!==s?s.addRef(e):this._.push(new q(t,[e],a))}getByValidator(t){for(let e=0;e<this._.length;e+=1){const i=this._[e];if(i.validator.equals(t))return i}return null}get(t,e){for(let i=0;i<this._.length;i+=1){const n=this._[i];if(n.includes(t,e))return n}return null}remove(t){this.each(e=>{e.remove(t)})}each(t){this._.forEach(e=>t(e))}getData(){return this._.filter(t=>t.refs.length>0).map(t=>t.getData())}setData(t){this._=t.map(t=>q.valueOf(t))}}const V={mode:"edit",view:{height:()=>document.documentElement.clientHeight,width:()=>document.documentElement.clientWidth},showGrid:!0,showToolbar:!0,showContextmenu:!0,showBottomBar:!0,row:{len:100,height:25},col:{len:26,width:100,indexWidth:60,minWidth:60},style:{bgcolor:"#ffffff",align:"left",valign:"middle",textwrap:!1,strike:!1,underline:!1,color:"#0a0a0a",font:{name:"Arial",size:10,bold:!1,italic:!1},format:"normal"}},G=41,Y=41;function X(t,e,i=()=>{console.log("empty function")}){const{merges:n}=this,o=e.clone(),[r,a]=t.size(),[s,l]=e.size();return r>s&&(o.eri=e.sri+r-1),a>l&&(o.eci=e.sci+a-1),!n.intersects(o)||(i(d("error.pasteForMergedCell")),!1)}function J(t,e,i,n=!1){const{rows:o,merges:r}=this;"all"!==i&&"format"!==i||(o.deleteCells(e,i),r.deleteWithin(e)),o.copyPaste(t,e,i,n,(t,e,i)=>{if(i&&i.merge){const[n,o]=i.merge;if(n<=0&&o<=0)return;r.add(new y(t,e,t+n,e+o))}})}function Q(t,e){const{clipboard:i,rows:n,merges:o}=this;n.cutPaste(t,e),o.move(t,e.sri-t.sri,e.sci-t.sci),i.clear()}function Z(t,e,i){const{styles:n,rows:o}=this,r=o.getCellOrNew(t,e);let a={};void 0!==r.style&&(a=W.cloneDeep(n[r.style])),a=W.merge(a,{border:i}),r.style=this.addStyle(a)}function tt({mode:t,style:e,color:i}){const{styles:n,selector:o,rows:r}=this,{sri:a,sci:s,eri:l,eci:p}=o.range,d=!this.isSingleSelected();if(d||"inside"!==t&&"horizontal"!==t&&"vertical"!==t)if("outside"!==t||d){if("none"===t)o.range.each((t,e)=>{const i=r.getCell(t,e);if(i&&void 0!==i.style){const t=W.cloneDeep(n[i.style]);delete t.border,i.style=this.addStyle(t)}});else if("all"===t||"inside"===t||"outside"===t||"horizontal"===t||"vertical"===t){const n=[];for(let o=a;o<=l;o+=1)for(let c=s;c<=p;c+=1){const h=[];for(let t=0;t<n.length;t+=1){const[e,i,r,a]=n[t];if(o===e+r+1&&h.push(t),e<=o&&o<=e+r&&c===i){c+=a+1;break}}if(h.forEach(t=>n.splice(t,1)),c>p)break;const u=r.getCell(o,c);let[f,g]=[0,0];u&&u.merge&&([f,g]=u.merge,n.push([o,c,f,g]));const m=f>0&&o+f===l,_=g>0&&c+g===p;let v={};"all"===t?v={bottom:[e,i],top:[e,i],left:[e,i],right:[e,i]}:"inside"===t?(!_&&c<p&&(v.right=[e,i]),!m&&o<l&&(v.bottom=[e,i])):"horizontal"===t?!m&&o<l&&(v.bottom=[e,i]):"vertical"===t?!_&&c<p&&(v.right=[e,i]):"outside"===t&&d&&(a===o&&(v.top=[e,i]),(m||l===o)&&(v.bottom=[e,i]),s===c&&(v.left=[e,i]),(_||p===c)&&(v.right=[e,i])),Object.keys(v).length>0&&Z.call(this,o,c,v),c+=g}}else if("top"===t||"bottom"===t)for(let c=s;c<=p;c+=1)"top"===t&&(Z.call(this,a,c,{top:[e,i]}),c+=r.getCellMerge(a,c)[1]),"bottom"===t&&(Z.call(this,l,c,{bottom:[e,i]}),c+=r.getCellMerge(l,c)[1]);else if("left"===t||"right"===t)for(let c=a;c<=l;c+=1)"left"===t&&(Z.call(this,c,s,{left:[e,i]}),c+=r.getCellMerge(c,s)[0]),"right"===t&&(Z.call(this,c,p,{right:[e,i]}),c+=r.getCellMerge(c,p)[0])}else Z.call(this,a,s,{top:[e,i],bottom:[e,i],left:[e,i],right:[e,i]})}function et(t,e){const{rows:i}=this,n=this.freezeTotalHeight();let o=i.height;n+i.height<t&&(o-=e);const r=this.exceptRowSet;let a=0,s=o,{height:l}=i;for(;a<i.len;a+=1){if(s>t)break;r.has(a)||(l=i.getHeight(a),s+=l)}return s-=l,s<=0?{ri:-1,top:0,height:l}:{ri:a-1,top:s,height:l}}function it(t,e){const{cols:i}=this,n=this.freezeTotalWidth();let o=i.indexWidth;n+i.indexWidth<t&&(o-=e);const[r,a,s]=W.rangeReduceIf(0,i.len,o,i.indexWidth,t,t=>i.getWidth(t));return a<=0?{ci:-1,left:0,width:i.indexWidth}:{ci:r-1,left:a,width:s}}class nt{constructor(t,e){this.settings=W.merge(V,e||{}),this.name=t||"sheet",this.freeze=[0,0],this.styles=[],this.merges=new O,this.rows=new j(this.settings.row),this.cols=new U(this.settings.col),this.validations=new N,this.hyperlinks={},this.comments={},this.selector=new b,this.scroll=new E,this.history=new w,this.clipboard=new P,this.autoFilter=new x,this.change=()=>{console.log("empty function")},this.exceptRowSet=new Set,this.sortedRowMap=new Map,this.unsortedRowMap=new Map}addValidation(t,e,i){this.changeData(()=>{this.validations.add(t,e,i)})}removeValidation(){const{range:t}=this.selector;this.changeData(()=>{this.validations.remove(t)})}getSelectedValidator(){const{ri:t,ci:e}=this.selector,i=this.validations.get(t,e);return i?i.validator:null}getSelectedValidation(){const{ri:t,ci:e,range:i}=this.selector,n=this.validations.get(t,e),o={ref:i.toString()};return null!==n&&(o.mode=n.mode,o.validator=n.validator),o}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}undo(){this.history.undo(this.getData(),t=>{this.setData(t)})}redo(){this.history.redo(this.getData(),t=>{this.setData(t)})}copy(){this.clipboard.copy(this.selector.range)}copyToSystemClipboard(t){let e=[];const{sri:i,eri:n,sci:o,eci:r}=this.selector.range;for(let a=i;a<=n;a+=1){const t=[];for(let e=o;e<=r;e+=1){const i=this.getCell(a,e);t.push(i&&i.text||"")}e.push(t)}e=e.map(t=>t.join("\t")).join("\n"),t&&(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",e),t.preventDefault()),navigator.clipboard&&navigator.clipboard.writeText(e).then(()=>{console.log("empty function")},t=>{console.log("text copy to the system clipboard error  ",e,t)})}cut(){this.clipboard.cut(this.selector.range)}paste(t="all",e=()=>{console.log("empty function")}){const{clipboard:i,selector:n}=this;return!i.isClear()&&(!!X.call(this,i.range,n.range,e)&&(this.changeData(()=>{i.isCopy()?J.call(this,i.range,n.range,t):i.isCut()&&Q.call(this,i.range,n.range)}),!0))}pasteFromSystemClipboard(t,e){const{selector:i}=this;navigator.clipboard.readText().then(n=>{const o=this.parseClipboardContent(n);let r=i.ri;o.forEach(t=>{let e=i.ci;t.forEach(t=>{this.setCellText(r,e,t,"input"),e+=1}),r+=1}),t(),e(this.rows.getData())})}parseClipboardContent(t){const e=[],i=t.split("\n");let n=0;return i.forEach(t=>{e[n]=t.split("\t"),n+=1}),e}pasteFromText(t){let e=[];if(e=/\r\n/.test(t)?t.split("\r\n").map(t=>t.replace(/"/g,"").split("\t")):t.split("\n").map(t=>t.replace(/"/g,"").split("\t")),e.length){const{rows:t,selector:i}=this;this.changeData(()=>{t.paste(e,i.range)})}}autofill(t,e,i=()=>{console.log("empty function")}){const n=this.selector.range;return!!X.call(this,n,t,i)&&(this.changeData(()=>{J.call(this,n,t,e,!0)}),!0)}clearClipboard(){this.clipboard.clear()}calSelectedRangeByEnd(t,e){const{selector:i,rows:n,cols:o,merges:r}=this;let{sri:a,sci:s,eri:l,eci:p}=i.range;const d=i.ri,c=i.ci;let[h,u]=[t,e];return t<0&&(h=n.len-1),e<0&&(u=o.len-1),[a,l]=h>d?[d,h]:[h,d],[s,p]=u>c?[c,u]:[u,c],i.range=r.union(new y(a,s,l,p)),i.range=r.union(i.range),i.range}calSelectedRangeByStart(t,e){const{selector:i,rows:n,cols:o,merges:r}=this;let a=r.getFirstIncludes(t,e);return null===a&&(a=new y(t,e,t,e),-1===t&&(a.sri=0,a.eri=n.len-1),-1===e&&(a.sci=0,a.eci=o.len-1)),i.range=a,a}setSelectedCellAttr(t,e){this.changeData(()=>{const{selector:i,styles:n,rows:o}=this;if("merge"===t)e?this.merge():this.unmerge();else if("border"===t)tt.call(this,e);else if("formula"===t){const{ri:t,ci:n,range:r}=i;if(i.multiple()){const[n,a]=i.size(),{sri:s,sci:l,eri:p,eci:d}=r;if(n>1)for(let t=l;t<=d;t+=1){const i=o.getCellOrNew(p+1,t);i.text=`=${e}(${_(t,s)}:${_(t,p)})`}else if(a>1){const i=o.getCellOrNew(t,d+1);i.text=`=${e}(${_(l,t)}:${_(d,t)})`}}else{const i=o.getCellOrNew(t,n);i.text=`=${e}()`}}else i.range.each((i,r)=>{const a=o.getCellOrNew(i,r);let s={};if(void 0!==a.style&&(s=W.cloneDeep(n[a.style])),"format"===t)s.format=e,a.style=this.addStyle(s);else if("font-bold"===t||"font-italic"===t||"font-name"===t||"font-size"===t){const i={};i[t.split("-")[1]]=e,s.font=Object.assign(s.font||{},i),a.style=this.addStyle(s)}else"strike"===t||"textwrap"===t||"underline"===t||"align"===t||"valign"===t||"color"===t||"bgcolor"===t?(s[t]=e,a.style=this.addStyle(s)):a[t]=e})})}setSelectedCellText(t,e="input",i=""){const{autoFilter:n,selector:o,rows:r}=this,{ri:a,ci:s}=o;let l=a;this.unsortedRowMap.has(a)&&(l=this.unsortedRowMap.get(a));const p=r.getCell(l,s),d=p?p.text:"";if(this.setCellText(l,s,t,e),n.active()){const e=n.getFilter(s);if(e){const i=e.value.findIndex(t=>t===d);i>=0&&e.value.splice(i,1,t)}}}getSelectedCell(){const{ri:t,ci:e}=this.selector;let i=t;return this.unsortedRowMap.has(t)&&(i=this.unsortedRowMap.get(t)),this.rows.getCell(i,e)}xyInSelectedRect(t,e){const{left:i,top:n,width:o,height:r}=this.getSelectedRect(),a=t-this.cols.indexWidth,s=e-this.rows.height;return a>i&&a<i+o&&s>n&&s<n+r}getSelectedRect(){return this.getRect(this.selector.range)}getClipboardRect(){const{clipboard:t}=this;return t.isClear()?{left:-100,top:-100}:this.getRect(t.range)}getRect(t){const{scroll:e,rows:i,cols:n,exceptRowSet:o}=this,{sri:r,sci:a,eri:s,eci:l}=t;if(r<0&&a<0)return{left:0,l:0,top:0,t:0,scroll:e};const p=n.sumWidth(0,a),d=i.sumHeight(0,r,o),c=i.sumHeight(r,s+1,o),h=n.sumWidth(a,l+1);let u=p-e.x,f=d-e.y;const g=this.freezeTotalHeight(),m=this.freezeTotalWidth();return m>0&&m>p&&(u=p),g>0&&g>d&&(f=d),{l:p,t:d,left:u,top:f,height:c,width:h,scroll:e}}getCellRectByXY(t,e){const{scroll:i,merges:n,rows:o,cols:r}=this;let{ri:a,top:s,height:l}=et.call(this,e,i.y),{ci:p,left:d,width:c}=it.call(this,t,i.x);if(-1===p&&(c=r.totalWidth()),-1===a&&(l=o.totalHeight()),a>=0||p>=0){const t=n.getFirstIncludes(a,p);t&&(a=t.sri,p=t.sci,({left:d,top:s,width:c,height:l}=this.cellRect(a,p)))}return{ri:a,ci:p,left:d,top:s,width:c,height:l}}isSingleSelected(){const{sri:t,sci:e,eri:i,eci:n}=this.selector.range,o=this.getCell(t,e);if(o&&o.merge){const[r,a]=o.merge;if(t+r===i&&e+a===n)return!0}return!this.selector.multiple()}canUnmerge(){const{sri:t,sci:e,eri:i,eci:n}=this.selector.range,o=this.getCell(t,e);if(o&&o.merge){const[r,a]=o.merge;if(t+r===i&&e+a===n)return!0}return!1}merge(){const{selector:t,rows:e}=this;if(this.isSingleSelected())return;const[i,n]=t.size();if(i>1||n>1){const{sri:o,sci:r}=t.range;this.changeData(()=>{const a=e.getCellOrNew(o,r);a.merge=[i-1,n-1],this.merges.add(t.range),this.rows.deleteCells(t.range),this.rows.setCell(o,r,a)})}}unmerge(){const{selector:t}=this;if(!this.isSingleSelected())return;const{sri:e,sci:i}=t.range;this.changeData(()=>{this.rows.deleteCell(e,i,"merge"),this.merges.deleteWithin(t.range)})}canAutofilter(){return!this.autoFilter.active()}autofilter(){const{autoFilter:t,selector:e}=this;this.changeData(()=>{t.active()?(t.clear(),this.exceptRowSet=new Set,this.sortedRowMap=new Map,this.unsortedRowMap=new Map):t.ref=e.range.toString()})}setAutoFilter(t,e,i,n){const{autoFilter:o}=this;o.addFilter(t,i,n),o.setSort(t,e),this.resetAutoFilter()}resetAutoFilter(){const{autoFilter:t,rows:e}=this;if(!t.active())return;const{sort:i}=t,{rset:n,fset:o}=t.filteredRows((t,i)=>e.getCell(t,i)),r=Array.from(o),a=Array.from(o);i&&r.sort((t,e)=>"asc"===i.order?t-e:"desc"===i.order?e-t:0),this.exceptRowSet=n,this.sortedRowMap=new Map,this.unsortedRowMap=new Map,r.forEach((t,e)=>{this.sortedRowMap.set(a[e],t),this.unsortedRowMap.set(t,a[e])})}deleteCell(t="all"){const{selector:e}=this;this.changeData(()=>{this.rows.deleteCells(e.range,t),"all"!==t&&"format"!==t||this.merges.deleteWithin(e.range)})}insert(t,e=1){this.changeData(()=>{const{sri:i,sci:n}=this.selector.range,{rows:o,merges:r,cols:a}=this;let s=i;"row"===t?o.insert(i,e):"column"===t&&(o.insertColumn(n,e),s=n,a.len+=1),r.shift(t,s,e,(t,e,i,n)=>{const r=o.getCell(t,e);r.merge[0]+=i,r.merge[1]+=n})})}delete(t){this.changeData(()=>{const{rows:e,merges:i,selector:n,cols:o}=this,{range:r}=n,{sri:a,sci:s,eri:l,eci:p}=n.range,[d,c]=n.range.size();let h=a,u=d;"row"===t?e.delete(a,l):"column"===t&&(e.deleteColumn(s,p),h=r.sci,u=c,o.len-=p-s+1),i.shift(t,h,-u,(t,i,n,o)=>{const r=e.getCell(t,i);r.merge[0]+=n,r.merge[1]+=o,0===r.merge[0]&&0===r.merge[1]&&delete r.merge})})}scrollx(t,e){const{scroll:i,freeze:n,cols:o}=this,[,r]=n,[a,s,l]=W.rangeReduceIf(r,o.len,0,0,t,t=>o.getWidth(t));let p=s;t>0&&(p+=l),i.x!==p&&(i.ci=t>0?a:0,i.x=p,e())}scrolly(t,e){const{scroll:i,freeze:n,rows:o}=this,[r]=n,[a,s,l]=W.rangeReduceIf(r,o.len,0,0,t,t=>o.getHeight(t));let p=s;t>0&&(p+=l),i.y!==p&&(i.ri=t>0?a:0,i.y=p,e())}cellRect(t,e){const{rows:i,cols:n}=this,o=n.sumWidth(0,e),r=i.sumHeight(0,t),a=i.getCell(t,e);let s=n.getWidth(e),l=i.getHeight(t);if(null!==a&&a.merge){const[o,r]=a.merge;if(o>0)for(let e=1;e<=o;e+=1)l+=i.getHeight(t+e);if(r>0)for(let t=1;t<=r;t+=1)s+=n.getWidth(e+t)}return{left:o,top:r,width:s,height:l,cell:a}}getCell(t,e){return this.rows.getCell(t,e)}getCellTextOrDefault(t,e){const i=this.getCell(t,e);return i&&i.text?i.text:""}getCellStyle(t,e){const i=this.getCell(t,e);return i&&void 0!==i.style?this.styles[i.style]:null}getCellStyleOrDefault(t,e){const{styles:i,rows:n}=this,o=n.getCell(t,e),r=o&&void 0!==o.style?i[o.style]:{};return W.merge(this.defaultStyle(),r)}getSelectedCellStyle(){const{ri:t,ci:e}=this.selector;return this.getCellStyleOrDefault(t,e)}setCellText(t,e,i,n){const{rows:o,history:r,validations:a}=this;"finished"===n?(o.setCellText(t,e,""),r.add(this.getData()),o.setCellText(t,e,i)):(o.setCellText(t,e,i),this.change(this.getData())),a.validate(t,e,i)}freezeIsActive(){const[t,e]=this.freeze;return t>0||e>0}setFreeze(t,e){this.changeData(()=>{this.freeze=[t,e]})}freezeTotalWidth(){return this.cols.sumWidth(0,this.freeze[1])}freezeTotalHeight(){return this.rows.sumHeight(0,this.freeze[0])}setRowHeight(t,e){this.changeData(()=>{this.rows.setHeight(t,e)})}setColWidth(t,e){this.changeData(()=>{this.cols.setWidth(t,e)})}viewHeight(){const{view:t,showToolbar:e,showBottomBar:i}=this.settings;let n=t.height();return i&&(n-=Y),e&&(n-=G),n}viewWidth(){return this.settings.view.width()}freezeViewRange(){const[t,e]=this.freeze;return new y(0,0,t-1,e-1,this.freezeTotalWidth(),this.freezeTotalHeight())}contentRange(){const{rows:t,cols:e}=this,[i,n]=t.maxCell(),o=t.sumHeight(0,i+1),r=e.sumWidth(0,n+1);return new y(0,0,i,n,r,o)}exceptRowTotalHeight(t,e){const{exceptRowSet:i,rows:n}=this,o=Array.from(i);let r=0;return o.forEach(i=>{if(i<t||i>e){const t=n.getHeight(i);r+=t}}),r}viewRange(){const{scroll:t,rows:e,cols:i,freeze:n,exceptRowSet:o}=this;let{ri:r,ci:a}=t;r<=0&&([r]=n),a<=0&&([,a]=n);let[s,l]=[0,0],[p,d]=[e.len,i.len];for(let c=r;c<e.len;c+=1)if(o.has(c)||(l+=e.getHeight(c),p=c),l>this.viewHeight())break;for(let c=a;c<i.len;c+=1)if(s+=i.getWidth(c),d=c,s>this.viewWidth())break;return new y(r,a,p,d,s,l)}eachMergesInView(t,e){this.merges.filterIntersects(t).forEach(t=>e(t))}hideRowsOrCols(){const{rows:t,cols:e,selector:i}=this,[n,o]=i.size(),{sri:r,sci:a,eri:s,eci:l}=i.range;if(n===t.len)for(let p=a;p<=l;p+=1)e.setHide(p,!0);else if(o===e.len)for(let p=r;p<=s;p+=1)t.setHide(p,!0)}unhideRowsOrCols(t,e){this[`${t}s`].unhide(e)}rowEach(t,e,i){let n=0;const{rows:o}=this,r=this.exceptRowSet,a=[...r];let s=0;for(let l=0;l<a.length;l+=1)a[l]<t&&(s+=1);for(let l=t+s;l<=e+s;l+=1)if(r.has(l))s+=1;else{const t=o.getHeight(l);if(t>0&&(i(l,n,t),n+=t,n>this.viewHeight()))break}}colEach(t,e,i){let n=0;const{cols:o}=this;for(let r=t;r<=e;r+=1){const t=o.getWidth(r);if(t>0&&(i(r,n,t),n+=t,n>this.viewWidth()))break}}defaultStyle(){return this.settings.style}addStyle(t){const{styles:e}=this;for(let i=0;i<e.length;i+=1){const n=e[i];if(W.equals(n,t))return i}return e.push(t),e.length-1}changeData(t){this.history.add(this.getData()),t(),this.change(this.getData())}setData(t){return Object.keys(t).forEach(e=>{if("merges"===e||"rows"===e||"cols"===e||"validations"===e)this[e].setData(t[e]);else if("freeze"===e){const[i,n]=m(t[e]);this.freeze=[n,i]}else"autofilter"===e?this.autoFilter.setData(t[e]):void 0!==t[e]&&(this[e]=t[e])}),this}getData(){const{name:t,freeze:e,styles:i,merges:n,rows:o,cols:r,validations:a,autoFilter:s}=this;return{name:t,freeze:_(e[1],e[0]),styles:i,merges:n.getData(),rows:o.getData(),cols:r.getData(),validations:a.getData(),autofilter:s.getData()}}}const ot="x-spreadsheet";window.devicePixelRatio;i(81148),i(18237),i(13579);const rt=[{key:"SUM",title:c("formula.sum"),render:t=>t.reduce((t,e)=>F("+",t,e),0)},{key:"AVERAGE",title:c("formula.average"),render:t=>t.reduce((t,e)=>Number(t)+Number(e),0)/t.length},{key:"MAX",title:c("formula.max"),render:t=>Math.max(...t.map(t=>Number(t)))},{key:"MIN",title:c("formula.min"),render:t=>Math.min(...t.map(t=>Number(t)))},{key:"IF",title:c("formula._if"),render:([t,e,i])=>t?e:i},{key:"AND",title:c("formula.and"),render:t=>t.every(t=>t)},{key:"OR",title:c("formula.or"),render:t=>t.some(t=>t)},{key:"CONCAT",title:c("formula.concat"),render:t=>t.join("")}],at=rt,st={};rt.forEach(t=>{st[t.key]=t});function lt(t,e,i){t.addEventListener(e,i)}function pt(t,e,i){t.removeEventListener(e,i)}function dt(t){t.xclickoutside&&(pt(window.document.body,"click",t.xclickoutside),delete t.xclickoutside)}function ct(t,e){t.xclickoutside=i=>{2===i.detail||t.contains(i.target)||(e?e(t):(t.hide(),dt(t)))},lt(window.document.body,"click",t.xclickoutside)}function ht(t,e,i){lt(t,"mousemove",e);const n=t;n.xEvtUp=n=>{pt(t,"mousemove",e),pt(t,"mouseup",t.xEvtUp),i(n)},lt(t,"mouseup",t.xEvtUp)}function ut(t,e,i,n){let o="";Math.abs(t)>Math.abs(e)?(o=t>0?"right":"left",n(o,t,i)):(o=e>0?"down":"up",n(o,e,i))}function ft(t,{move:e,end:i}){let n=0,o=0;lt(t,"touchstart",t=>{const{pageX:e,pageY:i}=t.touches[0];n=e,o=i}),lt(t,"touchmove",t=>{if(!e)return;const{pageX:i,pageY:r}=t.changedTouches[0],a=i-n,s=r-o;(Math.abs(a)>10||Math.abs(s)>10)&&(ut(a,s,t,e),n=i,o=r),t.preventDefault()}),lt(t,"touchend",t=>{if(!i)return;const{pageX:e,pageY:r}=t.changedTouches[0],a=e-n,s=r-o;ut(a,s,t,i)})}function gt(){const t=new Map;function e(e,i){const n=()=>{const n=t.get(e);return Array.isArray(n)&&n.push(i)||!1},o=()=>t.set(e,[].concat(i));return t.has(e)&&n()||o()}function i(e,i){const n=()=>{const n=t.get(e);for(const t of n)t.call(null,...i)};return t.has(e)&&n()}function n(e,i){const n=()=>{const n=t.get(e),o=n.indexOf(i);return o>=0&&n.splice(o,1)&&0===t.get(e).length&&t.delete(e)};return t.has(e)&&n()}function o(t,i){const o=(...e)=>{i.call(null,...e),n(t,o)};return e(t,o)}function r(){t.clear()}return{get current(){return t},on:e,once:o,fire:i,removeListener:n,removeAllListeners:r}}class mt{constructor(t=!1,e){this.moving=!1,this.vertical=t,this.el=r("div",`${ot}-resizer ${t?"vertical":"horizontal"}`).children(this.unhideHoverEl=r("div",`${ot}-resizer-hover`).on("dblclick.stop",t=>this.mousedblclickHandler(t)).css("position","absolute").hide(),this.hoverEl=r("div",`${ot}-resizer-hover`).on("mousedown.stop",t=>this.mousedownHandler(t)),this.lineEl=r("div",`${ot}-resizer-line`).hide()).hide(),this.cRect=null,this.finishedFn=null,this.minDistance=e,this.unhideFn=()=>{console.log("empty function")}}showUnhide(t){this.unhideIndex=t,this.unhideHoverEl.show()}hideUnhide(){this.unhideHoverEl.hide()}show(t,e){const{moving:i,vertical:n,hoverEl:o,lineEl:r,el:a,unhideHoverEl:s}=this;if(i)return;this.cRect=t;const{left:l,top:p,width:d,height:c}=t;a.offset({left:n?l+d-5:l,top:n?p:p+c-5}).show(),o.offset({width:n?5:d,height:n?c:5}),r.offset({width:n?0:e.width,height:n?e.height:0}),s.offset({left:n?5-d:l,top:n?p:5-c,width:n?5:d,height:n?c:5})}hide(){this.el.offset({left:0,top:0}).hide(),this.hideUnhide()}mousedblclickHandler(){this.unhideIndex&&this.unhideFn(this.unhideIndex)}mousedownHandler(t){let e=t;const{el:i,lineEl:n,cRect:o,vertical:r,minDistance:a}=this;let s=r?o.width:o.height;n.show(),ht(window,t=>{this.moving=!0,null!==e&&1===t.buttons&&(r?(s+=t.movementX,s>a&&i.css("left",`${o.left+s}px`)):(s+=t.movementY,s>a&&i.css("top",`${o.top+s}px`)),e=t)},()=>{e=null,n.hide(),this.moving=!1,this.hide(),this.finishedFn&&(s<a&&(s=a),this.finishedFn(o,s))})}}class _t{constructor(t){this.vertical=t,this.moveFn=null,this.el=r("div",`${ot}-scrollbar ${t?"vertical":"horizontal"}`).child(this.contentEl=r("div","")).on("mousemove.stop",()=>{console.log("mousemove.stop")}).on("scroll.stop",t=>{const{scrollTop:e,scrollLeft:i}=t.target;this.moveFn&&this.moveFn(this.vertical?e:i,t)})}move(t){return this.el.scroll(t),this}scroll(){return this.el.scroll()}set(t,e){const i=t-1;if(e>i){const t=this.vertical?"height":"width";this.el.css(t,i-15+"px").show(),this.contentEl.css(this.vertical?"width":"height","1px").css(t,`${e}px`)}else this.el.hide();return this}}const vt=3;let yt=10;class bt{constructor(t=!1,e=!0){this.useHideInput=t,this.autoFocus=e,this.inputChange=()=>{console.log("empty function")},this.cornerEl=r("div",`${ot}-selector-corner`),this.areaEl=r("div",`${ot}-selector-area`).child(this.cornerEl).hide(),this.clipboardEl=r("div",`${ot}-selector-clipboard`).hide(),this.autofillEl=r("div",`${ot}-selector-autofill`).hide(),this.el=r("div",`${ot}-selector`).css("z-index",`${yt}`).children(this.areaEl,this.clipboardEl,this.autofillEl).hide(),t&&(this.hideInput=r("input","").on("compositionend",t=>{this.inputChange(t.target.value)}),this.el.child(this.hideInputDiv=r("div","hide-input").child(this.hideInput)),this.el.child(this.hideInputDiv=r("div","hide-input").child(this.hideInput))),yt+=1}setOffset(t){return this.el.offset(t).show(),this}hide(){return this.el.hide(),this}setAreaOffset(t){const{left:e,top:i,width:n,height:o}=t,r={width:n-vt+.8,height:o-vt+.8,left:e-.8,top:i-.8};this.areaEl.offset(r).show(),this.useHideInput&&(this.hideInputDiv.offset(r),this.autoFocus?this.hideInput.val("").focus():this.hideInput.val(""))}setClipboardOffset(t){const{left:e,top:i,width:n,height:o}=t;this.clipboardEl.offset({left:e,top:i,width:n-5,height:o-5})}showAutofill(t){const{left:e,top:i,width:n,height:o}=t;this.autofillEl.offset({width:n-vt,height:o-vt,left:e,top:i}).show()}hideAutofill(){this.autofillEl.hide()}showClipboard(){this.clipboardEl.show()}hideClipboard(){this.clipboardEl.hide()}}function Et(t){const{data:e}=this,{left:i,top:n,width:o,height:r,scroll:a,l:s,t:l}=t,p=e.freezeTotalWidth(),d=e.freezeTotalHeight();let c=i-p;p>s&&(c-=a.x);let h=n-d;return d>l&&(h-=a.y),{left:c,top:h,width:o,height:r}}function wt(t){const{data:e}=this,{left:i,width:n,height:o,l:r,t:a,scroll:s}=t,l=e.freezeTotalWidth();let p=i-l;return l>r&&(p-=s.x),{left:p,top:a,width:n,height:o}}function Pt(t){const{data:e}=this,{top:i,width:n,height:o,l:r,t:a,scroll:s}=t,l=e.freezeTotalHeight();let p=i-l;return l>a&&(p-=s.y),{left:r,top:p,width:n,height:o}}function Tt(t){const{br:e}=this;e.setAreaOffset(Et.call(this,t))}function Ct(t){const{tl:e}=this;e.setAreaOffset(t)}function xt(t){const{t:e}=this;e.setAreaOffset(wt.call(this,t))}function Ot(t){const{l:e}=this;e.setAreaOffset(Pt.call(this,t))}function Dt(t){const{l:e}=this;e.setClipboardOffset(Pt.call(this,t))}function Mt(t){const{br:e}=this;e.setClipboardOffset(Et.call(this,t))}function It(t){const{tl:e}=this;e.setClipboardOffset(t)}function Rt(t){const{t:e}=this;e.setClipboardOffset(wt.call(this,t))}function St(t){Tt.call(this,t),Ct.call(this,t),xt.call(this,t),Ot.call(this,t)}function Bt(t){Mt.call(this,t),It.call(this,t),Rt.call(this,t),Dt.call(this,t)}class At{constructor(t){const{autoFocus:e}=t.settings;this.inputChange=()=>{console.log("empty function")},this.data=t,this.br=new bt(!0,e),this.t=new bt,this.l=new bt,this.tl=new bt,this.br.inputChange=t=>{this.inputChange(t)},this.br.el.show(),this.offset=null,this.areaOffset=null,this.indexes=null,this.range=null,this.arange=null,this.el=r("div",`${ot}-selectors`).children(this.tl.el,this.t.el,this.l.el,this.br.el).hide(),this.lastri=-1,this.lastci=-1,yt+=1}resetData(t){this.data=t,this.range=t.selector.range,this.resetAreaOffset()}hide(){this.el.hide()}resetOffset(){const{data:t,tl:e,t:i,l:n,br:o}=this,r=t.freezeTotalHeight(),a=t.freezeTotalWidth();r>0||a>0?(e.setOffset({width:a,height:r}),i.setOffset({left:a,height:r}),n.setOffset({top:r,width:a}),o.setOffset({left:a,top:r})):(e.hide(),i.hide(),n.hide(),o.setOffset({left:0,top:0}))}resetAreaOffset(){const t=this.data.getSelectedRect(),e=this.data.getClipboardRect();St.call(this,t),Bt.call(this,e),this.resetOffset()}resetBRTAreaOffset(){const t=this.data.getSelectedRect(),e=this.data.getClipboardRect();Tt.call(this,t),xt.call(this,t),Mt.call(this,e),Rt.call(this,e),this.resetOffset()}resetBRLAreaOffset(){const t=this.data.getSelectedRect(),e=this.data.getClipboardRect();Tt.call(this,t),Ot.call(this,t),Mt.call(this,e),Dt.call(this,e),this.resetOffset()}set(t,e,i=!0){const{data:n}=this,o=n.calSelectedRangeByStart(t,e),{sri:r,sci:a}=o;if(i){let[i,o]=[t,e];t<0&&(i=0),e<0&&(o=0),n.selector.setIndexes(i,o),this.indexes=[i,o]}this.moveIndexes=[r,a],this.range=o,this.resetAreaOffset(),this.el.show()}setEnd(t,e,i=!0){const{data:n,lastri:o,lastci:r}=this;if(i){if(t===o&&e===r)return;this.lastri=t,this.lastci=e}this.range=n.calSelectedRangeByEnd(t,e),St.call(this,this.data.getSelectedRect())}reset(){const{eri:t,eci:e}=this.data.selector.range;this.setEnd(t,e)}showAutofill(t,e){if(-1===t&&-1===e)return;const{sri:i,sci:n,eri:o,eci:r}=this.range,[a,s]=[t,e],l=i-t,p=n-e,d=o-t,c=r-e;if(p>0)this.arange=new y(i,s,o,n-1);else if(l>0)this.arange=new y(a,n,i-1,r);else if(c<0)this.arange=new y(i,r+1,o,s);else{if(!(d<0))return void(this.arange=null);this.arange=new y(o+1,n,a,r)}if(null!==this.arange){const t=this.data.getRect(this.arange);t.width+=2,t.height+=2;const{br:e,l:i,t:n,tl:o}=this;e.showAutofill(Et.call(this,t)),i.showAutofill(Pt.call(this,t)),n.showAutofill(wt.call(this,t)),o.showAutofill(t)}}hideAutofill(){["br","l","t","tl"].forEach(t=>{this[t].hideAutofill()})}showClipboard(){const t=this.data.getClipboardRect();Bt.call(this,t),["br","l","t","tl"].forEach(t=>{this[t].showClipboard()})}hideClipboard(){["br","l","t","tl"].forEach(t=>{this[t].hideClipboard()})}}function Lt(t){t.preventDefault(),t.stopPropagation();const{filterItems:e}=this;e.length<=0||(this.itemIndex>=0&&e[this.itemIndex].toggle(),this.itemIndex-=1,this.itemIndex<0&&(this.itemIndex=e.length-1),e[this.itemIndex].toggle())}function kt(t){t.stopPropagation();const{filterItems:e}=this;e.length<=0||(this.itemIndex>=0&&e[this.itemIndex].toggle(),this.itemIndex+=1,this.itemIndex>e.length-1&&(this.itemIndex=0),e[this.itemIndex].toggle())}function Ht(t){t.preventDefault();const{filterItems:e}=this;e.length<=0||(t.stopPropagation(),this.itemIndex<0&&(this.itemIndex=0),e[this.itemIndex].el.click(),this.hide())}function Ft(t){const{keyCode:e}=t;switch(t.ctrlKey&&t.stopPropagation(),e){case 37:t.stopPropagation();break;case 38:Lt.call(this,t);break;case 39:t.stopPropagation();break;case 40:kt.call(this,t);break;case 13:Ht.call(this,t);break;case 9:Ht.call(this,t);break;default:t.stopPropagation();break}}class Wt{constructor(t,e,i="200px"){this.filterItems=[],this.items=t,this.el=r("div",`${ot}-suggest`).css("width",i).hide(),this.itemClick=e,this.itemIndex=-1}setOffset(t){this.el.cssRemoveKeys("top","bottom").offset(t)}hide(){const{el:t}=this;this.filterItems=[],this.itemIndex=-1,t.hide(),dt(this.el.parent())}setItems(t){this.items=t}search(t){let{items:e}=this;if(/^\s*$/.test(t)||(e=e.filter(e=>(e.key||e).startsWith(t.toUpperCase()))),e=e.map(t=>{let{title:e}=t;e?"function"===typeof e&&(e=e()):e=t;const i=r("div",`${ot}-item`).child(e).on("click.stop",()=>{this.itemClick(t),this.hide()});return t.label&&i.child(r("div","label").html(t.label)),i}),this.filterItems=e,e.length<=0)return;const{el:i}=this;i.html("").children(...e).show(),ct(i.parent(),()=>{this.hide()})}bindInputEvents(t){t.on("keydown",t=>Ft.call(this,t))}}function jt(){const{inputText:t}=this;if(!/^\s*$/.test(t)){const{textlineEl:e,textEl:i,areaOffset:n}=this,o=t.split("\n"),r=Math.max(...o.map(t=>t.length)),a=e.offset(),s=a.width/t.length,l=(r+1)*s+5,p=this.viewFn().width-n.left-s;let d=o.length;if(l>n.width){let t=l;l>p&&(t=p,d+=parseInt(l/p,10),d+=l%p>0?1:0),i.css("width",`${t}px`)}d*=this.rowHeight,d>n.height&&i.css("height",`${d}px`)}}function Ut({target:t},e){const{value:i,selectionEnd:n}=t,o=`${i.slice(0,n)}${e}${i.slice(n)}`;t.value=o,t.setSelectionRange(n+1,n+1),this.inputText=o,this.textlineEl.html(o),jt.call(this)}function $t(t){const{keyCode:e,altKey:i}=t;13!==e&&9!==e&&t.stopPropagation(),13===e&&i&&(Ut.call(this,t,"\n"),t.stopPropagation()),13!==e||i||t.preventDefault()}function zt(t){const e=t.target.value,{suggest:i,textlineEl:n,validator:o}=this,{cell:r}=this;if(null!==r)if("editable"in r&&!0===r.editable||void 0===r.editable){if(this.inputText=e,o)"list"===o.type?i.search(e):i.hide();else{const t=e.lastIndexOf("=");-1!==t?i.search(e.substring(t+1)):i.hide()}n.html(e),jt.call(this),this.change("input",e)}else t.target.value=r.text||"";else{if(this.inputText=e,o)"list"===o.type?i.search(e):i.hide();else{const t=e.lastIndexOf("=");-1!==t?i.search(e.substring(t+1)):i.hide()}n.html(e),jt.call(this),this.change("input",e)}}function Kt(t){const{el:e}=this.textEl;setTimeout(()=>{e.focus(),e.setSelectionRange(t,t)},0)}function qt(t,e){const{textEl:i,textlineEl:n}=this;i.el.blur(),i.val(t),n.html(t),Kt.call(this,e)}function Nt(t){const{inputText:e,validator:i}=this;let n=0;if(i&&"list"===i.type)this.inputText=t,n=this.inputText.length;else{const i=e.lastIndexOf("="),o=e.substring(0,i+1);let r=e.substring(i+1);r=-1!==r.indexOf(")")?r.substring(r.indexOf(")")):"",this.inputText=`${o+t.key}(`,n=this.inputText.length,this.inputText+=`)${r}`}qt.call(this,this.inputText,n)}function Vt(){this.suggest.setItems(this.formulas)}class Gt{constructor(t,e,i){this.viewFn=e,this.rowHeight=i,this.formulas=t,this.suggest=new Wt(t,t=>{Nt.call(this,t)}),this.areaEl=r("div",`${ot}-editor-area`).children(this.textEl=r("textarea","").on("input",t=>zt.call(this,t)).on("paste.stop",()=>{console.log("empty function")}).on("keydown",t=>$t.call(this,t)),this.textlineEl=r("div","textline"),this.suggest.el).on("mousemove.stop",()=>{console.log("empty function")}).on("mousedown.stop",()=>{console.log("empty function")}),this.el=r("div",`${ot}-editor`).child(this.areaEl).hide(),this.suggest.bindInputEvents(this.textEl),this.areaOffset=null,this.freeze={w:0,h:0},this.cell=null,this.inputText="",this.change=()=>{console.log("empty function")}}setFreezeLengths(t,e){this.freeze.w=t,this.freeze.h=e}clear(){""!==this.inputText&&this.change("finished",this.inputText),this.cell=null,this.areaOffset=null,this.inputText="",this.el.hide(),this.textEl.val(""),this.textlineEl.html(""),Vt.call(this)}setOffset(t,e="top"){const{textEl:i,areaEl:n,suggest:o,freeze:r,el:a}=this;if(t){this.areaOffset=t;const{left:s,top:l,width:p,height:d,l:c,t:h}=t,u={left:0,top:0};r.w>c&&r.h>h||(r.w<c&&r.h<h?(u.left=r.w,u.top=r.h):r.w>c?u.top=r.h:r.h>h&&(u.left=r.w)),a.offset(u),n.offset({left:s-u.left-.8,top:l-u.top-.8}),i.offset({width:p-9+.8,height:d-3+.8});const f={left:0};f[e]=d,o.setOffset(f),o.hide()}}setCell(t,e){if(t&&!1===t.editable)return;const{el:i,datepicker:n,suggest:o}=this;i.show(),this.cell=t;const r=t&&t.text||"";if(this.setText(r),this.validator=e,e){const{type:t}=e;"date"===t&&(/^\s*$/.test(r)||n.setValue(r)),"list"===t&&(o.setItems(e.values()),o.search(""))}}setText(t){this.inputText=t,qt.call(this,t,t.length),jt.call(this)}}const Yt=new Map;function Xt(){return window.devicePixelRatio||1}function Jt(){return Xt()-.5}function Qt(t){return parseInt(t*Xt(),10)}function Zt(t){const e=Qt(t);return e>0?e-.5:.5}class te{constructor(t,e,i,n,o=0){this.x=t,this.y=e,this.width=i,this.height=n,this.padding=o,this.bgcolor="#ffffff",this.borderTop=null,this.borderRight=null,this.borderBottom=null,this.borderLeft=null}setBorders({top:t,bottom:e,left:i,right:n}){t&&(this.borderTop=t),n&&(this.borderRight=n),e&&(this.borderBottom=e),i&&(this.borderLeft=i)}innerWidth(){return this.width-2*this.padding-2}innerHeight(){return this.height-2*this.padding-2}textx(t){const{width:e,padding:i}=this;let{x:n}=this;return"left"===t?n+=i:"center"===t?n+=e/2:"right"===t&&(n+=e-i),n}texty(t,e){const{height:i,padding:n}=this;let{y:o}=this;return"top"===t?o+=n:"middle"===t?o+=i/2-e/2:"bottom"===t&&(o+=i-n-e),o}topxys(){const{x:t,y:e,width:i}=this;return[[t,e],[t+i,e]]}rightxys(){const{x:t,y:e,width:i,height:n}=this;return[[t+i,e],[t+i,e+n]]}bottomxys(){const{x:t,y:e,width:i,height:n}=this;return[[t,e+n],[t+i,e+n]]}leftxys(){const{x:t,y:e,height:i}=this;return[[t,e],[t,e+i]]}}function ee(t,e,i,n,o,r,a){const s={x:0,y:0};"underline"===t?s.y="bottom"===o?0:"top"===o?-(r+2):-r/2:"strike"===t&&("bottom"===o?s.y=r/2:"top"===o&&(s.y=-(r/2+2))),"center"===n?s.x=a/2:"right"===n&&(s.x=a),this.line([e-s.x,i-s.y],[e-s.x+a,i-s.y])}class ie{constructor(t,e,i){this.el=t,this.ctx=t.getContext("2d"),this.resize(e,i),this.ctx.scale(Xt(),Xt())}resize(t,e){this.el.style.width=`${t}px`,this.el.style.height=`${e}px`,this.el.width=Qt(t),this.el.height=Qt(e)}clear(){const{width:t,height:e}=this.el;return this.ctx.clearRect(0,0,t,e),this}attr(t){return Object.assign(this.ctx,t),this}save(){return this.ctx.save(),this.ctx.beginPath(),this}restore(){return this.ctx.restore(),this}beginPath(){return this.ctx.beginPath(),this}translate(t,e){return this.ctx.translate(Qt(t),Qt(e)),this}scale(t,e){return this.ctx.scale(t,e),this}clearRect(t,e,i,n){return this.ctx.clearRect(t,e,i,n),this}fillRect(t,e,i,n){return this.ctx.fillRect(Qt(t)-.5,Qt(e)-.5,Qt(i),Qt(n)),this}fillText(t,e,i){return this.ctx.fillText(t,Qt(e),Qt(i)),this}fillImage(t,{value:e},{fixedIndexWidth:i,fixedIndexHeight:n},o,r){if(!r.imagewidth)return;""!=r.value&&void 0!=r.value||Yt.forEach((t,e)=>{t[0]===r.scaledWidth&&t[1]===r.scaledHeight&&Yt.delete(e)});const a=r.top,s=r.left,{x:l,y:p,width:d,height:c}=t,h=new Image;return h.src=e,h.onload=()=>{this.ctx.save();let t=l+i,e=p+n;o&&(t=t-o.scroll.x+0,e=e-o.scroll.y+0);const u=r.imagewidth,f=r.imageheight,g=c-2,m=d,_=c;let v=m/u,y=_/f;Math.min(v,y);Yt.has(h.src)&&(0!=Yt.get(h.src)[2]||0!=Yt.get(h.src)[3])?a==p-o.scroll.y&&s==l-o.scroll.x&&(this.ctx.drawImage(h,Qt(t),Qt(e),Qt(u),Qt(g)),this.ctx.restore()):(this.ctx.drawImage(h,Qt(t),Qt(e),Qt(u),Qt(g)),this.ctx.restore())},this}async geometry(t,e,{fixedIndexWidth:i,fixedIndexHeight:n},o,r,a){const{type:s}=t;switch(s){case"image":await this.fillImage(e,t,{fixedIndexWidth:i,fixedIndexHeight:n},r,a);break;default:}return this}text(t,e,i={},n=!0){const{ctx:o}=this,{align:r,valign:a,font:s,color:l,strike:p,underline:d}=i,c=e.textx(r);o.save(),o.beginPath(),this.attr({textAlign:r,textBaseline:a,font:`${s.italic?"italic":""} ${s.bold?"bold":""} ${Qt(s.size)}px ${s.name}`,fillStyle:l,strokeStyle:l});const h=`${t}`.split("\n"),u=e.innerWidth(),f=[];h.forEach(t=>{const e=o.measureText(t).width;if(n&&e>Qt(u)){let e={w:0,len:0,start:0};for(let i=0;i<t.length;i+=1)e.w>=Qt(u)&&(f.push(t.substr(e.start,e.len)),e={w:0,len:0,start:i}),e.len+=1,e.w+=o.measureText(t[i]).width+1;e.len>0&&f.push(t.substr(e.start,e.len))}else f.push(t)});const g=(f.length-1)*(s.size+2);let m=e.texty(a,g);return f.forEach(t=>{const e=o.measureText(t).width;this.fillText(t,c,m),p&&ee.call(this,"strike",c,m,r,a,s.size,e),d&&ee.call(this,"underline",c,m,r,a,s.size,e),m+=s.size+2}),o.restore(),this}border(t,e){const{ctx:i}=this;return i.lineWidth=Jt,i.strokeStyle=e,"medium"===t?i.lineWidth=Qt(2)-.5:"thick"===t?i.lineWidth=Qt(3):"dashed"===t?i.setLineDash([Qt(3),Qt(2)]):"dotted"===t?i.setLineDash([Qt(1),Qt(1)]):"double"===t&&i.setLineDash([Qt(2),0]),this}line(...t){const{ctx:e}=this;if(t.length>1){e.beginPath();const[i,n]=t[0];e.moveTo(Zt(i),Zt(n));for(let o=1;o<t.length;o+=1){const[i,n]=t[o];e.lineTo(Zt(i),Zt(n))}e.stroke()}return this}strokeBorders(t){const{ctx:e}=this;e.save();const{borderTop:i,borderRight:n,borderBottom:o,borderLeft:r}=t;i&&(this.border(...i),this.line(...t.topxys())),n&&(this.border(...n),this.line(...t.rightxys())),o&&(this.border(...o),this.line(...t.bottomxys())),r&&(this.border(...r),this.line(...t.leftxys())),e.restore()}dropdown(t){const{ctx:e}=this,{x:i,y:n,width:o,height:r}=t,a=i+o-15,s=n+r-15;e.save(),e.beginPath(),e.moveTo(Qt(a),Qt(s)),e.lineTo(Qt(a+8),Qt(s)),e.lineTo(Qt(a+4),Qt(s+6)),e.closePath(),e.fillStyle="rgba(0, 0, 0, .45)",e.fill(),e.restore()}error(t){const{ctx:e}=this,{x:i,y:n,width:o}=t,r=i+o-1;e.save(),e.beginPath(),e.moveTo(Qt(r-8),Qt(n-1)),e.lineTo(Qt(r),Qt(n-1)),e.lineTo(Qt(r),Qt(n+8)),e.closePath(),e.fillStyle="rgba(255, 0, 0, .65)",e.fill(),e.restore()}frozen(t){const{ctx:e}=this,{x:i,y:n,width:o}=t,r=i+o-1;e.save(),e.beginPath(),e.moveTo(Qt(r-8),Qt(n-1)),e.lineTo(Qt(r),Qt(n-1)),e.lineTo(Qt(r),Qt(n+8)),e.closePath(),e.fillStyle="rgba(0, 255, 0, .85)",e.fill(),e.restore()}rect(t,e){const{ctx:i}=this,{x:n,y:o,width:r,height:a,bgcolor:s}=t;i.save(),i.beginPath(),i.fillStyle=s||"#fff",i.rect(Zt(n+1),Zt(o+1),Qt(r-2),Qt(a-2)),i.clip(),i.fill(),e(),i.restore()}}class ne extends o{constructor(t,e=""){super("div",`${ot}-button ${e}`),this.child(d(`button.${t}`))}}const oe=[{key:"Arial",title:"Arial"},{key:"Helvetica",title:"Helvetica"},{key:"Source Sans Pro",title:"Source Sans Pro"},{key:"Comic Sans MS",title:"Comic Sans MS"},{key:"Courier New",title:"Courier New"},{key:"Verdana",title:"Verdana"},{key:"Lato",title:"Lato"}],re=[{pt:7.5,px:10},{pt:8,px:11},{pt:9,px:12},{pt:10,px:13},{pt:10.5,px:14},{pt:11,px:15},{pt:12,px:16},{pt:14,px:18.7},{pt:15,px:20},{pt:16,px:21.3},{pt:18,px:24},{pt:22,px:29.3},{pt:24,px:32},{pt:26,px:34.7},{pt:36,px:48},{pt:42,px:56}];function ae(t){for(let e=0;e<re.length;e+=1){const i=re[e];if(i.pt===t)return i.px}return t}const se=t=>{const e=[],i=[];let n=[],o=0,r="",a=1,s="";for(let p=0;p<t.length;p+=1){const d=t.charAt(p);if(" "!==d){if(d>="a"&&d<="z")n.push(d.toUpperCase());else if(d>="0"&&d<="9"||d>="A"&&d<="Z"||"."===d)n.push(d);else if('"'===d){p+=1;while('"'!==t.charAt(p))n.push(t.charAt(p)),p+=1;i.push(`"${n.join("")}`),n=[]}else if("-"===d&&/[+\-*/,(]/.test(s))n.push(d);else{if("("!==d&&n.length>0&&i.push(n.join("")),")"===d){let t=e.pop();if(2===o)try{const[e,n]=m(i.pop()),[o,r]=m(i.pop());let a=0;for(let t=o;t<=e;t+=1)for(let e=r;e<=n;e+=1)i.push(_(t,e)),a+=1;i.push([t,a])}catch(l){}else if(1===o||3===o)3===o&&i.push(r),i.push([t,a]),a=1;else while("("!==t){if(i.push(t),e.length<=0)break;t=e.pop()}o=0}else if("="===d||">"===d||"<"===d){const e=t.charAt(p+1);r=d,"="!==e&&"-"!==e||(r+=e,p+=1),o=3}else if(":"===d)o=2;else if(","===d)3===o&&i.push(r),o=1,a+=1;else if("("===d&&n.length>0)e.push(n.join(""));else{if(e.length>0&&("+"===d||"-"===d)){let t=e[e.length-1];if("("!==t&&i.push(e.pop()),"*"===t||"/"===t)while(e.length>0){if(t=e[e.length-1],"("===t)break;i.push(e.pop())}}else if(e.length>0){const t=e[e.length-1];"*"!==t&&"/"!==t||i.push(e.pop())}e.push(d)}n=[]}s=d}}n.length>0&&i.push(n.join(""));while(e.length>0)i.push(e.pop());return i},le=(t,e)=>{const[i]=t;let n=t;if('"'===i)return t.substring(1);let o=1;if("-"===i&&(n=t.substring(1),o=-1),n[0]>="0"&&n[0]<="9")return o*Number(n);const[r,a]=m(n);return o*e(r,a)},pe=(t,e,i,n)=>{const o=[];for(let r=0;r<t.length;r+=1){const a=t[r],s=a[0];if("+"===a){const t=o.pop();o.push(F("+",o.pop(),t))}else if("-"===a)if(1===o.length){const t=o.pop();o.push(F("*",t,-1))}else{const t=o.pop();o.push(F("-",o.pop(),t))}else if("*"===a)o.push(F("*",o.pop(),o.pop()));else if("/"===a){const t=o.pop();o.push(F("/",o.pop(),t))}else if("="===s||">"===s||"<"===s){let t=o.pop();Number.isNaN(t)||(t=Number(t));let e=o.pop();Number.isNaN(e)||(e=Number(e));let i=!1;"="===s?i=e===t:">"===a?i=e>t:">="===a?i=e>=t:"<"===a?i=e<t:"<="===a&&(i=e<=t),o.push(i)}else if(Array.isArray(a)){const[t,i]=a,n=[];for(let e=0;e<i;e+=1)n.push(o.pop());o.push(e[t].render(n.reverse()))}else{if(n.includes(a))return 0;(s>="a"&&s<="z"||s>="A"&&s<="Z")&&n.push(a),o.push(le(a,i)),n.pop()}}return o[0]},de=(t,e,i,n=[])=>{if("="===t[0]){const o=se(t.substring(1));return o.length<=0?t:pe(o,e,(t,o)=>de(i(t,o),e,i,n),n)}return t};var ce={render:de};const he=t=>t,ue=t=>{if(/^(-?\d*.?\d*)$/.test(t)){const e=Number(t).toFixed(2).toString(),[i,...n]=e.split("\\.");return[i.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),...n]}return t},fe=[{key:"normal",title:c("format.normal"),type:"string",render:he},{key:"text",title:c("format.text"),type:"string",render:he},{key:"number",title:c("format.number"),type:"number",label:"1,000.12",render:ue},{key:"percent",title:c("format.percent"),type:"number",label:"10.12%",render:t=>`${t}%`},{key:"rmb",title:c("format.rmb"),type:"number",label:"￥10.00",render:t=>`￥${ue(t)}`},{key:"usd",title:c("format.usd"),type:"number",label:"$10.00",render:t=>`$${ue(t)}`},{key:"eur",title:c("format.eur"),type:"number",label:"€10.00",render:t=>`€${ue(t)}`},{key:"date",title:c("format.date"),type:"date",label:"26/09/2008",render:he},{key:"time",title:c("format.time"),type:"date",label:"15:59:00",render:he},{key:"datetime",title:c("format.datetime"),type:"date",label:"26/09/2008 15:59:00",render:he},{key:"duration",title:c("format.duration"),type:"date",label:"24:01:00",render:he}],ge={};fe.forEach(t=>{ge[t.key]=t});const me=5,_e={fillStyle:"#fff"},ve={fillStyle:"#fff",lineWidth:Jt,strokeStyle:"#e6e6e6"};function ye(){return{textAlign:"center",textBaseline:"middle",font:`500 ${Qt(12)}px Source Sans Pro`,fillStyle:"#585757",lineWidth:Jt(),strokeStyle:"#e6e6e6"}}function be(t,e,i,n=0){const{left:o,top:r,width:a,height:s}=t.cellRect(e,i);return new te(o,r+n,a,s,me)}function Ee(t,e,i,n,o=0,r){const{sortedRowMap:a,rows:s,cols:l}=e;if(s.isHide(i)||l.isHide(n))return;let p=i;a.has(i)&&(p=a.get(i));const d=e.getCell(p,n);if(null===d)return;let c=!1;"editable"in d&&!1===d.editable&&(c=!0);const h=e.getCellStyleOrDefault(p,n),u=be(e,i,n,o);u.bgcolor=h.bgcolor,void 0!==h.border&&(u.setBorders(h.border),t.strokeBorders(u)),t.rect(u,()=>{if(["image"].includes(d.type)&&!d.hidden){let o=e.rows.getCell(i,n);const a=l.indexWidth,p=s.indexHeight;t.geometry(d,u,{fixedIndexWidth:a,fixedIndexHeight:p},h,r,o)}let o="";o=e.settings.evalPaused?d.text||"":ce.render(d.text||"",st,(t,i)=>e.getCellTextOrDefault(i,t)),h.format&&(o=ge[h.format].render(o));const a=Object.assign({},h.font);a.size=ae(a.size),t.text(o,u,{align:h.align,valign:h.valign,font:a,color:h.color,strike:h.strike,underline:h.underline},h.textwrap);const p=e.validations.getError(i,n);p&&t.error(u),c&&t.frozen(u)})}function we(t){const{data:e,draw:i}=this;if(t){const{autoFilter:n}=e;if(!n.active())return;const o=n.hrange();t.intersects(o)&&o.each((t,n)=>{const o=be(e,t,n);i.dropdown(o)})}}function Pe(t,e,i,n,o,r){const{draw:a,data:s}=this;a.save(),a.translate(e,i).translate(n,o);const{exceptRowSet:l}=s,p=t=>{const e=l.has(t);if(e){const e=s.rows.getHeight(t);a.translate(0,-e)}return!e},d=s.exceptRowTotalHeight(t.sri,t.eri);a.save(),a.translate(0,-d),t.each((t,e)=>{Ee(a,s,t,e,0,r)},t=>p(t)),a.restore();const c=new Set;a.save(),a.translate(0,-d),s.eachMergesInView(t,({sri:t,sci:e,eri:i})=>{if(l.has(t)){if(!c.has(t)){c.add(t);const e=s.rows.sumHeight(t,i+1);a.translate(0,-e)}}else Ee(a,s,t,e,0,r)}),a.restore(),we.call(this,t),a.restore()}function Te(t,e,i,n){const{draw:o}=this;o.save(),o.attr({fillStyle:"rgba(76,76,76,.1)"}).fillRect(t,e,i,n),o.restore()}function Ce(t,e,i,n,o){const{draw:r}=this;o=o||{},r.save(),r.attr({fillStyle:"rgba(76,76,76,.1)",...o}).fillRect(t,e,i,n),r.restore()}function xe(t,e,i,n,o,r){const{draw:a,data:s}=this,l=e.h,p=e.w,d=r+n,c=o+i;a.save(),a.attr(_e),"all"!==t&&"left"!==t||a.fillRect(0,d,i,l),"all"!==t&&"top"!==t||a.fillRect(c,0,p,n);const{sri:h,sci:u,eri:g,eci:m}=s.selector.range;a.attr(ye()),"all"!==t&&"left"!==t||(s.rowEach(e.sri,e.eri,(t,e,n)=>{const o=d+e,r=t;if(a.line([0,o],[i,o]),s.settings.leftFixHeaderRender&&s.settings.leftFixHeaderRender instanceof Function){let e=s.settings.leftFixHeaderRender(t);e?Ce.call(this,0,o,i,n,e):h<=r&&r<g+1&&Te.call(this,0,o,i,n)}else h<=r&&r<g+1&&Te.call(this,0,o,i,n);a.fillText(r+1,i/2,o+n/2),t>0&&s.rows.isHide(t-1)&&(a.save(),a.attr({strokeStyle:"#c6c6c6"}),a.line([5,o+5],[i-5,o+5]),a.restore())}),a.line([0,l+d],[i,l+d]),a.line([i,d],[i,l+d])),"all"!==t&&"top"!==t||(s.colEach(e.sci,e.eci,(t,e,i)=>{const o=c+e,r=t;a.line([o,0],[o,n]),u<=r&&r<m+1&&Te.call(this,o,0,i,n),a.fillText(f(r),o+i/2,n/2),t>0&&s.cols.isHide(t-1)&&(a.save(),a.attr({strokeStyle:"#c6c6c6"}),a.line([o+5,5],[o+5,n-5]),a.restore())}),a.line([p+c,0],[p+c,n]),a.line([0,n],[p+c,n])),a.restore()}function Oe(t,e){const{draw:i,data:n}=this;"edit"===n.settings.mode&&(i.save(),i.attr({fillStyle:"#fff"}).fillRect(0,0,t,e),i.restore())}function De({sri:t,sci:e,eri:i,eci:n,w:o,h:r},a,s,l,p){const{draw:d,data:c}=this,{settings:h}=c;d.save(),d.attr(ve).translate(a+l,s+p),h.showGrid?(c.rowEach(t,i,(e,n,r)=>{e!==t&&d.line([0,n],[o,n]),e===i&&d.line([0,n+r],[o,n+r])}),c.colEach(e,n,(t,i,o)=>{t!==e&&d.line([i,0],[i,r]),t===n&&d.line([i+o,0],[i+o,r])}),d.restore()):d.restore()}function Me(t,e,i,n){const{draw:o,data:r}=this,a=r.viewWidth()-t,s=r.viewHeight()-e;o.save().translate(t,e).attr({strokeStyle:"rgba(75, 137, 255, .6)"}),o.line([0,n],[a,n]),o.line([i,0],[i,s]),o.restore()}class Ie{constructor(t,e){this.el=t,this.draw=new ie(t,e.viewWidth(),e.viewHeight()),this.data=e}resetData(t){this.data=t,this.render()}render(){const{data:t}=this,{rows:e,cols:i}=t,n=i.indexWidth,o=e.height;this.draw.resize(t.viewWidth(),t.viewHeight()),this.clear();const r=t.viewRange(),a=t.freezeTotalWidth(),s=t.freezeTotalHeight(),{x:l,y:p}=t.scroll;De.call(this,r,n,o,a,s),Pe.call(this,r,n,o,-l,-p,t),xe.call(this,"all",r,n,o,a,s),Oe.call(this,n,o);const[d,c]=t.freeze;if(d>0||c>0){if(d>0){const e=r.clone();e.sri=0,e.eri=d-1,e.h=s,De.call(this,e,n,o,a,0),Pe.call(this,e,n,o,-l,0,t),xe.call(this,"top",e,n,o,a,0)}if(c>0){const e=r.clone();e.sci=0,e.eci=c-1,e.w=a,De.call(this,e,n,o,0,s),xe.call(this,"left",e,n,o,0,s),Pe.call(this,e,n,o,0,-p,t)}const e=t.freezeViewRange();De.call(this,e,n,o,0,0),xe.call(this,"all",e,n,o,0,0),Pe.call(this,e,n,o,0,0,t),Me.call(this,n,o,a,s)}}clear(){this.draw.clear()}}var Re=Ie;const Se=[["A3",11.69,16.54],["A4",8.27,11.69],["A5",5.83,8.27],["B4",9.84,13.9],["B5",6.93,9.84]],Be=["landscape","portrait"];function Ae(t){return parseInt(96*t,10)}function Le(t){"cancel"===t?this.el.hide():this.toPrint()}function ke(t){const{paper:e}=this,{value:i}=t.target,n=Se[i];e.w=Ae(n[1]),e.h=Ae(n[2]),this.preview()}function He(t){const{paper:e}=this,{value:i}=t.target,n=Be[i];e.orientation=n,this.preview()}class Fe{constructor(t){this.paper={w:Ae(Se[0][1]),h:Ae(Se[0][2]),padding:50,orientation:Be[0],get width(){return"landscape"===this.orientation?this.h:this.w},get height(){return"landscape"===this.orientation?this.w:this.h}},this.data=t,this.el=r("div",`${ot}-print`).children(r("div",`${ot}-print-bar`).children(r("div","-title").child("Print settings"),r("div","-right").children(r("div",`${ot}-buttons`).children(new ne("cancel").on("click",Le.bind(this,"cancel")),new ne("next","primary").on("click",Le.bind(this,"next"))))),r("div",`${ot}-print-content`).children(this.contentEl=r("div","-content"),r("div","-sider").child(r("form","").children(r("fieldset","").children(r("label","").child(`${d("print.size")}`),r("select","").children(...Se.map((t,e)=>r("option","").attr("value",e).child(`${t[0]} ( ${t[1]}''x${t[2]}'' )`))).on("change",ke.bind(this))),r("fieldset","").children(r("label","").child(`${d("print.orientation")}`),r("select","").children(...Be.map((t,e)=>r("option","").attr("value",e).child(`${d("print.orientations")[e]}`))).on("change",He.bind(this))))))).hide()}resetData(t){this.data=t}preview(){const{data:t,paper:e}=this,{width:i,height:n,padding:o}=e,a=i-2*o,s=n-2*o,l=t.contentRange(),p=parseInt(l.h/s,10)+1,d=a/l.w;let c=o;const h=o;d>1&&(c+=(a-l.w)/2);let u=0,f=0;this.contentEl.html(""),this.canvases=[];const g={sri:0,sci:0,eri:0,eci:0};for(let m=0;m<p;m+=1){let e=0,o=0;const a=r("div",`${ot}-canvas-card`),p=r("canvas",`${ot}-canvas`);this.canvases.push(p.el);const m=new ie(p.el,i,n);for(m.save(),m.translate(c,h),d<1&&m.scale(d,d);u<=l.eri;u+=1){const i=t.rows.getHeight(u);if(e+=i,!(e<s)){o=-(e-i);break}for(let e=0;e<=l.eci;e+=1)Ee(m,t,u,e,f),g.eci=e}g.eri=u,m.restore(),m.save(),m.translate(c,h),d<1&&m.scale(d,d);const _=f;t.eachMergesInView(g,({sri:e,sci:i})=>{Ee(m,t,e,i,_)}),m.restore(),g.sri=g.eri,g.sci=g.eci,f+=o,this.contentEl.child(r("div",`${ot}-canvas-card-wraper`).child(a.child(p)))}this.el.show()}toPrint(){this.el.hide();const{paper:t}=this,e=r("iframe","").hide(),{el:i}=e;window.document.body.appendChild(i);const{contentWindow:n}=i,o=n.document,a=document.createElement("style");a.innerHTML=`\n      @page { size: ${t.width}px ${t.height}px; };\n      canvas {\n        page-break-before: auto;\n        page-break-after: always;\n        image-rendering: pixelated;\n      };\n    `,o.head.appendChild(a),this.canvases.forEach(t=>{const e=t.cloneNode(!1),i=e.getContext("2d");i.drawImage(t,0,0),o.body.appendChild(e)}),n.print()}}const We=[{key:"copy",title:c("contextmenu.copy"),label:"Ctrl+C"},{key:"cut",title:c("contextmenu.cut"),label:"Ctrl+X"},{key:"paste",title:c("contextmenu.paste"),label:"Ctrl+V"},{key:"paste-value",title:c("contextmenu.pasteValue"),label:"Ctrl+Shift+V"},{key:"paste-format",title:c("contextmenu.pasteFormat"),label:"Ctrl+Alt+V"},{key:"divider"},{key:"insert-row",title:c("contextmenu.insertRow")},{key:"insert-column",title:c("contextmenu.insertColumn")},{key:"divider"},{key:"delete-row",title:c("contextmenu.deleteRow")},{key:"delete-column",title:c("contextmenu.deleteColumn")},{key:"delete-cell-text",title:c("contextmenu.deleteCellText")},{key:"hide",title:c("contextmenu.hide")},{key:"divider"},{key:"validation",title:c("contextmenu.validation")},{key:"divider"},{key:"cell-printable",title:c("contextmenu.cellprintable")},{key:"cell-non-printable",title:c("contextmenu.cellnonprintable")},{key:"divider"},{key:"cell-editable",title:c("contextmenu.celleditable")},{key:"cell-non-editable",title:c("contextmenu.cellnoneditable")}];function je(t){return"divider"===t.key?r("div",`${ot}-item divider`):r("div",`${ot}-item`).on("click",()=>{this.itemClick(t.key),this.hide()}).children(t.title(),r("div","label").child(t.label||""))}function Ue(){return We.map(t=>je.call(this,t))}class $e{constructor(t,e=!1){this.menuItems=Ue.call(this),this.el=r("div",`${ot}-contextmenu`).children(...this.menuItems).hide(),this.viewFn=t,this.itemClick=()=>{console.log("empty function")},this.isHide=e,this.setMode("range")}setMode(t){const e=this.menuItems[12];"row-col"===t?e.show():e.hide()}hide(){const{el:t}=this;t.hide(),dt(t)}setPosition(t,e){if(this.isHide)return;const{el:i}=this,{width:n}=i.show().offset(),o=this.viewFn(),r=o.height/2;let a=t;o.width-t<=n&&(a-=n),i.css("left",`${a}px`),e>r?i.css("bottom",o.height-e+"px").css("max-height",`${e}px`).css("top","auto"):i.css("top",`${e}px`).css("max-height",o.height-e+"px").css("bottom","auto"),ct(i)}}class ze extends o{constructor(t,e,i,n,...o){super("div",`${ot}-dropdown ${n}`),this.title=t,this.change=()=>{console.log("empty function")},this.headerClick=()=>{console.log("empty function")},"string"===typeof t?this.title=r("div",`${ot}-dropdown-title`).child(t):i&&this.title.addClass("arrow-left"),this.contentEl=r("div",`${ot}-dropdown-content`).css("width",e).hide(),this.setContentChildren(...o),this.headerEl=r("div",`${ot}-dropdown-header`),this.headerEl.on("click",()=>{"block"!==this.contentEl.css("display")?this.show():this.hide()}).children(this.title,i?r("div",`${ot}-icon arrow-right`).child(r("div",`${ot}-icon-img arrow-down`)):""),this.children(this.headerEl,this.contentEl)}setContentChildren(...t){this.contentEl.html(""),t.length>0&&this.contentEl.children(...t)}setTitle(t){this.title.html(t),this.hide()}show(){const{contentEl:t}=this;t.show(),this.parent().active(),ct(this.parent(),()=>{this.hide()})}hide(){this.parent().active(!1),this.contentEl.hide(),dt(this.parent())}}class Ke extends o{constructor(t){super("div",`${ot}-icon`),this.iconNameEl=r("div",`${ot}-icon-img ${t}`),this.child(this.iconNameEl)}setName(t){this.iconNameEl.className(`${ot}-icon-img ${t}`)}}function qe(t){return r("div",`${ot}-item`).child(new Ke(t))}class Ne extends ze{constructor(t,e){const i=new Ke(`align-${e}`),n=t.map(t=>qe(`align-${t}`).on("click",()=>{this.setTitle(t),this.change(t)}));super(i,"auto",!0,"bottom-left",...n)}setTitle(t){this.title.setName(`align-${t}`),this.hide()}}function Ve(t,e){if(e.classList.contains("active"))return;const{left:i,top:n,width:o,height:a}=e.getBoundingClientRect(),s=r("div",`${ot}-tooltip`).html(t).show();document.body.appendChild(s.el);const l=s.box();s.css("left",i+o/2-l.width/2+"px").css("top",`${n+a+2}px`),lt(e,"mouseleave",()=>{document.body.contains(s.el)&&document.body.removeChild(s.el)}),lt(e,"click",()=>{document.body.contains(s.el)&&document.body.removeChild(s.el)})}class Ge{constructor(t,e,i){this.tip="",t&&(this.tip=d(`toolbar.${t.replace(/-[a-z]/g,t=>t[1].toUpperCase())}`)),e&&(this.tip+=` (${e})`),this.tag=t,this.shortcut=e,this.value=i,this.el=this.element(),this.change=()=>{console.log("empty function")}}element(){const{tip:t}=this;return r("div",`${ot}-toolbar-btn`).on("mouseenter",t=>{this.tip&&Ve(this.tip,t.target)}).attr("data-tooltip",t)}setState(){console.log("empty function")}}class Ye extends Ge{dropdown(){console.log("empty function")}getValue(t){return t}element(){const{tag:t}=this;return this.dd=this.dropdown(),this.dd.change=e=>this.change(t,this.getValue(e)),super.element().child(this.dd)}setState(t){t&&(this.value=t,this.dd.setTitle(t))}}class Xe extends Ye{constructor(t){super("align","",t)}dropdown(){const{value:t}=this;return new Ne(["left","center","right"],t)}}class Je extends Ye{constructor(t){super("valign","",t)}dropdown(){const{value:t}=this;return new Ne(["top","middle","bottom"],t)}}class Qe extends Ge{element(){const{tag:t}=this;return super.element().child(new Ke(t)).on("click",()=>this.click())}click(){this.change(this.tag,this.toggle())}setState(t){this.el.active(t)}toggle(){return this.el.toggle()}active(){return this.el.hasClass("active")}}class Ze extends Qe{constructor(){super("font-bold","Ctrl+B")}}class ti extends Qe{constructor(){super("font-italic","Ctrl+I")}}class ei extends Qe{constructor(){super("strike","Ctrl+U")}}class ii extends Qe{constructor(){super("underline","Ctrl+U")}}const ni=["#ffffff","#000100","#e7e5e6","#445569","#5b9cd6","#ed7d31","#a5a5a5","#ffc001","#4371c6","#71ae47"],oi=[["#f2f2f2","#7f7f7f","#d0cecf","#d5dce4","#deeaf6","#fce5d5","#ededed","#fff2cd","#d9e2f3","#e3efd9"],["#d8d8d8","#595959","#afabac","#adb8ca","#bdd7ee","#f7ccac","#dbdbdb","#ffe59a","#b3c6e7","#c5e0b3"],["#bfbfbf","#3f3f3f","#756f6f","#8596b0","#9cc2e6","#f4b184","#c9c9c9","#fed964","#8eaada","#a7d08c"],["#a5a5a5","#262626","#3a3839","#333f4f","#2e75b5","#c45a10","#7b7b7b","#bf8e01","#2f5596","#538136"],["#7f7f7f","#0c0c0c","#171516","#222a35","#1f4e7a","#843c0a","#525252","#7e6000","#203864","#365624"]],ri=["#c00000","#fe0000","#fdc101","#ffff01","#93d051","#00b04e","#01b0f1","#0170c1","#012060","#7030a0"];function ai(t){return r("td","").child(r("div",`${ot}-color-palette-cell`).on("click.stop",()=>this.change(t)).css("background-color",t))}class si{constructor(){this.el=r("div",`${ot}-color-palette`),this.change=()=>{console.log("empty function")};const t=r("table","").children(r("tbody","").children(r("tr",`${ot}-theme-color-placeholders`).children(...ni.map(t=>ai.call(this,t))),...oi.map(t=>r("tr",`${ot}-theme-colors`).children(...t.map(t=>ai.call(this,t)))),r("tr",`${ot}-standard-colors`).children(...ri.map(t=>ai.call(this,t)))));this.el.child(t)}}class li extends ze{constructor(t,e){const i=new Ke(t).css("height","16px").css("border-bottom",`3px solid ${e}`),n=new si;n.change=t=>{this.setTitle(t),this.change(t)},super(i,"auto",!1,"bottom-left",n.el)}setTitle(t){this.title.css("border-color",t),this.hide()}}const pi=[["thin",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" style="user-select: none;"></line></svg>'],["medium",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="2" style="user-select: none;"><line x1="0" y1="1.0" x2="50" y2="1.0" stroke-width="2" stroke="black" style="user-select: none;"></line></svg>'],["thick",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="3" style="user-select: none;"><line x1="0" y1="1.5" x2="50" y2="1.5" stroke-width="3" stroke="black" style="user-select: none;"></line></svg>'],["dashed",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="2" style="user-select: none;"></line></svg>'],["dotted",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="1" style="user-select: none;"></line></svg>']];class di extends ze{constructor(t){const e=new Ke("line-type");let i=0;const n=pi.map((e,o)=>r("div",`${ot}-item state ${t===e[0]?"checked":""}`).on("click",()=>{n[i].toggle("checked"),n[o].toggle("checked"),i=o,this.hide(),this.change(e)}).child(r("div",`${ot}-line-type`).html(e[1])));super(e,"auto",!1,"bottom-left",...n)}}function ci(...t){return r("table","").child(r("tbody","").children(...t))}function hi(t){return r("td","").child(r("div",`${ot}-border-palette-cell`).child(new Ke(`border-${t}`)).on("click",()=>{this.mode=t;const{mode:e,style:i,color:n}=this;this.change({mode:e,style:i,color:n})}))}class ui{constructor(){this.color="#000",this.style="thin",this.mode="all",this.change=()=>{console.log("empty function")},this.ddColor=new li("line-color",this.color),this.ddColor.change=t=>{this.color=t},this.ddType=new di(this.style),this.ddType.change=([t])=>{this.style=t},this.el=r("div",`${ot}-border-palette`);const t=ci(r("tr","").children(r("td",`${ot}-border-palette-left`).child(ci(r("tr","").children(...["all","inside","horizontal","vertical","outside"].map(t=>hi.call(this,t))),r("tr","").children(...["left","top","right","bottom","none"].map(t=>hi.call(this,t))))),r("td",`${ot}-border-palette-right`).children(r("div",`${ot}-toolbar-btn`).child(this.ddColor.el),r("div",`${ot}-toolbar-btn`).child(this.ddType.el))));this.el.child(t)}}class fi extends ze{constructor(){const t=new Ke("border-all"),e=new ui;e.change=t=>{this.change(t),this.hide()},super(t,"auto",!1,"bottom-left",e.el)}}class gi extends Ye{constructor(){super("border")}dropdown(){return new fi}}class mi extends Ge{element(){return super.element().child(new Ke(this.tag)).on("click",()=>this.change(this.tag))}setState(t){this.el.disabled(t)}}class _i extends mi{constructor(){super("clearformat")}}class vi extends Qe{constructor(){super("paintformat")}setState(){console.log("empty function")}}class yi extends Ye{constructor(t){super("color",void 0,t)}dropdown(){const{tag:t,value:e}=this;return new li(t,e)}}class bi extends Ye{constructor(t){super("bgcolor",void 0,t)}dropdown(){const{tag:t,value:e}=this;return new li(t,e)}}class Ei extends ze{constructor(){const t=re.map(t=>r("div",`${ot}-item`).on("click",()=>{this.setTitle(`${t.pt}`),this.change(t)}).child(`${t.pt}`));super("10","60px",!0,"bottom-left",...t)}}class wi extends Ye{constructor(){super("font-size")}getValue(t){return t.pt}dropdown(){return new Ei}}class Pi extends ze{constructor(){const t=oe.map(t=>r("div",`${ot}-item`).on("click",()=>{this.setTitle(t.title),this.change(t)}).child(t.title));super(oe[0].title,"160px",!0,"bottom-left",...t)}}class Ti extends Ye{constructor(){super("font-name")}getValue(t){return t.key}dropdown(){return new Pi}}class Ci extends ze{constructor(){let t=fe.slice(0);t.splice(2,0,{key:"divider"}),t.splice(8,0,{key:"divider"}),t=t.map(t=>{const e=r("div",`${ot}-item`);return"divider"===t.key?e.addClass("divider"):(e.child(t.title()).on("click",()=>{this.setTitle(t.title()),this.change(t)}),t.label&&e.child(r("div","label").html(t.label))),e}),super("Normal","220px",!0,"bottom-left",...t)}setTitle(t){for(let e=0;e<fe.length;e+=1)fe[e].key===t&&this.title.html(fe[e].title());this.hide()}}class xi extends Ye{constructor(){super("format")}getValue(t){return t.key}dropdown(){return new Ci}}class Oi extends Qe{constructor(){super("merge")}setState(t,e){this.el.active(t).disabled(e)}}class Di extends mi{constructor(){super("redo","Ctrl+Y")}}class Mi extends mi{constructor(){super("undo","Ctrl+Z")}}class Ii extends ze{constructor(){const t=new Ke("ellipsis"),e=r("div",`${ot}-toolbar-more`);super(t,"auto",!1,"bottom-right",e),this.moreBtns=e,this.contentEl.css("max-width","420px")}}class Ri extends Ye{constructor(){super("more"),this.el.hide()}dropdown(){return new Ii}show(){this.el.show()}hide(){this.el.hide()}}function Si(){return r("div",`${ot}-toolbar-divider`)}function Bi(){this.btns2=[],this.items.forEach(t=>{if(Array.isArray(t))t.forEach(({el:t})=>{const e=t.box(),{marginLeft:i,marginRight:n}=t.computedStyle();this.btns2.push([t,e.width+parseInt(i,10)+parseInt(n,10)])});else{const e=t.box(),{marginLeft:i,marginRight:n}=t.computedStyle();this.btns2.push([t,e.width+parseInt(i,10)+parseInt(n,10)])}})}function Ai(){const{el:t,btns:e,moreEl:i,btns2:n}=this,{moreBtns:o,contentEl:r}=i.dd;t.css("width",`${this.widthFn()}px`);const a=t.box();let s=160,l=12;const p=[],d=[];n.forEach(([t,e],i)=>{s+=e,i===n.length-1||s<a.width?p.push(t):(l+=e,d.push(t))}),e.html("").children(...p),o.html("").children(...d),r.css("width",`${l}px`),d.length>0?i.show():i.hide()}function Li(t){const e=new Ge;e.el.on("click",()=>{t.onClick&&t.onClick(this.data.getData(),this.data)}),e.tip=t.tip||"";let{el:i}=t;if(t.icon&&(i=r("img").attr("src",t.icon)),i){const t=r("div",`${ot}-icon`);t.child(i),e.el.child(t)}return e}class ki{constructor(t,e,i=!1){this.data=t,this.change=()=>{console.log("empty function")},this.widthFn=e,this.isHide=i;const n=t.defaultStyle();this.items=[[this.undoEl=new Mi,this.redoEl=new Di,this.paintformatEl=new vi,this.clearformatEl=new _i],Si(),[this.formatEl=new xi],Si(),[this.fontEl=new Ti,this.fontSizeEl=new wi],Si(),[this.boldEl=new Ze,this.italicEl=new ti,this.underlineEl=new ii,this.strikeEl=new ei,this.textColorEl=new yi(n.color)],Si(),[this.fillColorEl=new bi(n.bgcolor),this.borderEl=new gi,this.mergeEl=new Oi],Si(),[this.alignEl=new Xe(n.align),this.valignEl=new Je(n.valign)]];const{extendToolbar:o={}}=t.settings;if(o.left&&o.left.length>0){this.items.unshift(Si());const t=o.left.map(Li.bind(this));this.items.unshift(t)}if(o.right&&o.right.length>0){this.items.push(Si());const t=o.right.map(Li.bind(this));this.items.push(t)}this.items.push([this.moreEl=new Ri]),this.el=r("div",`${ot}-toolbar`),this.btns=r("div",`${ot}-toolbar-btns`),this.items.forEach(t=>{Array.isArray(t)?t.forEach(t=>{this.btns.child(t.el),t.change=(...t)=>{this.change(...t)}}):this.btns.child(t.el)}),this.el.child(this.btns),i?this.el.hide():(this.reset(),setTimeout(()=>{Bi.call(this),Ai.call(this)},0),lt(window,"resize",()=>{Ai.call(this)}))}paintformatActive(){return this.paintformatEl.active()}paintformatToggle(){this.paintformatEl.toggle()}trigger(t){this[`${t}El`].click()}resetData(t){this.data=t,this.reset()}reset(){if(this.isHide)return;const{data:t}=this,e=t.getSelectedCellStyle();this.undoEl.setState(!t.canUndo()),this.redoEl.setState(!t.canRedo()),this.mergeEl.setState(t.canUnmerge(),!t.selector.multiple());const{font:i,format:n}=e;this.formatEl.setState(n),this.fontEl.setState(i.name),this.fontSizeEl.setState(i.size),this.boldEl.setState(i.bold),this.italicEl.setState(i.italic),this.underlineEl.setState(e.underline),this.strikeEl.setState(e.strike),this.textColorEl.setState(e.color),this.fillColorEl.setState(e.bgcolor),this.alignEl.setState(e.align),this.valignEl.setState(e.valign)}}class Hi{constructor(t,e,i="600px"){this.title=t,this.el=r("div",`${ot}-modal`).css("width",i).children(r("div",`${ot}-modal-header`).children(new Ke("close").on("click.stop",()=>this.hide()),this.title),r("div",`${ot}-modal-content`).children(...e)).hide()}show(){this.dimmer=r("div",`${ot}-dimmer active`),document.body.appendChild(this.dimmer.el);const{width:t,height:e}=this.el.show().box(),{clientHeight:i,clientWidth:n}=document.documentElement;this.el.offset({left:(n-t)/2,top:(i-e)/3}),window.xkeydownEsc=t=>{27===t.keyCode&&this.hide()},lt(window,"keydown",window.xkeydownEsc)}hide(){this.el.hide(),document.body.removeChild(this.dimmer.el),pt(window,"keydown",window.xkeydownEsc),delete window.xkeydownEsc}}class Fi{constructor(t,e){this.vchange=()=>{console.log("empty function")},this.el=r("div",`${ot}-form-input`),this.input=r("input","").css("width",t).on("input",t=>this.vchange(t)).attr("placeholder",e),this.el.child(this.input)}focus(){setTimeout(()=>{this.input.el.focus()},10)}hint(t){this.input.attr("placeholder",t)}val(t){return this.input.val(t)}}class Wi{constructor(t,e,i,n=t=>t,o=()=>{console.log("empty function")}){this.key=t,this.getTitle=n,this.vchange=()=>{console.log("empty function")},this.el=r("div",`${ot}-form-select`),this.suggest=new Wt(e.map(t=>({key:t,title:this.getTitle(t)})),t=>{this.itemClick(t.key),o(t.key),this.vchange(t.key)},i,this.el),this.el.children(this.itemEl=r("div","input-text").html(this.getTitle(t)),this.suggest.el).on("click",()=>this.show())}show(){this.suggest.search("")}itemClick(t){this.key=t,this.itemEl.html(this.getTitle(t))}val(t){return void 0!==t?(this.key=t,this.itemEl.html(this.getTitle(t)),this):this.key}}const ji={number:/(^\d+$)|(^\d+(\.\d{0,4})?$)/,date:/^\d{4}-\d{1,2}-\d{1,2}$/};class Ui{constructor(t,e,i,n){this.label="",this.rule=e,i&&(this.label=r("label","label").css("width",`${n}px`).html(i)),this.tip=r("div","tip").child("tip").hide(),this.input=t,this.input.vchange=()=>this.validate(),this.el=r("div",`${ot}-form-field`).children(this.label,t.el,this.tip)}isShow(){return"none"!==this.el.css("display")}show(){this.el.show()}hide(){return this.el.hide(),this}val(t){return this.input.val(t)}hint(t){this.input.hint(t)}validate(){const{input:t,rule:e,tip:i,el:n}=this,o=t.val();if(e.required&&/^\s*$/.test(o))return i.html(d("validation.required")),n.addClass("error"),!1;if(e.type||e.pattern){const t=e.pattern||ji[e.type];if(!t.test(o))return i.html(d("validation.notMatch")),n.addClass("error"),!1}return n.removeClass("error"),!0}}const $i=100;class zi extends Hi{constructor(){const t=new Ui(new Wi("cell",["cell"],"100%",t=>d(`dataValidation.modeType.${t}`)),{required:!0},`${d("dataValidation.range")}:`,$i),e=new Ui(new Fi("120px","E3 or E3:F12"),{required:!0,pattern:/^([A-Z]{1,2}[1-9]\d*)(:[A-Z]{1,2}[1-9]\d*)?$/}),i=new Ui(new Wi("list",["list","number","date","phone","email"],"100%",t=>d(`dataValidation.type.${t}`),t=>this.criteriaSelected(t)),{required:!0},`${d("dataValidation.criteria")}:`,$i),n=new Ui(new Wi("be",["be","nbe","eq","neq","lt","lte","gt","gte"],"160px",t=>d(`dataValidation.operator.${t}`),t=>this.criteriaOperatorSelected(t)),{required:!0}).hide(),o=new Ui(new Fi("70px","10"),{required:!0}).hide(),a=new Ui(new Fi("70px","100"),{required:!0,type:"number"}).hide(),s=new Ui(new Fi("120px","a,b,c"),{required:!0}),l=new Ui(new Fi("70px","10"),{required:!0,type:"number"}).hide();super(d("contextmenu.validation"),[r("div",`${ot}-form-fields`).children(t.el,e.el),r("div",`${ot}-form-fields`).children(i.el,n.el,o.el,a.el,l.el,s.el),r("div",`${ot}-buttons`).children(new ne("cancel").on("click",()=>this.btnClick("cancel")),new ne("remove").on("click",()=>this.btnClick("remove")),new ne("save","primary").on("click",()=>this.btnClick("save")))]),this.mf=t,this.rf=e,this.cf=i,this.of=n,this.minvf=o,this.maxvf=a,this.vf=l,this.svf=s,this.change=()=>{console.log("empty function")}}showVf(t){const e="date"===t?"2018-11-12":"10",{vf:i}=this;i.input.hint(e),i.show()}criteriaSelected(t){const{of:e,minvf:i,maxvf:n,vf:o,svf:r}=this;"date"===t||"number"===t?(e.show(),i.rule.type=t,n.rule.type=t,"date"===t?(i.hint("2018-11-12"),n.hint("2019-11-12")):(i.hint("10"),n.hint("100")),i.show(),n.show(),o.hide(),r.hide()):("list"===t?r.show():r.hide(),o.hide(),e.hide(),i.hide(),n.hide())}criteriaOperatorSelected(t){if(!t)return;const{minvf:e,maxvf:i,vf:n}=this;if("be"===t||"nbe"===t)e.show(),i.show(),n.hide();else{const t=this.cf.val();n.rule.type=t,"date"===t?n.hint("2018-11-12"):n.hint("10"),n.show(),e.hide(),i.hide()}}btnClick(t){if("cancel"===t)this.hide();else if("remove"===t)this.change("remove"),this.hide();else if("save"===t){const t=["mf","rf","cf","of","svf","vf","minvf","maxvf"];for(let a=0;a<t.length;a+=1){const e=this[t[a]];if(e.isShow()&&!e.validate())return}const e=this.mf.val(),i=this.rf.val(),n=this.cf.val(),o=this.of.val();let r=this.svf.val();"number"!==n&&"date"!==n||(r="be"===o||"nbe"===o?[this.minvf.val(),this.maxvf.val()]:this.vf.val()),this.change("save",e,i,n,o,{required:!1,value:r}),this.hide()}}setValue(t){if(t){const{mf:e,rf:i,cf:n,of:o,svf:r,vf:a,minvf:s,maxvf:l}=this,{mode:p,ref:d,validator:c}=t,{type:h,operator:u,value:f}=c||{type:"list"};e.val(p||"cell"),i.val(d),n.val(h),o.val(u),Array.isArray(f)?(s.val(f[0]),l.val(f[1])):(r.val(f||""),a.val(f||"")),this.criteriaSelected(h),this.criteriaOperatorSelected(u)}this.show()}}function Ki(t){return r("div",`${ot}-item ${t}`)}function qi(t){return Ki("state").child(d(`sort.${t}`)).on("click.stop",()=>this.itemClick(t))}function Ni(t){const{filterbEl:e,filterValues:i}=this;e.html("");const n=Object.keys(t);n.forEach((n,o)=>{const a=t[n],s=i.includes(n)?"checked":"";e.child(r("div",`${ot}-item state ${s}`).on("click.stop",()=>this.filterClick(o,n)).children(""===n?d("filter.empty"):n,r("div","label").html(`(${a})`)))})}function Vi(){const{filterhEl:t,filterValues:e,values:i}=this;t.html(`${e.length} / ${i.length}`),t.checked(e.length===i.length)}class Gi{constructor(){this.filterbEl=r("div",`${ot}-body`),this.filterhEl=r("div",`${ot}-header state`).on("click.stop",()=>this.filterClick(0,"all")),this.el=r("div",`${ot}-sort-filter`).children(this.sortAscEl=qi.call(this,"asc"),this.sortDescEl=qi.call(this,"desc"),Ki("divider"),r("div",`${ot}-filter`).children(this.filterhEl,this.filterbEl),r("div",`${ot}-buttons`).children(new ne("cancel").on("click",()=>this.btnClick("cancel")),new ne("ok","primary").on("click",()=>this.btnClick("ok")))).hide(),this.ci=null,this.sortDesc=null,this.values=null,this.filterValues=[]}btnClick(t){if("ok"===t){const{ci:t,sort:e,filterValues:i}=this;this.ok&&this.ok(t,e,"in",i)}this.hide()}itemClick(t){this.sort=t;const{sortAscEl:e,sortDescEl:i}=this;e.checked("asc"===t),i.checked("desc"===t)}filterClick(t,e){const{filterbEl:i,filterValues:n,values:o}=this,a=i.children();if("all"===e)a.length===n.length?(this.filterValues=[],a.forEach(t=>r(t).checked(!1))):(this.filterValues=Array.from(o),a.forEach(t=>r(t).checked(!0)));else{const i=r(a[t]).toggle("checked");i?n.push(e):n.splice(n.findIndex(t=>t===e),1)}Vi.call(this)}set(t,e,i,n){this.ci=t;const{sortAscEl:o,sortDescEl:r}=this;null!==n?(this.sort=n.order,o.checked(n.asc()),r.checked(n.desc())):(this.sortDesc=null,o.checked(!1),r.checked(!1)),this.values=Object.keys(e),this.filterValues=i?Array.from(i.value):Object.keys(e),Ni.call(this,e,i),Vi.call(this)}setOffset(t){this.el.offset(t).show();let e=1;ct(this.el,()=>{e<=0&&this.hide(),e-=1})}show(){this.el.show()}hide(){this.el.hide(),dt(this.el)}}function Yi(t,e){const i=r("div",`${ot}-toast`),n=r("div",`${ot}-dimmer active`),o=()=>{document.body.removeChild(i.el),document.body.removeChild(n.el)};i.children(r("div",`${ot}-toast-header`).children(new Ke("close").on("click.stop",()=>o()),t),r("div",`${ot}-toast-content`).html(e)),document.body.appendChild(i.el),document.body.appendChild(n.el);const{width:a,height:s}=i.box(),{clientHeight:l,clientWidth:p}=document.documentElement;i.offset({left:(p-a)/2,top:(l-s)/3})}function Xi(t,e){let i;return(...n)=>{const o=n;i||(i=setTimeout(()=>{i=null,t.apply(this,o)},e))}}function Ji(){const{data:t,verticalScrollbar:e,horizontalScrollbar:i}=this,{l:n,t:o,left:r,top:a,width:s,height:l}=t.getSelectedRect(),p=this.getTableOffset();if(Math.abs(r)+s>p.width)i.move({left:n+s-p.width});else{const e=t.freezeTotalWidth();r<e&&i.move({left:n-1-e})}if(Math.abs(a)+l>p.height)e.move({top:o+l-p.height-1});else{const i=t.freezeTotalHeight();a<i&&e.move({top:o-1-i})}}function Qi(t,e,i,n=!0,o=!1){if(-1===e&&-1===i)return;const{table:r,selector:a,toolbar:s,data:l,contextMenu:p}=this,d=l.getCell(e,i);t?(a.setEnd(e,i,o),this.trigger("cells-selected",d,a.range)):(a.set(e,i,n),this.trigger("cell-selected",d,e,i)),p.setMode(-1===e||-1===i?"row-col":"range"),s.reset(),r.render()}function Zi(t,e){const{selector:i,data:n}=this,{rows:o,cols:r}=n;let[a,s]=i.indexes;const{eri:l,eci:p}=i.range;t&&([a,s]=i.moveIndexes),"left"===e?s>0&&(s-=1):"right"===e?(p!==s&&(s=p),s<r.len-1&&(s+=1)):"up"===e?a>0&&(a-=1):"down"===e?(l!==a&&(a=l),a<o.len-1&&(a+=1)):"row-first"===e?s=0:"row-last"===e?s=r.len-1:"col-first"===e?a=0:"col-last"===e&&(a=o.len-1),t&&(i.moveIndexes=[a,s]),Qi.call(this,t,a,s),Ji.call(this)}function tn(t){if(0!==t.buttons)return;if(t.target.className===`${ot}-resizer-hover`)return;const{offsetX:e,offsetY:i}=t,{rowResizer:n,colResizer:o,tableEl:r,data:a}=this,{rows:s,cols:l}=a;if(e>l.indexWidth&&i>s.height)return n.hide(),void o.hide();const p=r.box(),d=a.getCellRectByXY(t.offsetX,t.offsetY);d.ri>=0&&-1===d.ci?(d.width=l.indexWidth,n.show(d,{width:p.width}),s.isHide(d.ri-1)?n.showUnhide(d.ri):n.hideUnhide()):n.hide(),-1===d.ri&&d.ci>=0?(d.height=s.height,o.show(d,{height:p.height}),l.isHide(d.ci-1)?o.showUnhide(d.ci):o.hideUnhide()):o.hide()}function en(t){const{verticalScrollbar:e,horizontalScrollbar:i,data:n}=this,{top:o}=e.scroll(),{left:r}=i.scroll(),{rows:a,cols:s}=n,{deltaY:l,deltaX:p}=t,d=(t,e)=>{let i=t,n=0;do{n=e(i),i+=1}while(n<=0);return n},c=t=>{if(t>0){const t=n.scroll.ri+1;if(t<a.len){const i=d(t,t=>a.getHeight(t));e.move({top:o+i-1})}}else{const t=n.scroll.ri-1;if(t>=0){const i=d(t,t=>a.getHeight(t));e.move({top:0===t?0:o-i})}}},h=t=>{if(t>0){const t=n.scroll.ci+1;if(t<s.len){const e=d(t,t=>s.getWidth(t));i.move({left:r+e-1})}}else{const t=n.scroll.ci-1;if(t>=0){const e=d(t,t=>s.getWidth(t));i.move({left:0===t?0:r-e})}}},u=Math.abs(l),f=Math.abs(p),g=Math.max(u,f);/Firefox/i.test(window.navigator.userAgent)&&Xi(c(t.detail),50),g===f&&Xi(h(p),50),g===u&&Xi(c(l),50)}function nn(t){const{selector:e,data:i,toolbar:n}=this;if("read"===i.settings.mode)return;const{offsetX:o,offsetY:r}=t,a=i.getCellRectByXY(o,r),{ri:s,ci:l}=a,p=i.getCell(s,l);e.set(s,l,!0),this.trigger("cell-drop",p,s,l,t),n.reset(),this.trigger("cell-selected",i.getCell(s,l),s,l)}function on(t,e){const{verticalScrollbar:i,horizontalScrollbar:n}=this,{top:o}=i.scroll(),{left:r}=n.scroll();"left"===t||"right"===t?n.move({left:r-e}):"up"!==t&&"down"!==t||i.move({top:o-e})}function rn(){const{data:t,verticalScrollbar:e}=this,{height:i}=this.getTableOffset(),n=t.exceptRowTotalHeight(0,-1);e.set(i,t.rows.totalHeight()-n)}function an(){const{data:t,horizontalScrollbar:e}=this,{width:i}=this.getTableOffset();t&&e.set(i,t.cols.totalWidth())}function sn(){const{selector:t,data:e,editor:i}=this,[n,o]=e.freeze;if(n>0||o>0){const t=e.freezeTotalWidth(),n=e.freezeTotalHeight();i.setFreezeLengths(t,n)}t.resetAreaOffset()}function ln(){const{tableEl:t,overlayerEl:e,overlayerCEl:i,table:n,toolbar:o,selector:r,el:a}=this,s=this.getTableOffset(),l=this.getRect();t.attr(l),e.offset(l),i.offset(s),a.css("width",`${l.width}px`),rn.call(this),an.call(this),sn.call(this),n.render(),o.reset(),r.reset()}function pn(){const{data:t,selector:e}=this;t.clearClipboard(),e.hideClipboard()}function dn(t){const{data:e,selector:i}=this;"read"!==e.settings.mode&&(e.copy(),e.copyToSystemClipboard(t),i.showClipboard())}function cn(){const{data:t,selector:e}=this;"read"!==t.settings.mode&&(t.cut(),e.showClipboard())}function hn(t,e){const{data:i}=this;if("read"!==i.settings.mode)if(i.clipboard.isClear()){const t=()=>ln.call(this),e=t=>{this.trigger("pasted-clipboard",t)};i.pasteFromSystemClipboard(t,e)}else if(i.paste(t,t=>Yi("Tip",t)))ln.call(this);else if(e){const t=e.clipboardData.getData("text/plain");this.data.pasteFromText(t),ln.call(this)}}function un(){this.data.hideRowsOrCols(),ln.call(this)}function fn(t,e){this.data.unhideRowsOrCols(t,e),ln.call(this)}function gn(){const{data:t}=this;t.autofilter(),ln.call(this)}function mn(){const{toolbar:t}=this;t.paintformatActive()&&(hn.call(this,"format"),pn.call(this),t.paintformatToggle())}function _n(t){const{selector:e,data:i,table:n,sortFilter:o}=this;if("read"===i.settings.mode)return;const{offsetX:r,offsetY:a}=t,s=t.target.className===`${ot}-selector-corner`,l=i.getCellRectByXY(r,a),{left:p,top:d,width:c,height:h}=l;let{ri:u,ci:f}=l;const{autoFilter:g}=i;if(g.includes(u,f)&&p+c-20<r&&d+h-20<a){const t=g.items(f,(t,e)=>i.rows.getCell(t,e));return o.hide(),o.set(f,t,g.getFilter(f),g.getSort(f)),void o.setOffset({left:p,top:d+h+2})}t.shiftKey||(s?e.showAutofill(u,f):Qi.call(this,!1,u,f),ht(window,t=>{({ri:u,ci:f}=i.getCellRectByXY(t.offsetX,t.offsetY)),s?e.showAutofill(u,f):1!==t.buttons||t.shiftKey||Qi.call(this,!0,u,f,!0,!0)},()=>{s&&e.arange&&"read"!==i.settings.mode&&i.autofill(e.arange,"all",t=>Yi("Tip",t))&&n.render(),e.hideAutofill(),mn.call(this)})),s||1!==t.buttons||t.shiftKey&&Qi.call(this,!0,u,f)}function vn(){const{editor:t,data:e}=this,i=e.getSelectedRect(),n=this.getTableOffset();let o="top";i.top>n.height/2&&(o="bottom"),t.setOffset(i,o)}function yn(){const{editor:t,data:e}=this;if("read"===e.settings.mode)return;const i=e.getSelectedCell();i&&i.hidden||"edit"===e.settings.mode&&(vn.call(this),t.setCell(i,e.getSelectedValidator()),pn.call(this))}function bn(t){const{data:e,table:i,selector:n}=this;e.scrolly(t,()=>{n.resetBRLAreaOffset(),vn.call(this),i.render()})}function En(t){const{data:e,table:i,selector:n}=this;e.scrollx(t,()=>{n.resetBRTAreaOffset(),vn.call(this),i.render()})}function wn(t,e){const{ri:i}=t,{table:n,selector:o,data:r}=this,{sri:a,eri:s}=o.range;if(i>=a&&i<=s)for(let l=a;l<=s;l+=1)r.rows.setHeight(l,e);else r.rows.setHeight(i,e);n.render(),o.resetAreaOffset(),rn.call(this),vn.call(this)}function Pn(t,e){const{ci:i}=t,{table:n,selector:o,data:r}=this,{sci:a,eci:s}=o.range;if(i>=a&&i<=s)for(let l=a;l<=s;l+=1)r.cols.setWidth(l,e);else r.cols.setWidth(i,e);n.render(),o.resetAreaOffset(),an.call(this),vn.call(this)}function Tn(t,e="finished"){const{data:i,table:n}=this;if("read"===i.settings.mode)return;i.setSelectedCellText(t,e);const{ri:o,ci:r}=i.selector;"finished"===e?n.render():this.trigger("cell-edited",t,o,r)}function Cn(t){const{data:e}=this;if("read"!==e.settings.mode){if("insert-row"===t)e.insert("row");else if("delete-row"===t)e.delete("row");else if("insert-column"===t)e.insert("column");else if("delete-column"===t)e.delete("column");else if("delete-cell"===t)e.deleteCell();else if("delete-cell-format"===t)e.deleteCell("format");else if("delete-cell-text"===t){e.deleteCell("text");const{ri:t,ci:i}=e.selector;this.trigger("cell-edited","",t,i)}else"cell-printable"===t?e.setSelectedCellAttr("printable",!0):"cell-non-printable"===t?e.setSelectedCellAttr("printable",!1):"cell-editable"===t?e.setSelectedCellAttr("editable",!0):"cell-non-editable"===t&&e.setSelectedCellAttr("editable",!1);pn.call(this),ln.call(this)}}function xn(t,e){const{data:i}=this;if("undo"===t)this.undo();else if("redo"===t)this.redo();else if("print"===t)this.print.preview();else if("paintformat"===t)!0===e?dn.call(this):pn.call(this);else if("clearformat"===t)Cn.call(this,"delete-cell-format");else if("link"===t);else if("chart"===t)In.call(this,t);else if("autofilter"===t)gn.call(this);else if("freeze"===t)if(e){const{ri:t,ci:e}=i.selector;this.freeze(t,e)}else this.freeze(0,0);else i.setSelectedCellAttr(t,e),"formula"!==t||i.selector.multiple()||yn.call(this),ln.call(this)}function On(t,e,i,n){this.data.setAutoFilter(t,e,i,n),ln.call(this)}function Dn(){const{selector:t,overlayerEl:e,rowResizer:i,colResizer:n,verticalScrollbar:o,horizontalScrollbar:r,editor:a,contextMenu:s,toolbar:l,modalValidation:p,sortFilter:d}=this;e.on("mousemove",t=>{tn.call(this,t)}).on("mousedown",t=>{a.clear(),s.hide(),2===t.buttons?(this.data.xyInSelectedRect(t.offsetX,t.offsetY)||_n.call(this,t),s.setPosition(t.offsetX,t.offsetY),t.stopPropagation()):2===t.detail?yn.call(this):_n.call(this,t)}).on("mousewheel.stop",t=>{en.call(this,t)}).on("mouseout",t=>{const{offsetX:e,offsetY:o}=t;o<=0&&n.hide(),e<=0&&i.hide()}).on("drop",t=>{t.preventDefault(),nn.call(this,t)}),t.inputChange=t=>{Tn.call(this,t,"input"),yn.call(this)},ft(e.el,{move:(t,e)=>{on.call(this,t,e)}}),l.change=(t,e)=>xn.call(this,t,e),d.ok=(t,e,i,n)=>On.call(this,t,e,i,n),i.finishedFn=(t,e)=>{wn.call(this,t,e)},n.finishedFn=(t,e)=>{Pn.call(this,t,e)},i.unhideFn=t=>{fn.call(this,"row",t)},n.unhideFn=t=>{fn.call(this,"col",t)},o.moveFn=(t,e)=>{bn.call(this,t,e)},r.moveFn=(t,e)=>{En.call(this,t,e)},a.change=(t,e)=>{Tn.call(this,e,t)},p.change=(t,...e)=>{"save"===t?this.data.addValidation(...e):this.data.removeValidation()},s.itemClick=t=>{"validation"===t?p.setValue(this.data.getSelectedValidation()):"copy"===t?dn.call(this):"cut"===t?cn.call(this):"paste"===t?hn.call(this,"all"):"paste-value"===t?hn.call(this,"text"):"paste-format"===t?hn.call(this,"format"):"hide"===t?un.call(this):Cn.call(this,t)},lt(window,"resize",()=>{this.reload()}),lt(window,"click",t=>{this.focusing=e.contains(t.target)}),lt(window,"paste",t=>{this.focusing&&(hn.call(this,"all",t),t.preventDefault())}),lt(window,"copy",t=>{this.focusing&&(dn.call(this,t),t.preventDefault())}),lt(window,"keydown",t=>{if(!this.focusing)return;const e=t.keyCode||t.which,{key:i,ctrlKey:n,shiftKey:o,metaKey:r}=t;if(n||r)switch(e){case 90:this.undo(),t.preventDefault();break;case 89:this.redo(),t.preventDefault();break;case 67:break;case 88:cn.call(this),t.preventDefault();break;case 85:l.trigger("underline"),t.preventDefault();break;case 86:break;case 37:Zi.call(this,o,"row-first"),t.preventDefault();break;case 38:Zi.call(this,o,"col-first"),t.preventDefault();break;case 39:Zi.call(this,o,"row-last"),t.preventDefault();break;case 40:Zi.call(this,o,"col-last"),t.preventDefault();break;case 32:Qi.call(this,!1,-1,this.data.selector.ci,!1),t.preventDefault();break;case 66:l.trigger("bold");break;case 73:l.trigger("italic");break;default:break}else{switch(e){case 32:o&&Qi.call(this,!1,this.data.selector.ri,-1,!1);break;case 27:s.hide(),pn.call(this);break;case 37:Zi.call(this,o,"left"),t.preventDefault();break;case 38:Zi.call(this,o,"up"),t.preventDefault();break;case 39:Zi.call(this,o,"right"),t.preventDefault();break;case 40:Zi.call(this,o,"down"),t.preventDefault();break;case 9:a.clear(),Zi.call(this,!1,o?"left":"right"),t.preventDefault();break;case 13:a.clear(),Zi.call(this,!1,o?"up":"down"),t.preventDefault();break;case 8:Cn.call(this,"delete-cell-text"),t.preventDefault();break;default:break}"Delete"===i?(Cn.call(this,"delete-cell-text"),t.preventDefault()):e>=65&&e<=90||e>=48&&e<=57||e>=96&&e<=105||"="===t.key?(Tn.call(this,t.key,"input"),yn.call(this)):113===e&&yn.call(this)}})}function Mn(){console.warn("fileOpen not implemented")}async function In(t){try{const t=await Mn({description:"Image files",mimeTypes:["image/jpg","image/png","image/gif","image/webp"],extensions:[".jpg",".jpeg",".png",".gif",".webp"]}),{data:e}=this,i=new FileReader;let n;i.readAsDataURL(t),i.onload=t=>{n=t.target.result,e.setSelectedCellAttr("type","image"),e.rows._[e.selector.ri].cells[e.selector.ci].value=n,e.rows._[e.selector.ri].cells[e.selector.ci].left=e.getSelectedRect().left,e.rows._[e.selector.ri].cells[e.selector.ci].top=e.getSelectedRect().top;const i=new Image;i.src=n,i.onload=function(){const t=this.width,i=this.height;e.rows._[e.selector.ri].cells[e.selector.ci].imagewidth=t,e.rows._[e.selector.ri].cells[e.selector.ci].imageheight=i},ln.call(this)}}catch(e){console.error(e)}}const Rn=()=>"100%";class Sn{cell(t,e,i){throw new Error("Method not implemented.")}constructor(t,e){this.eventMap=gt();const{showToolbar:i,showContextmenu:n,mode:o}=e.settings;this.el=r("div",`${ot}-sheet`),this.toolbar=new ki(e,Rn,!i),this.print=new Fe(e),t.children(this.toolbar.el,this.el,this.print.el),this.data=e,this.tableEl=r("canvas",`${ot}-table`),this.rowResizer=new mt(!1,e.rows.height),this.colResizer=new mt(!0,e.cols.minWidth),this.verticalScrollbar=new _t(!0),this.horizontalScrollbar=new _t(!1),this.editor=new Gt(at,()=>this.getTableOffset(),e.rows.height),this.modalValidation=new zi,this.contextMenu=new $e(()=>this.getRect(),!n),this.selector=new At(e),this.overlayerCEl=r("div",`${ot}-overlayer-content`).children(this.editor.el,this.selector.el),this.overlayerEl=r("div",`${ot}-overlayer`).child(this.overlayerCEl),this.sortFilter=new Gi,this.el.children(this.tableEl,this.overlayerEl.el,this.rowResizer.el,this.colResizer.el,this.verticalScrollbar.el,this.horizontalScrollbar.el,this.contextMenu.el,this.modalValidation.el,this.sortFilter.el),this.table=new Re(this.tableEl.el,e),Dn.call(this),ln.call(this),"read"!==o&&Qi.call(this,!1,0,0)}on(t,e){return this.eventMap.on(t,e),this}trigger(t,...e){const{eventMap:i}=this;i.fire(t,e)}resetData(t){this.editor.clear(),this.data=t,rn.call(this),an.call(this),this.toolbar.resetData(t),this.print.resetData(t),this.selector.resetData(t),this.table.resetData(t)}loadData(t){return this.data.setData(t),ln.call(this),this}freeze(t,e){const{data:i}=this;return i.setFreeze(t,e),ln.call(this),this}undo(){this.data.undo(),ln.call(this)}redo(){this.data.redo(),ln.call(this)}reload(){return ln.call(this),this}getRect(){const{data:t}=this;return{width:t.viewWidth(),height:t.viewHeight()}}getTableOffset(){const{rows:t,cols:e}=this.data,{width:i,height:n}=this.getRect();return{width:i-e.indexWidth,height:n-t.height,left:e.indexWidth,top:t.height}}}class Bn extends ze{constructor(t){const e=new Ke("ellipsis");super(e,"auto",!1,"top-left"),this.contentClick=t}reset(t){const e=t.map((t,e)=>r("div",`${ot}-item`).css("width","150px").css("font-weight","normal").on("click",()=>{this.contentClick(e),this.hide()}).child(t));this.setContentChildren(...e)}setTitle(){console.log("empty function")}}const An=[{key:"delete",title:c("contextmenu.deleteSheet")}];function Ln(t){return r("div",`${ot}-item`).child(t.title()).on("click",()=>{this.itemClick(t.key),this.hide()})}function kn(){return An.map(t=>Ln.call(this,t))}class Hn{constructor(){this.el=r("div",`${ot}-contextmenu`).css("width","160px").children(...kn.call(this)).hide(),this.itemClick=()=>{console.log("empty function")}}hide(){const{el:t}=this;t.hide(),dt(t)}setOffset(t){const{el:e}=this;e.offset(t),e.show(),ct(e)}}class Fn{constructor(t=()=>{console.log("empty function")},e=()=>{console.log("empty function")},i=()=>{console.log("empty function")},n=()=>{console.log("empty function")}){this.swapFunc=e,this.updateFunc=n,this.dataNames=[],this.activeEl=null,this.deleteEl=null,this.items=[],this.moreEl=new Bn(t=>{this.clickSwap2(this.items[t])}),this.contextMenu=new Hn,this.contextMenu.itemClick=i,this.el=r("div",`${ot}-bottombar`).children(this.contextMenu.el,this.menuEl=r("ul",`${ot}-menu`).child(r("li","").children(new Ke("add").on("click",()=>{t()}),r("span","").child(this.moreEl))))}addItem(t,e,i){this.dataNames.push(t);const n=r("li",e?"active":"").child(t);n.on("click",()=>{this.clickSwap2(n)}).on("contextmenu",t=>{if("read"===i.mode)return;const{offsetLeft:e,offsetHeight:o}=t.target;this.contextMenu.setOffset({left:e,bottom:o+1}),this.deleteEl=n}).on("dblclick",()=>{if("read"===i.mode)return;const t=n.html(),e=new Fi("auto","");e.val(t),e.input.on("blur",({target:e})=>{const{value:i}=e,n=this.dataNames.findIndex(e=>e===t);this.renameItem(n,i)}),n.html("").child(e.el),e.focus()}),e&&this.clickSwap(n),this.items.push(n),this.menuEl.child(n),this.moreEl.reset(this.dataNames)}renameItem(t,e){this.dataNames.splice(t,1,e),this.moreEl.reset(this.dataNames),this.items[t].html("").child(e),this.updateFunc(t,e)}clear(){this.items.forEach(t=>{this.menuEl.removeChild(t.el)}),this.items=[],this.dataNames=[],this.moreEl.reset(this.dataNames)}deleteItem(){const{activeEl:t,deleteEl:e}=this;if(this.items.length>1){const i=this.items.findIndex(t=>t===e);if(this.items.splice(i,1),this.dataNames.splice(i,1),this.menuEl.removeChild(e.el),this.moreEl.reset(this.dataNames),t===e){const[t]=this.items;return this.activeEl=t,this.activeEl.toggle(),[i,0]}return[i,-1]}return[-1]}clickSwap2(t){const e=this.items.findIndex(e=>e===t);this.clickSwap(t),this.activeEl.toggle(),this.swapFunc(e)}clickSwap(t){null!==this.activeEl&&this.activeEl.toggle(),this.activeEl=t}}class Wn{constructor(t,e={}){let i=t;this.options={showBottomBar:!0,...e},this.sheetIndex=1,this.datas=[],"string"===typeof t&&(i=document.querySelector(t)),this.bottombar=this.options.showBottomBar?new Fn(()=>{if("read"===this.options.mode)return;const t=this.addSheet();this.sheet.resetData(t)},t=>{const e=this.datas[t];this.sheet.resetData(e)},()=>{this.deleteSheet()},(t,e)=>{this.datas[t].name=e,this.sheet.trigger("change")}):null,this.data=this.addSheet();const n=r("div",`${ot}`).on("contextmenu",t=>t.preventDefault());i.appendChild(n.el),this.sheet=new Sn(n,this.data),null!==this.bottombar&&n.child(this.bottombar.el)}addSheet(t,e=!0){const i=t||`sheet${this.sheetIndex}`,n=new nt(i,this.options);return n.change=(...t)=>{this.sheet.trigger("change",...t)},this.datas.push(n),null!==this.bottombar&&this.bottombar.addItem(i,e,this.options),this.sheetIndex+=1,n}deleteSheet(){if(null===this.bottombar)return;const[t,e]=this.bottombar.deleteItem();t>=0&&(this.datas.splice(t,1),e>=0&&this.sheet.resetData(this.datas[e]),this.sheet.trigger("change"))}loadData(t){const e=Array.isArray(t)?t:[t];if(null!==this.bottombar&&this.bottombar.clear(),this.datas=[],e.length>0)for(let i=0;i<e.length;i+=1){const t=e[i],n=this.addSheet(t.name,0===i);n.setData(t),0===i&&this.sheet.resetData(n)}return this}getData(){return this.datas.map(t=>t.getData())}cellText(t,e,i,n=0){return this.datas[n].setCellText(t,e,i,"finished"),this}cell(t,e,i=0){return this.datas[i].getCell(t,e)}cellStyle(t,e,i=0){return this.datas[i].getCellStyle(t,e)}reRender(){return this.sheet.table.render(),this}on(t,e){return this.sheet.on(t,e),this}validate(){const{validations:t}=this.data;return t.errors.size<=0}change(t){return this.sheet.on("change",t),this}static locale(t,e){h(t,e)}}const jn=(t,e={})=>new Wn(t,e);window&&(window.x_spreadsheet=jn,window.x_spreadsheet.locale=(t,e)=>h(t,e));var Un=Wn,$n={toolbar:{undo:"撤销",redo:"恢复",print:"打印",paintformat:"格式刷",clearformat:"清除格式",format:"数据格式",fontName:"字体",fontSize:"字号",fontBold:"加粗",fontItalic:"倾斜",underline:"下划线",strike:"删除线",color:"字体颜色",bgcolor:"填充颜色",border:"边框",merge:"合并单元格",align:"水平对齐",valign:"垂直对齐",textwrap:"自动换行",freeze:"冻结",autofilter:"自动筛选",formula:"函数",more:"更多"},contextmenu:{copy:"复制",cut:"剪切",paste:"粘贴",pasteValue:"粘贴数据",pasteFormat:"粘贴格式",hide:"隐藏",insertRow:"插入行",insertColumn:"插入列",deleteSheet:"删除",deleteRow:"删除行",deleteColumn:"删除列",deleteCell:"删除",deleteCellText:"删除数据",validation:"数据验证",cellprintable:"可打印",cellnonprintable:"不可打印",celleditable:"可编辑",cellnoneditable:"不可编辑"},print:{size:"纸张大小",orientation:"方向",orientations:["横向","纵向"]},format:{normal:"正常",text:"文本",number:"数值",percent:"百分比",rmb:"人民币",usd:"美元",eur:"欧元",date:"短日期",time:"时间",datetime:"长日期",duration:"持续时间"},formula:{sum:"求和",average:"求平均值",max:"求最大值",min:"求最小值",concat:"字符拼接",_if:"条件判断",and:"和",or:"或"},validation:{required:"此值必填",notMatch:"此值不匹配验证规则",between:"此值应在 {} 和 {} 之间",notBetween:"此值不应在 {} 和 {} 之间",notIn:"此值不在列表中",equal:"此值应该等于 {}",notEqual:"此值不应该等于 {}",lessThan:"此值应该小于 {}",lessThanEqual:"此值应该小于等于 {}",greaterThan:"此值应该大于 {}",greaterThanEqual:"此值应该大于等于 {}"},error:{pasteForMergedCell:"无法对合并的单元格执行此操作"},calendar:{weeks:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},button:{next:"下一步",cancel:"取消",remove:"删除",save:"保存",ok:"确认"},sort:{desc:"降序",asc:"升序"},filter:{empty:"空白"},dataValidation:{mode:"模式",range:"单元区间",criteria:"条件",modeType:{cell:"单元格",column:"列模式",row:"行模式"},type:{list:"列表",number:"数字",date:"日期",phone:"手机号",email:"电子邮件"},operator:{be:"在区间",nbe:"不在区间",lt:"小于",lte:"小于等于",gt:"大于",gte:"大于等于",eq:"等于",neq:"不等于"}}};Un.locale("zh-cn",$n);class zn{constructor(t,e){(0,n.A)(this,"xs",void 0);const i={...e};this.xs=new Un(t,i)}getData(){return this.xs.getData()}setData(t){this.xs.loadData(t)}setCellText(t,e,i){this.xs.cellText(t,e,i).reRender()}setCellValue(t,e,i){console.log(t,e,i,"in setCellValue"),this.xs.sheet.data.rows.setCell(t,e,i),setTimeout(()=>{this.xs.reRender()},0)}getCellValue(t,e,i=0){this.xs.sheet.cell(t,e,i)}setRangeShow(t){if(console.log(t,"in set range show"),t=t||{},!t||t.row.length<2||t.column.length<2)return void console.error("range illegal");const{row:e,column:i}=t;if(e.includes(NaN)||i.includes(NaN))return void console.error("range illegal");const n=e[0],o=i[0],r=e[1],a=i[1];this.xs.sheet.selector.range.set(n,o,r,a),this.xs.sheet.selector.resetAreaOffset(),this.xs.sheet.selector.el.show(),this.xs.reRender()}clearRange(){console.log("clear range");const t=this.xs.sheet.data.selector.range;this.xs.sheet.data.rows.deleteCells(t),this.xs.reRender()}addRow(t,e=1){t=t||this.xs.sheet.data.rows.len,this.xs.sheet.data.rows.insert(+t,+e),this.xs.sheet.reload()}resize(){console.log("... SpreadSheet resize ...")}on(t,e){return this.xs.on(t,e)}}var Kn=zn},70587:function(t,e,i){"use strict";t.exports=i.p+"img/v_img.86231060.svg"},73360:function(){(function(){window.HIPRINT_CONFIG={movingDistance:1.5,paperHeightTrim:1,showPosition:!0,positionLineMode:!1,positionUnit:!0,showSizeBox:!0,adsorbMin:3,showAdsorbLine:!0,adsorbLineMin:6,paperNumberContinue:!0,panel:{supportOptions:[{name:"panelPaperRule",hidden:!1},{name:"panelPageRule",hidden:!1},{name:"firstPaperFooter",hidden:!1},{name:"evenPaperFooter",hidden:!1},{name:"oddPaperFooter",hidden:!1},{name:"lastPaperFooter",hidden:!1},{name:"leftOffset",hidden:!1},{name:"topOffset",hidden:!1},{name:"fontFamily",hidden:!1},{name:"orient",hidden:!1},{name:"paperNumberDisabled",hidden:!1},{name:"paperNumberContinue",hidden:!1},{name:"paperNumberFormat",hidden:!1},{name:"watermarkOptions",hidden:!1},{name:"panelLayoutOptions",hidden:!1}],default:{}},text:{tabs:[{name:"基础",options:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"hideTitle",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"dataType",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"color",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"textDecoration",hidden:!1},{name:"textAlign",hidden:!1},{name:"textContentVerticalAlign",hidden:!1},{name:"textContentWrap",hidden:!1},{name:"lineHeight",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"边框",options:[{name:"optionsGroup",hidden:!1},{name:"borderLeft",hidden:!1},{name:"borderTop",hidden:!1},{name:"borderRight",hidden:!1},{name:"borderBottom",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderColor",hidden:!1},{name:"contentPaddingLeft",hidden:!1},{name:"contentPaddingTop",hidden:!1},{name:"contentPaddingRight",hidden:!1},{name:"contentPaddingBottom",hidden:!1}]},{name:"高级",options:[{name:"textType",hidden:!1},{name:"barcodeMode",hidden:!1},{name:"barTextMode",hidden:!1},{name:"barWidth",hidden:!1},{name:"barAutoWidth",hidden:!1},{name:"qrCodeLevel",hidden:!1},{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"axis",hidden:!1},{name:"upperCase",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}]}],supportOptions:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"dataType",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"color",hidden:!1},{name:"textDecoration",hidden:!1},{name:"textAlign",hidden:!1},{name:"textContentVerticalAlign",hidden:!1},{name:"textContentWrap",hidden:!1},{name:"lineHeight",hidden:!1},{name:"textType",hidden:!1},{name:"barcodeMode",hidden:!1},{name:"barTextMode",hidden:!1},{name:"barWidth",hidden:!1},{name:"barAutoWidth",hidden:!1},{name:"qrCodeLevel",hidden:!1},{name:"hideTitle",hidden:!1},{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1},{name:"optionsGroup",hidden:!1},{name:"borderLeft",hidden:!1},{name:"borderTop",hidden:!1},{name:"borderRight",hidden:!1},{name:"borderBottom",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderColor",hidden:!1},{name:"contentPaddingLeft",hidden:!1},{name:"contentPaddingTop",hidden:!1},{name:"contentPaddingRight",hidden:!1},{name:"contentPaddingBottom",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}],default:{width:120,height:9.75}},image:{tabs:[{name:"基础",options:[{name:"field",hidden:!1},{name:"src",hidden:!1},{name:"fit",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"transform",hidden:!1},{name:"zIndex",hidden:!1},{name:"borderRadius",hidden:!1}]},{name:"高级",options:[{name:"pageBreak",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}]}],supportOptions:[{name:"field",hidden:!1},{name:"src",hidden:!1},{name:"fit",hidden:!1},{name:"borderRadius",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"pageBreak",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}],default:{}},longText:{tabs:[{name:"基础",options:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"hideTitle",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"textAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"color",hidden:!1},{name:"longTextIndent",hidden:!1},{name:"leftSpaceRemoved",hidden:!1},{name:"lHeight",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}]}],supportOptions:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"textAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"color",hidden:!1},{name:"hideTitle",hidden:!1},{name:"longTextIndent",hidden:!1},{name:"leftSpaceRemoved",hidden:!1},{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"lHeight",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1},{name:"optionsGroup",hidden:!1},{name:"borderLeft",hidden:!1},{name:"borderTop",hidden:!1},{name:"borderRight",hidden:!1},{name:"borderBottom",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderColor",hidden:!1},{name:"contentPaddingLeft",hidden:!1},{name:"contentPaddingTop",hidden:!1},{name:"contentPaddingRight",hidden:!1},{name:"contentPaddingBottom",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}],default:{height:42,width:550}},table:{tabs:[{name:"基础",options:[{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"tableHeaderRepeat",hidden:!1},{name:"tableFooterRepeat",hidden:!1},{name:"autoCompletion",hidden:!1},{name:"maxRows",hidden:!1},{name:"columns",hidden:!1}]},{name:"样式",options:[{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"lineHeight",hidden:!1},{name:"textAlign",hidden:!1},{name:"gridColumns",hidden:!1},{name:"gridColumnsGutter",hidden:!1},{name:"tableBorder",hidden:!1},{name:"tableHeaderBorder",hidden:!1},{name:"tableHeaderCellBorder",hidden:!1},{name:"tableHeaderRowHeight",hidden:!1},{name:"tableHeaderBackground",hidden:!1},{name:"tableHeaderFontSize",hidden:!1},{name:"tableHeaderFontWeight",hidden:!1},{name:"tableBodyRowHeight",hidden:!1},{name:"tableBodyRowBorder",hidden:!1},{name:"tableBodyCellBorder",hidden:!1},{name:"tableFooterBorder",hidden:!1},{name:"tableFooterCellBorder",hidden:!1},{name:"lHeight",hidden:!1}]},{name:"列",options:[]},{name:"高级",options:[{name:"axis",hidden:!1},{name:"styler",hidden:!1},{name:"rowStyler",hidden:!1},{name:"footerFormatter",hidden:!1},{name:"rowsColumnsMerge",hidden:!1},{name:"rowsColumnsMergeClean",hidden:!1},{name:"groupSequenceContinue",hidden:!1},{name:"groupFieldsFormatter",hidden:!1},{name:"groupFormatter",hidden:!1},{name:"groupFooterFormatter",hidden:!1},{name:"gridColumnsFooterFormatter",hidden:!1}]}],supportOptions:[{name:"field",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"lineHeight",hidden:!1},{name:"textAlign",hidden:!1},{name:"gridColumns",hidden:!1},{name:"gridColumnsGutter",hidden:!1},{name:"tableHeaderRepeat",hidden:!1},{name:"tableBorder",hidden:!1},{name:"tableHeaderBorder",hidden:!1},{name:"tableHeaderCellBorder",hidden:!1},{name:"tableHeaderRowHeight",hidden:!1},{name:"tableHeaderBackground",hidden:!1},{name:"tableHeaderFontSize",hidden:!1},{name:"tableHeaderFontWeight",hidden:!1},{name:"tableBodyRowHeight",hidden:!1},{name:"tableBodyRowBorder",hidden:!1},{name:"tableBodyCellBorder",hidden:!1},{name:"tableFooterBorder",hidden:!1},{name:"tableFooterCellBorder",hidden:!1},{name:"axis",hidden:!1},{name:"lHeight",hidden:!1},{name:"autoCompletion",hidden:!1},{name:"maxRows",hidden:!1},{name:"columns",hidden:!1},{name:"styler",hidden:!1},{name:"rowStyler",hidden:!1},{name:"tableFooterRepeat",hidden:!1},{name:"footerFormatter",hidden:!1},{name:"rowsColumnsMerge",hidden:!1},{name:"rowsColumnsMergeClean",hidden:!1},{name:"groupSequenceContinue",hidden:!1},{name:"groupFieldsFormatter",hidden:!1},{name:"groupFormatter",hidden:!1},{name:"groupFooterFormatter",hidden:!1},{name:"gridColumnsFooterFormatter",hidden:!1}],default:{width:550}},hline:{tabs:[{name:"基础",options:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"pageBreak",hidden:!1},{name:"axis",hidden:!1}]}],supportOptions:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}],default:{borderWidth:.75,height:9,width:90}},vline:{tabs:[{name:"基础",options:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"pageBreak",hidden:!1},{name:"axis",hidden:!1}]}],supportOptions:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}],default:{borderWidth:void 0,height:90,width:9}},rect:{tabs:[{name:"基础",options:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"pageBreak",hidden:!1},{name:"axis",hidden:!1}]}],supportOptions:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}],default:{borderWidth:void 0,height:90,width:90}},oval:{tabs:[{name:"基础",options:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"pageBreak",hidden:!1},{name:"axis",hidden:!1}]}],supportOptions:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}],default:{borderWidth:void 0,height:90,width:90}},html:{tabs:[{name:"基础",options:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"pageBreak",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1}]}],supportOptions:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"zIndex",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1}],default:{height:90,width:90}},tableColumn:{supportOptions:[{name:"title",hidden:!1},{name:"align",hidden:!1},{name:"halign",hidden:!1},{name:"vAlign",hidden:!1},{name:"tableTextType",hidden:!1},{name:"tableBarcodeMode",hidden:!1},{name:"tableQRCodeLevel",hidden:!1},{name:"tableColumnHeight",hidden:!1},{name:"showCodeTitle",hidden:!1},{name:"paddingLeft",hidden:!1},{name:"paddingRight",hidden:!1},{name:"tableSummaryTitle",hidden:!1},{name:"tableSummaryText",hidden:!1},{name:"tableSummaryColspan",hidden:!1},{name:"tableSummary",hidden:!1},{name:"tableSummaryAlign",hidden:!1},{name:"tableSummaryNumFormat",hidden:!1},{name:"tableSummaryFormatter",hidden:!1},{name:"upperCase",hidden:!1},{name:"renderFormatter",hidden:!1},{name:"formatter2",hidden:!1},{name:"styler2",hidden:!1},{name:"stylerHeader",hidden:!1}],default:{height:90,width:90}},barcode:{tabs:[{name:"基础",options:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"barcodeType",hidden:!1},{name:"barWidth",hidden:!1},{name:"barAutoWidth",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"hideTitle",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"color",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"barColor",hidden:!1},{name:"textAlign",hidden:!1},{name:"textContentVerticalAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}]}],supportOptions:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"barcodeType",hidden:!1},{name:"barWidth",hidden:!1},{name:"barAutoWidth",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"hideTitle",hidden:!1},{name:"fixed",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"color",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"barColor",hidden:!1},{name:"textAlign",hidden:!1},{name:"textContentVerticalAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1},{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}],default:{width:160,height:40,title:"条形码",barcodeType:"code128",testData:"barcode"}},qrcode:{tabs:[{name:"基础",options:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"qrcodeType",hidden:!1},{name:"qrCodeLevel",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"hideTitle",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"color",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"barColor",hidden:!1},{name:"textAlign",hidden:!1},{name:"textContentVerticalAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}]}],supportOptions:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"qrcodeType",hidden:!1},{name:"qrCodeLevel",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"hideTitle",hidden:!1},{name:"fixed",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"color",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"barColor",hidden:!1},{name:"textAlign",hidden:!1},{name:"textContentVerticalAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1},{name:"pageBreak",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}],default:{width:80,height:80,title:"二维码",qrcodeType:"qrcode",testData:"qrcode"}}}})()},80037:function(t){"use strict";t.exports=JSON.parse('{"请选择字段":"Пожалуйста, выберите поле","计数":"Подсчет","合计":"Сумма","平均值":"Среднее значение","最小值":"Минимум","最大值":"Максимум","此格式不支持该文本":"Этот формат не поддерживает такой текст","二维码生成失败":"Сбой генерации QR-кода","字体行高":"Высота строки шрифта","默认":"По умолчанию","字体":"Шрифт","宋体":"SimSun","微软雅黑":"Microsoft YaHei","字体大小":"Размер шрифта","字体粗细":"Толщина шрифта","更细":"Тоньше","粗体":"Жирный","粗体+":"Жирнее","字间距":"Межбуквенный интервал","左右对齐":"По ширине","居左":"По левому краю","居中":"По центру","居右":"По правому краю","两端对齐":"По ширине","标题显示隐藏":"Отображение заголовка","显示":"Показывать","隐藏":"Скрыть","表格边框":"Граница таблицы","有边框":"Да","无边框":"Нет","表头边框":"Граница заголовка","左边框":"Левая граница","右边框":"Правая граница","左右边框":"Левая и правая границы","上边框":"Верхняя граница","下边框":"Нижняя граница","上下边框":"Верхняя и нижняя границы","表头单元格边框":"Граница ячейки заголовка","表尾边框":"Граница подвала","表尾单元格边框":"Граница ячейки подвала","表头行高":"Высота строки заголовка","表头字体大小":"Размер шрифта заголовка","表头字体粗细":"Толщина шрифта заголовка","表体单元格边框":"Граница ячейки основной части","表体行高":"Высота строки основной части","表头背景":"Фон заголовка","线宽":"Толщина линии","边框大小":"Размер границы","条形码格式":"Тип штрихкода","商品条码":"Штрихкод товара","条形码":"Штрихкод","物流":"Логистика","邮政和快递编码":"Почтовый и курьерский код","医疗产品编码":"Код медицинского продукта","不常用编码":"Нестандартный код","附加组件":"Дополнительный компонент","实验编码":"Экспериментальный код","条码类型":"Тип штрихкода","二维码类型":"Тип QR-кода","二维码容错率":"Уровень коррекции ошибок QR-кода","字体颜色":"Цвет шрифта","文本修饰":"Оформление текста","下划线":"Подчеркивание","上划线":"Надчеркивание","穿梭线":"Перечеркивание","字段名":"Имя поля","请输入字段名":"Пожалуйста, введите имя поля","标题":"Заголовок","请输入标题":"Пожалуйста, введите заголовок","测试数据":"Тестовые данные","仅字段名称存在时有效":"Действительно только если существует имя поля","位置坐标":"Координаты позиции","X位置(左)":"Позиция X (слева)","Y位置(上)":"Позиция Y (сверху)","同步":"Синхронизировать","不同步":"Не синхронизировать","宽高大小":"Ширина и высота","宽":"Ширина","高":"Высота","图片地址":"URL изображения","请输入图片地址":"Пожалуйста, введите URL изображения","选择":"Выбрать","图片缩放":"Масштаб изображения","等比":"Пропорционально","裁切":"Обрезать","填充":"Заполнить","原始尺寸":"Исходный размер","颜色":"Цвет","边框颜色":"Цвет границы","水印功能":"Водяной знак","水印内容":"Содержание водяного знака","旋转角度":"Угол поворота","水平密度":"Горизонтальная плотность","垂直密度":"Вертикальная плотность","水印时间":"Время водяного знака","时间格式":"Формат времени","页码格式":"Формат номера страницы","显示页码":"Показывать номер страницы","页码续排":"Продолжить нумерацию страниц","续排":"Продолжить","重排":"Сбросить","每行缩进":"Отступ строки","显示规则":"Правило отображения","始终隐藏":"Всегда скрывать","首页":"Первая страница","奇数页":"Нечетные страницы","偶数页":"Четные страницы","尾页":"Последняя страница","强制分页":"Принудительный разрыв страницы","是":"Да","否":"Нет","打印规则":"Правило печати","保持奇数":"Сохранять нечетные","保持偶数":"Сохранять четные","分页规则":"Правило разрыва страниц","不分页":"Без разрыва страниц","移除段落左侧空白":"Убрать левый отступ","移除":"Удалить","不移除":"Не удалять","首页页尾":"Нижний колонтитул первой страницы","尾页页尾":"Нижний колонтитул последней страницы","偶数页页尾":"Нижний колонтитул на четных страницах","奇数页页尾":"Нижний колонтитул на нечетных страницах","位置固定":"Фиксированная позиция","拖动方向":"Направление перетаскивания","横向":"Горизонтально","竖向":"Вертикально","左偏移":"Смещение слева","偏移量":"Смещение","最低高度":"Минимальная высота","文本过短或为空时的高度":"Высота при слишком коротком или пустом тексте","隐藏规则":"Правило скрытия","表体行边框":"Граница строки основной части","元素层级":"Z-индекс","边框设置":"Настройки границы","实线":"Сплошная линия","虚线":"Пунктир","左内边距":"Отступ слева","上内边距":"Отступ сверху","右内边距":"Отступ справа","下内边距":"Отступ снизу","样式":"Стиль","边框样式":"Стиль границы","长虚线":"Длинный пунктир","短虚线":"Короткий пунктир","背景颜色":"Цвет фона","纸张方向(仅自定义纸质有效)":"Ориентация бумаги (только пользовательская)","纵向":"Книжная","上下对齐":"Вертикальное выравнивание","垂直居中":"По центру по вертикали","底部":"Внизу","文本换行":"Перенос строк","不换行":"Без переноса строк","不换行&隐藏":"Без переноса строк и скрыть","不换行&省略":"Без переноса строк и многоточие","打印类型":"Тип печати","文本":"Текст","二维码":"QR-код","字段类型":"Тип поля","默认(文本)":"По умолчанию (текст)","序号":"Индекс","图片":"Изображение","单元格高度":"Высота ячейки","条形码、二维码以及图片有效":"Штрихкод, QR-код и изображение действительны","底部聚合标题":"Заголовок итогов","底部聚合文本":"Текст итогов","聚合类型":"Тип итогов","底部聚合合并列数":"Количество объединенных столбцов итогов","合并列数":"Количество объединенных столбцов","底部聚合类型左右对齐":"Выравнивание итогов","整数":"Целое число","保留%s位":"Оставить %s знаков после запятой","底部聚合小数":"Дробная часть итогов","转大小写":"Верхний или нижний регистр","底部聚合类型":"Тип итогов","不聚合":"Без итогов","仅文本":"Только текст","顶部偏移":"Смещение сверху","一行多组":"Несколько групп в строке","一行二列":"Одна строка две колонки","一行三列":"Одна строка три колонки","一行四列":"Одна строка четыре колонки","一行多组间隔":"Интервал между группами в строке","表格头显示":"Отображение заголовка таблицы","每页显示":"Показывать на странице","首页显示":"Показывать на первой странице","不显示":"Не показывать","数据类型":"Тип данных","日期时间":"Дата и время","布尔":"Логический","格式":"Формат","格式化函数":"Функция форматирования","样式函数":"Функция стиля","行/列合并函数":"Объединение строки/столбца","跨页合并是否清除":"Очистить объединение перед разрывом страницы","表格脚函数":"Функция нижнего колонтитула таблицы","分组字段函数":"Функция поля группировки","分组头格式化函数":"Функция форматирования заголовка группы","分组头信息":"Информация заголовка группы","分组脚格式化函数":"Функция форматирования подвала группы","分组脚信息":"Информация подвала группы","多组表格脚函数":"Функция нижнего колонтитула таблицы с несколькими группами","行样式函数":"Функция стиля строки","单元格左右对齐":"Выравнивание ячеек по горизонтали","单元格上下对齐":"Вертикальное выравнивание ячеек","上":"Вверху","中":"По центру","表格头单元格左右对齐":"Горизонтальное выравнивание ячеек заголовка","单元格样式函数":"Функция стиля ячейки","表格头样式函数":"Функция стиля заголовка таблицы","单元格格式化函数":"Функция форматирования ячейки","单元格渲染函数":"Функция отрисовки ячейки","自动补全":"Автозаполнение","每页最大行数":"Макс. строк на странице","表格脚显示":"Отображение нижнего колонтитула таблицы","最后显示":"Показать на последней странице","没有足够空间进行表格分页，请调整页眉/页脚线":"Недостаточно места для постраничного разделения таблицы, отрегулируйте строку заголовка/подвала","没有足够空间,显示下方内容, 可分页高度":"Недостаточно места, показать содержимое ниже, высоту можно разбить на страницы:","列属性":"Свойство столбца","在上方插入行":"Вставить строку выше","在下方插入行":"Вставить строку ниже","向左方插入列":"Вставить столбец слева","向右方插入列":"Вставить столбец справа","删除行":"Удалить строку","删除列":"Удалить столбец","对齐":"Выравнивание","左":"Слева","左右居中":"По центру","右":"Справа","下":"Внизу","合并单元格":"Объединить ячейки","解开单元格":"Разъединить ячейки","条形码生成失败":"Сбой генерации штрихкода","请检查 hiprint.init 的 provider 是否配置了":"Проверьте, настроен ли поставщик hiprint.init","已移除\'tableCustom\',请替换使用\'table\'详情见更新记录":"\'TableCustom\' была удалена, замените ее на \'table\', подробности см. в журнале обновлений","确定":"Подтвердить","删除":"Удалить","连接客户端失败":"Не удалось подключиться к клиенту","基础":"Основные","边框":"Граница","列":"Столбец","高级":"Дополнительно","面板排列":"Расположение панели","排列方式":"Способ распределения","垂直间距%s":"Вертикальный интервал %s","水平间距%s":"Горизонтальный интервал %s","边框圆角":"Радиус границы","显示码值":"Отображение кодового значения"}')},83729:function(t,e,i){"use strict";i(18111),i(13579);function n(t,e="YYYY-MM-DD"){if(!t)return null;"number"===typeof t&&(t=new Date(t));const i=t.getFullYear(),n=t.getMonth(),o=t.getDate(),r=t.getHours(),a=r%12===0?12:r%12,s=t.getMinutes(),l=t.getSeconds(),p=t=>`0${t}`.slice(-2),d={YYYY:i,MM:p(n+1),MMMM:`${n+1}月`,M:n+1,DD:p(o),D:o,HH:p(r),H:r,hh:p(a),h:a,mm:p(s),m:s,ss:p(l),s:l};return e.replace(/Y+|M+|D+|H+|h+|m+|s+|S+|Q/g,t=>String(d[t]))}const o={id:"watermark",watch:!1,content:"watermark-demo",container:".hiprint-printPaper",width:200,height:200,textAlign:"center",textBaseline:"middle",fontSize:"14px",fontFamily:"Microsoft Yahei",fillStyle:"rgba(184, 184, 184, 0.3)",rotate:25,timestamp:!1,format:"YYYY-MM-DD HH:mm",zIndex:0};let r={};function a(t){const{id:e,watch:i,content:o,container:s,width:l,height:p,textAlign:d,textBaseline:c,fontSize:h,fontFamily:u,fillStyle:f,rotate:g,timestamp:m,format:_,zIndex:v}=t;r[e]={wmMo:null,wmTimer:null};const y=document.createElement("canvas");y.setAttribute("width",`${l}px`),y.setAttribute("height",`${p}px`);let b="string"===typeof s?document.querySelector(s):s;const E=y.getContext("2d");E.textAlign=d,E.textBaseline=c,E.font=`${h} ${u}`,E.fillStyle=f,E.translate(l/2,p/2),E.rotate(-Math.PI/180*g),E.fillText(`${o}`,0,0),m&&E.fillText(`${n(new Date,_)}`,0,parseInt(h)+5);let w=b.querySelector(".__vm__"+e);const P=w||document.createElement("div"),T=b.getAttribute("style"),C=`position:absolute;user-select:none;top:0;left:0;${T};z-index:${v};pointer-events:none !important;background-repeat:repeat;background-image:url('${y.toDataURL()}');-webkit-print-color-adjust: exact;`;if(P.setAttribute("style",C),P.classList.add("__vm__"+e),w||b.insertBefore(P,b.firstChild),i){const i=window.MutationObserver||window.WebKitMutationObserver;i&&(r[e]["wmMo"]=new i(i=>{let n=i.some(t=>t.target.className==b.className&&"attributes"==t.type);w=b.querySelector(".__vm__"+e),(w&&w.getAttribute("style")!==C||!w||n)&&(r[e]["wmMo"].disconnect(),r[e]["wmMo"]=null,delete r[e]["wmMo"],a(t))}),r[e]["wmMo"].observe(b,{attributes:!0,subtree:!0,childList:!0}))}if(_){let t=864e5;_.includes("s")?t=1e3:_.includes("m")?t=6e4:(_.includes("h")||_.includes("H"))&&(t=36e5),r[e]["wmTimer"]=window.setTimeout(()=>{P.style.bottom="0"},t)}}const s=function(t){const{id:e,watch:i,container:n}=t;if(i){let t="string"===typeof n?document.querySelector(n):n;r[e]&&(r[e]["wmMo"]&&r[e]["wmMo"].disconnect(),r[e]["wmMo"]=null,r[e]["wmTimer"]&&window.clearTimeout(r[e]["wmTimer"]),r[e]["wmTimer"]=null,delete r[e]);const i=t.querySelector(".__vm__"+e);i&&i.parentNode.removeChild(i)}},l=function(t){let e=Object.assign({},o,t);s(e),a(e)};e.A={createWatermark:l,destroyWatermark:s}},85833:function(t){"use strict";t.exports=JSON.parse('{"请选择字段":"请选择字段","计数":"计数","合计":"合计","平均值":"平均值","最小值":"最小值","最大值":"最大值","此格式不支持该文本":"此格式不支持该文本","二维码生成失败":"二维码生成失败","字体行高":"字体行高","默认":"默认","字体":"字体","宋体":"宋体","微软雅黑":"微软雅黑","字体大小":"字体大小","字体粗细":"字体粗细","更细":"更细","粗体":"粗体","粗体+":"粗体+","字间距":"字间距","左右对齐":"左右对齐","居左":"居左","居中":"居中","居右":"居右","两端对齐":"两端对齐","标题显示隐藏":"标题显示隐藏","显示":"显示","隐藏":"隐藏","表格边框":"表格边框","有边框":"有边框","无边框":"无边框","表头边框":"表头边框","左边框":"左边框","右边框":"右边框","左右边框":"左右边框","上边框":"上边框","下边框":"下边框","上下边框":"上下边框","表头单元格边框":"表头单元格边框","表尾边框":"表尾边框","表尾单元格边框":"表尾单元格边框","表头行高":"表头行高","表头字体大小":"表头字体大小","表头字体粗细":"表头字体粗细","表体单元格边框":"表体单元格边框","表体行高":"表体行高","表头背景":"表头背景","线宽":"线宽","边框大小":"边框大小","条形码格式":"条形码格式","商品条码":"商品条码","条形码":"条形码","物流":"物流","邮政和快递编码":"邮政和快递编码","医疗产品编码":"医疗产品编码","不常用编码":"不常用编码","附加组件":"附加组件","实验编码":"实验编码","条码类型":"条码类型","二维码类型":"二维码类型","二维码容错率":"二维码容错率","字体颜色":"字体颜色","文本修饰":"文本修饰","下划线":"下划线","上划线":"上划线","穿梭线":"穿梭线","字段名":"字段名","请输入字段名":"请输入字段名","标题":"标题","请输入标题":"请输入标题","测试数据":"测试数据","仅字段名称存在时有效":"仅字段名称存在时有效","位置坐标":"位置坐标","X位置(左)":"X位置(左)","Y位置(上)":"Y位置(上)","同步":"同步","不同步":"不同步","宽高大小":"宽高大小","宽":"宽","高":"高","图片地址":"图片地址","请输入图片地址":"请输入图片地址","选择":"选择","图片缩放":"图片缩放","等比":"等比","裁切":"裁切","填充":"填充","原始尺寸":"原始尺寸","颜色":"颜色","边框颜色":"边框颜色","水印功能":"水印功能","水印内容":"水印内容","旋转角度":"旋转角度","水平密度":"水平密度","垂直密度":"垂直密度","水印时间":"水印时间","时间格式":"时间格式","页码格式":"页码格式","显示页码":"显示页码","页码续排":"页码续排","续排":"续排","重排":"重排","每行缩进":"每行缩进","显示规则":"显示规则","始终隐藏":"始终隐藏","首页":"首页","奇数页":"奇数页","偶数页":"偶数页","尾页":"尾页","强制分页":"强制分页","是":"是","否":"否","打印规则":"打印规则","保持奇数":"保持奇数","保持偶数":"保持偶数","分页规则":"分页规则","不分页":"不分页","移除段落左侧空白":"移除段落左侧空白","移除":"移除","不移除":"不移除","首页页尾":"首页页尾","尾页页尾":"尾页页尾","偶数页页尾":"偶数页页尾","奇数页页尾":"奇数页页尾","位置固定":"位置固定","拖动方向":"拖动方向","横向":"横向","竖向":"竖向","左偏移":"左偏移","偏移量":"偏移量","最低高度":"最低高度","文本过短或为空时的高度":"文本过短或为空时的高度","隐藏规则":"隐藏规则","表体行边框":"表体行边框","元素层级":"元素层级","边框设置":"边框设置","实线":"实线","虚线":"虚线","左内边距":"左内边距","上内边距":"上内边距","右内边距":"右内边距","下内边距":"下内边距","样式":"样式","边框样式":"边框样式","长虚线":"长虚线","短虚线":"短虚线","背景颜色":"背景颜色","纸张方向(仅自定义纸质有效)":"纸张方向(仅自定义纸质有效)","纵向":"纵向","上下对齐":"上下对齐","垂直居中":"垂直居中","底部":"底部","文本换行":"文本换行","不换行":"不换行","不换行&隐藏":"不换行&隐藏","不换行&省略":"不换行&省略","打印类型":"打印类型","文本":"文本","二维码":"二维码","字段类型":"字段类型","默认(文本)":"默认(文本)","序号":"序号","图片":"图片","单元格高度":"单元格高度","条形码、二维码以及图片有效":"条形码、二维码以及图片有效","底部聚合标题":"底部聚合标题","底部聚合文本":"底部聚合文本","聚合类型":"聚合类型","底部聚合合并列数":"底部聚合合并列数","合并列数":"合并列数","底部聚合类型左右对齐":"底部聚合类型左右对齐","整数":"整数","保留%s位":"保留%s位","底部聚合小数":"底部聚合小数","底部聚合格式化函数":"底部聚合格式化函数","转大小写":"转大小写","底部聚合类型":"底部聚合类型","不聚合":"不聚合","仅文本":"仅文本","顶部偏移":"顶部偏移","一行多组":"一行多组","一行二列":"一行二列","一行三列":"一行三列","一行四列":"一行四列","一行多组间隔":"一行多组间隔","表格头显示":"表格头显示","每页显示":"每页显示","首页显示":"首页显示","不显示":"不显示","数据类型":"数据类型","日期时间":"日期时间","布尔":"布尔","格式":"格式","格式化函数":"格式化函数","样式函数":"样式函数","行/列合并函数":"行/列合并函数","跨页合并是否清除":"跨页合并是否清除","表格脚函数":"表格脚函数","分组字段函数":"分组字段函数","分组头格式化函数":"分组头格式化函数","分组头信息":"分组头信息","分组脚格式化函数":"分组脚格式化函数","分组脚信息":"分组脚信息","多组表格脚函数":"多组表格脚函数","行样式函数":"行样式函数","单元格左右对齐":"单元格左右对齐","单元格上下对齐":"单元格上下对齐","上":"上","中":"中","表格头单元格左右对齐":"表格头单元格左右对齐","单元格样式函数":"单元格样式函数","表格头样式函数":"表格头样式函数","单元格格式化函数":"单元格格式化函数","单元格渲染函数":"单元格渲染函数","自动补全":"自动补全","每页最大行数":"每页最大行数","表格脚显示":"表格脚显示","最后显示":"最后显示","没有足够空间进行表格分页，请调整页眉/页脚线":"没有足够空间进行表格分页，请调整页眉/页脚线","没有足够空间,显示下方内容, 可分页高度":"没有足够空间,显示下方内容, 可分页高度","列属性":"列属性","在上方插入行":"在上方插入行","在下方插入行":"在下方插入行","向左方插入列":"向左方插入列","向右方插入列":"向右方插入列","删除行":"删除行","删除列":"删除列","对齐":"对齐","左":"左","左右居中":"左右居中","右":"右","下":"下","合并单元格":"合并单元格","解开单元格":"解开单元格","条形码生成失败":"条形码生成失败","请检查 hiprint.init 的 provider 是否配置了":"请检查 hiprint.init 的 provider 是否配置了","已移除\'tableCustom\',请替换使用\'table\'详情见更新记录":"已移除\'tableCustom\',请替换使用\'table\'详情见更新记录","确定":"确定","删除":"删除","连接客户端失败":"连接客户端失败","基础":"基础","边框":"边框","列":"列","高级":"高级","面板排列":"面板排列","排列方式":"排列方式","垂直间距%s":"垂直间距%s","水平间距%s":"水平间距%s","边框圆角":"边框圆角","条码颜色":"条码颜色","显示码值":"显示码值"}')},89277:function(t,e,i){"use strict";i.d(e,{m:function(){return r}});i(14603),i(47566),i(98721);var n=i(26695),o=i(53155);const r=()=>{const t=(t,e)=>{(0,o.Jt)(t,{},{},{responseType:"blob",transformResponse:function(t){return t}}).then(t=>{const i=t instanceof Blob?t:t.data;if(i instanceof Blob){const t=window.URL.createObjectURL(i),n=document.createElement("a");n.style.display="none",n.href=t,n.setAttribute("download",e),document.body.appendChild(n),n.click(),document.body.removeChild(n)}else n.nk.error("下载文件失败")}).catch(t=>{if(t instanceof Blob){const e=new FileReader;e.onload=function(){n.nk.error(e.result?JSON.parse(e.result.toString()).errorMessage:"下载文件失败")},e.readAsText(t)}else n.nk.error("下载文件失败")})};return{downloadFile:t}}},94169:function(t,e,i){"use strict";t.exports=i.p+"img/l_img.a05b26c8.svg"},98283:function(t,e,i){"use strict";i.d(e,{A:function(){return T}});var n=i(99114),o=(i(97042),i(69255),i(54880)),r=(i(60713),i(69225),i(65451)),a=(i(63390),i(25136)),s=(i(69957),i(56768)),l=i(45130),p=i(90144),d=i(24232),c=i(57477),h=i(23649),u=i(34894),f=i(31372),g=i(79466),m=i(60962);const _=["innerHTML"],v=["src"],y={class:"layer-buttons"},b={style:{position:"fixed",left:"16px",top:"88px",display:"flex","flex-direction":"column","align-items":"end","row-gap":"10px"}};var E=(0,s.pM)({__name:"HiPrintPreview",props:{printId:{},printParam:{},printName:{default:"BIQS打印预览"},dialog:{}},setup(t){const e=t,i=(0,p.KR)(!1),E=(0,p.KR)(!1);let w={},P={};const T=(0,p.KR)(),C=(0,p.KR)(""),x=()=>{e.dialog?.cancel()},O=async(t,e)=>{let i={printId:t,printParam:e,renderType:5},n=await u.gi.printPreview(i);return console.log("printPreview =>",n),n.data},D=t=>{const e=w.getHtml(t);C.value=e.prop("outerHTML")},M=(t,e,n=210)=>{O(t,e).then(t=>{let e=t.hiprintDataJson?JSON.parse(t.hiprintDataJson):{};w.update(e);let o=n;w.editingPanel&&w.editingPanel.width?o=w.editingPanel.width:w.printPanels&&w.printPanels[0]&&w.printPanels[0].width&&(o=w.printPanels[0].width),i.value=!0,P=t.hiprintData,setTimeout(()=>{D(P),i.value=!1},500)})},I=()=>{E.value=!0,w.print(P,{},{callback:()=>{E.value=!1,console.log("浏览器打印窗口已打开")}})},R=()=>{console.log("下载文件",e.printName);try{w.toPdf(P,e.printName)}catch(t){console.log("下载文件异常",t)}};(0,s.sV)(()=>{console.log("printPreview mounted"),w=new h.hy.PrintTemplate,M(e.printId,e.printParam)});const S=(0,p.KR)(),B=(0,p.KR)(),A=(0,p.KR)(!1),L=(0,p.KR)(""),k=(0,p.Kh)({left:0,top:0}),H={dpi:96,pxToMm(t){return 25.4*t/this.dpi},mmToPt(t){return 72*t/25.4},pxToPt(t){return this.mmToPt(this.pxToMm(t))}},F=t=>{const e=t.parentElement;if(!e)return{x:0,y:0};const i=e.scrollLeft,n=e.scrollTop;return{x:t.offsetLeft-i,y:t.offsetTop-n}};let W={minX:0,minY:0,maxX:200,maxY:500},j=!1,U=0,$=0;const z=t=>{if(!S.value)return;j=!0;const e=S.value.getBoundingClientRect();U=t.clientX-e.left,$=t.clientY-e.top,document.addEventListener("mousemove",K),document.addEventListener("mouseup",q)},K=t=>{if(!j)return;const e=T.value?.parentElement;if(!e)return;const i=e.scrollLeft,n=e.scrollTop,{left:o,top:r}=e.getBoundingClientRect(),a=t.clientX-U-o+i,s=t.clientY-$-r+n;k.left=Math.max(W.minX,Math.min(a,W.maxX)),k.top=Math.max(W.minY,Math.min(s,W.maxY))},q=()=>{j=!1,document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",q)},N=(t,e,i,n,o,r=9)=>{var a=w.getPanel(0);e=H.pxToPt(e),i=H.pxToPt(i),n=H.pxToPt(n),o=H.pxToPt(o),a.addPrintImage({options:{width:e,height:i,top:n,left:o,src:t,zIndex:r}}),D(P)},V=()=>{A.value=!1;const t=T.value,e=B.value;if(!t||!e)return;const i=e.getBoundingClientRect(),n=t.querySelector(".hiprint-printTemplate").getBoundingClientRect(),o=i.left-n.left,r=i.top-n.top;N(L.value,i.width,i.height,r,o)},G=()=>{console.log("取消签章/签名"),A.value=!1},Y=t=>(console.log("图片是否加载完成",t.complete),t.complete&&t.naturalWidth>0?Promise.resolve():new Promise((e,i)=>{t.onload=()=>{t.onload=null,e()},t.onerror=()=>{t.onload=null,i(new Error("Image load failed"))}})),X=async(t,e=1)=>{if(!t)return;const i=T.value;if(!i)return;const n=T.value?.parentElement;if(!n)return;const{x:o,y:r}=F(i),a=n.scrollLeft,l=n.scrollTop;console.log("scrollTop",l),console.log("containerX",o),console.log("containerY",r),k.left=a+5,k.top=l+15+5;const p=i.scrollWidth,d=i.scrollHeight;W={minX:o,minY:r+l+15,maxX:o+a+p,maxY:r+l+d},A.value=!0,L.value=t,await(0,s.dY)();const c=S.value,h=B.value;if(c&&h)try{await Y(h);let{width:t,height:i}=h.getBoundingClientRect();t*=e,i*=e,h.style.width=t+"px",W.maxX-=t,W.maxY-=i,k.left=Math.max(W.minX,Math.min(k.left,W.maxX)),k.top=Math.max(W.minY,Math.min(k.top,W.maxY))}catch(u){console.error("图片加载失败",u),A.value=!1}},J=()=>{f.l.show("手写签名",m.A,{area:["400px"]},{width:"100%",height:"150px",autoTrim:!0}).then(t=>{const e=Math.max(window.devicePixelRatio||1,1);X(t.data,1/e)})},Q=()=>{X(g)};return(t,e)=>{const h=a.S2,u=r.S2,f=o.bZ,g=o.ZO,m=n.A;return(0,s.uX)(),(0,s.CE)("div",{class:"preview-print-spread-sheet",onDrop:e[1]||(e[1]=(0,l.D$)(()=>{},["prevent","stop"]))},[(0,s.bF)(f,{class:"step-header",style:{overflow:"hidden",background:"white",height:"72px","border-bottom":"1px solid #ebeef5"}},{default:(0,s.k6)(()=>[(0,s.bF)(u,{type:"flex",justify:"space-between",align:"middle",style:{height:"100%"}},{default:(0,s.k6)(()=>[e[5]||(e[5]=(0,s.Lk)("div",{class:"title",style:{width:"200px",height:"40px","line-height":"40px",display:"flex"}},[(0,s.Lk)("span",{style:{"font-size":"22px",color:"#333333","font-weight":"bold"}},"BIQS打印预览")],-1)),(0,s.bF)(u,{class:"operation",type:"flex",justify:"end"},{default:(0,s.k6)(()=>[(0,s.bF)(h,{type:"primary",icon:(0,p.R1)(c.Printer),onClick:I,loading:(0,p.R1)(E),style:{width:"85px"}},{default:(0,s.k6)(()=>e[2]||(e[2]=[(0,s.eW)("打印")])),_:1,__:[2]},8,["icon","loading"]),(0,s.bF)(h,{icon:(0,p.R1)(c.Download),onClick:R,style:{width:"85px"}},{default:(0,s.k6)(()=>e[3]||(e[3]=[(0,s.eW)("PDF")])),_:1,__:[3]},8,["icon"]),(0,s.bF)(h,{onClick:x,style:{width:"85px"}},{default:(0,s.k6)(()=>e[4]||(e[4]=[(0,s.eW)("退出")])),_:1,__:[4]})]),_:1})]),_:1,__:[5]})]),_:1}),(0,s.bF)(g,{style:{background:"white",padding:"16px",height:"calc(100vh - 72px)",display:"flex","justify-content":"center",position:"relative"}},{default:(0,s.k6)(()=>[(0,s.bo)((0,s.Lk)("div",{innerHTML:(0,p.R1)(C),ref_key:"previewContainer",ref:T},null,8,_),[[m,(0,p.R1)(i)]]),(0,p.R1)(A)?((0,s.uX)(),(0,s.CE)("div",{key:0,ref_key:"dragLayer",ref:S,class:"drag-layer",onMousedown:z,style:(0,d.Tr)({left:(0,p.R1)(k).left+"px",top:(0,p.R1)(k).top+"px"})},[(0,s.Lk)("img",{ref_key:"imgRef",ref:B,src:(0,p.R1)(L),alt:"Signature/Stamp",class:"stamp-image",onDragstart:e[0]||(e[0]=(0,l.D$)(()=>{},["prevent"]))},null,40,v),(0,s.Lk)("div",y,[(0,s.bF)(h,{size:"small",type:"primary",onClick:(0,l.D$)(V,["stop"])},{default:(0,s.k6)(()=>e[6]||(e[6]=[(0,s.eW)("确定")])),_:1,__:[6]}),(0,s.bF)(h,{size:"small",onClick:(0,l.D$)(G,["stop"])},{default:(0,s.k6)(()=>e[7]||(e[7]=[(0,s.eW)("取消")])),_:1,__:[7]})])],36)):(0,s.Q3)("",!0),(0,s.Lk)("div",b,[(0,s.bF)(h,{icon:(0,p.R1)(c.EditPen),onClick:J},{default:(0,s.k6)(()=>e[8]||(e[8]=[(0,s.eW)(" 签名 ")])),_:1,__:[8]},8,["icon"]),(0,s.bF)(h,{icon:(0,p.R1)(c.Stamp),onClick:Q},{default:(0,s.k6)(()=>e[9]||(e[9]=[(0,s.eW)(" 盖章 ")])),_:1,__:[9]},8,["icon"])])]),_:1})],32)}}}),w=i(71241);const P=(0,w.A)(E,[["__scopeId","data-v-68448fc8"]]);var T=P}}]);