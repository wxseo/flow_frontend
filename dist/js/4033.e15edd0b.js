"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[4033],{3740:function(e,t,a){a.d(t,{qi:function(){return w}});var n=a(56768),i=a(90144),l=a(24232),o=a(45130),c=a(91542),u=a(57477),r=a(93889),d=a(99077),s=a(44216),v=a(37207),m=a(93513),f=a(93558),p=a(92056),y=a(86894),h=a(12235);const k="ElSwitch",b=(0,n.pM)({name:k}),g=(0,n.pM)({...b,props:r.Z,emits:r.x,setup(e,{expose:t,emit:a}){const r=e,{formItem:d}=(0,s.j)(),b=(0,v.NV)(),g=(0,m.DU)("switch"),{inputId:R}=(0,s.W)(r,{formItemContext:d}),I=(0,v.CB)((0,n.EW)(()=>r.loading)),w=(0,i.KR)(!1!==r.modelValue),C=(0,i.KR)(),x=(0,i.KR)(),S=(0,n.EW)(()=>[g.b(),g.m(b.value),g.is("disabled",I.value),g.is("checked",F.value)]),T=(0,n.EW)(()=>[g.e("label"),g.em("label","left"),g.is("active",!F.value)]),_=(0,n.EW)(()=>[g.e("label"),g.em("label","right"),g.is("active",F.value)]),M=(0,n.EW)(()=>({width:(0,f._V)(r.width)}));(0,n.wB)(()=>r.modelValue,()=>{w.value=!0});const W=(0,n.EW)(()=>!!w.value&&r.modelValue),F=(0,n.EW)(()=>W.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(W.value)||(a(p.l4,r.inactiveValue),a(p.YU,r.inactiveValue),a(p.qs,r.inactiveValue)),(0,n.wB)(F,e=>{var t;C.value.checked=e,r.validateEvent&&(null==(t=null==d?void 0:d.validate)||t.call(d,"change").catch(e=>(0,y.U)(e)))});const E=()=>{const e=F.value?r.inactiveValue:r.activeValue;a(p.l4,e),a(p.YU,e),a(p.qs,e),(0,n.dY)(()=>{C.value.checked=F.value})},V=()=>{if(I.value)return;const{beforeChange:e}=r;if(!e)return void E();const t=e(),a=[(0,l.yL)(t),(0,h.Lm)(t)].includes(!0);a||(0,y.$)(k,"beforeChange must return type `Promise<boolean>` or `boolean`"),(0,l.yL)(t)?t.then(e=>{e&&E()}).catch(e=>{(0,y.U)(k,`some error occurred: ${e}`)}):t&&E()},X=()=>{var e,t;null==(t=null==(e=C.value)?void 0:e.focus)||t.call(e)};return(0,n.sV)(()=>{C.value.checked=F.value}),t({focus:X,checked:F}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,l.C4)((0,i.R1)(S)),onClick:(0,o.D$)(V,["prevent"])},[(0,n.Lk)("input",{id:(0,i.R1)(R),ref_key:"input",ref:C,class:(0,l.C4)((0,i.R1)(g).e("input")),type:"checkbox",role:"switch","aria-checked":(0,i.R1)(F),"aria-disabled":(0,i.R1)(I),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:(0,i.R1)(I),tabindex:e.tabindex,onChange:E,onKeydown:(0,o.jR)(V,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,l.C4)((0,i.R1)(T))},[e.inactiveIcon?((0,n.uX)(),(0,n.Wv)((0,i.R1)(c.tk),{key:0},{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e.inactiveIcon)))]),_:1})):(0,n.Q3)("v-if",!0),!e.inactiveIcon&&e.inactiveText?((0,n.uX)(),(0,n.CE)("span",{key:1,"aria-hidden":(0,i.R1)(F)},(0,l.v_)(e.inactiveText),9,["aria-hidden"])):(0,n.Q3)("v-if",!0)],2)),(0,n.Lk)("span",{ref_key:"core",ref:x,class:(0,l.C4)((0,i.R1)(g).e("core")),style:(0,l.Tr)((0,i.R1)(M))},[e.inlinePrompt?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,l.C4)((0,i.R1)(g).e("inner"))},[e.activeIcon||e.inactiveIcon?((0,n.uX)(),(0,n.Wv)((0,i.R1)(c.tk),{key:0,class:(0,l.C4)((0,i.R1)(g).is("icon"))},{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)((0,i.R1)(F)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?((0,n.uX)(),(0,n.CE)("span",{key:1,class:(0,l.C4)((0,i.R1)(g).is("text")),"aria-hidden":!(0,i.R1)(F)},(0,l.v_)((0,i.R1)(F)?e.activeText:e.inactiveText),11,["aria-hidden"])):(0,n.Q3)("v-if",!0)],2)):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",{class:(0,l.C4)((0,i.R1)(g).e("action"))},[e.loading?((0,n.uX)(),(0,n.Wv)((0,i.R1)(c.tk),{key:0,class:(0,l.C4)((0,i.R1)(g).is("loading"))},{default:(0,n.k6)(()=>[(0,n.bF)((0,i.R1)(u.Loading))]),_:1},8,["class"])):(0,i.R1)(F)?(0,n.RG)(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?((0,n.uX)(),(0,n.Wv)((0,i.R1)(c.tk),{key:0},{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e.activeActionIcon)))]),_:1})):(0,n.Q3)("v-if",!0)]):(0,i.R1)(F)?(0,n.Q3)("v-if",!0):(0,n.RG)(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?((0,n.uX)(),(0,n.Wv)((0,i.R1)(c.tk),{key:0},{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e.inactiveActionIcon)))]),_:1})):(0,n.Q3)("v-if",!0)])],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)("span",{key:1,class:(0,l.C4)((0,i.R1)(_))},[e.activeIcon?((0,n.uX)(),(0,n.Wv)((0,i.R1)(c.tk),{key:0},{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e.activeIcon)))]),_:1})):(0,n.Q3)("v-if",!0),!e.activeIcon&&e.activeText?((0,n.uX)(),(0,n.CE)("span",{key:1,"aria-hidden":!(0,i.R1)(F)},(0,l.v_)(e.activeText),9,["aria-hidden"])):(0,n.Q3)("v-if",!0)],2))],10,["onClick"]))}});var R=(0,d.A)(g,[["__file","switch.vue"]]),I=a(25376);const w=(0,I.GU)(R)},7502:function(e,t,a){a.d(t,{s:function(){return l}});var n=a(31372),i=a(56768);const l=()=>{const e=(0,i.WQ)("defaultFormItemSize","default"),t=(t,a,i,l,o)=>(l||(l={}),l.defaultFormItemSize=e,n.l.show(t,a,i,l,o));return{show:t}}},42899:function(e,t,a){a(97042)},45970:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var n=a(12687),i=(a(97042),a(31112),a(25136)),l=(a(69957),a(56768)),o=a(90144),c=a(24232),u=a(57477),r=a(164),d=a(7502),s=a(54428),v=a(70944),m=a(27007),f=a(21016),p=a(9009),y=a(54898),h=a(60265),k=a(82572),b=a(90450),g=a(56903);const R={name:"formSysMenu"};var I=(0,l.pM)({...R,setup(e){let t=[];const a=(0,d.s)(),{checkPermCodeExist:R}=(0,y.S)(),I=(0,k.l5)(),w=((0,l.WQ)("mainContextHeight",document.documentElement.clientHeight),e=>new Promise((a,n)=>{s.fe.getMenuPermList(e).then(e=>{t=e.data,a({dataList:(0,m.BN)(e.data,"menuId"),totalCount:e.data.length})}).catch(e=>{n(e)})})),C=()=>!0,x={loadTableData:w,verifyTableParameter:C,paged:!1},S=(0,o.Kh)({formFilter:{},formFilterCopy:{},SysMenu:{impl:(0,h.K)(x)},isInit:!1}),T=(e=!1)=>{e?S.SysMenu.impl.refreshTable(!0,1):S.SysMenu.impl.refreshTable(),S.isInit=!0},_=()=>{let e={menuList:t};a.show("新建",b.A,{area:["900px","650px"]},e).then(e=>{S.SysMenu.impl.refreshTable()}).catch(e=>{console.log("dialog reject",e)})},M=e=>{s.fe.viewMenu({menuId:e.menuId}).then(n=>{let i={rowData:n.data,menuId:e.menuId,menuList:t};a.show("编辑",b.A,{area:["900px","650px"]},i).then(e=>{S.SysMenu.impl.refreshTable()}).catch(e=>{console.log("dialog reject",e)})}).catch(e=>{console.error("viewMenu",e)})},W=e=>{console.log("onAddChildSysMenuClick",e);let n={parentId:e.menuId,menuList:t};a.show("添加子菜单",b.A,{area:["900px","650px"]},n).then(()=>{S.SysMenu.impl.refreshTable()}).catch(e=>{console.log(e)})},F=e=>{console.log("onDeleteClick",e);let t={menuId:e.menuId};r.s.confirm(`是否删除菜单项【${e.menuName}】？`,"",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(e=>{s.fe.deleteMenu(t).then(()=>{S.SysMenu.impl.refreshTable()}).catch(e=>{console.log(e)})}).catch(e=>{})},{getMenuType:E}=(0,g.I)();return(0,l.sV)(()=>{T()}),(e,t)=>{const a=i.S2,r=(0,l.g2)("vxe-column"),d=n.u;return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(v.A,{class:"border-bottom-0 page-table",data:(0,o.R1)(S).SysMenu.impl.dataList,"tree-config":{rowField:"menuId",parentField:"parentId"},onRefresh:T},{operator:(0,l.k6)(()=>[(0,l.bF)(a,{type:"primary",icon:(0,o.R1)(u.Plus),size:(0,o.R1)(I).defaultFormItemSize,disabled:!(0,o.R1)(R)("formSysMenu:fragmentSysMenu:add"),onClick:t[0]||(t[0]=e=>_())},{default:(0,l.k6)(()=>t[1]||(t[1]=[(0,l.eW)(" 新建 ")])),_:1,__:[1]},8,["icon","size","disabled"])]),default:(0,l.k6)(()=>[(0,l.bF)(r,{title:"菜单名称",field:"menuName",width:"300px","tree-node":""}),(0,l.bF)(r,{title:"菜单图标",field:"icon",width:"100px"},{default:(0,l.k6)(e=>[e.row.icon?((0,l.uX)(),(0,l.Wv)(p.A,{key:0,icon:e.row.icon},null,8,["icon"])):(0,l.Q3)("",!0)]),_:1}),(0,l.bF)(r,{title:"菜单顺序",field:"showOrder",width:"100px"}),(0,l.bF)(r,{title:"菜单类型",field:"menuType",width:"100px"},{default:(0,l.k6)(e=>[(0,l.bF)(d,{type:(0,o.R1)(E)(e.row),effect:"light"},{default:(0,l.k6)(()=>[(0,l.eW)((0,c.v_)((0,o.R1)(f.SysMenuType).getValue(e.row.menuType)),1)]),_:2},1032,["type"])]),_:1}),(0,l.bF)(r,{title:"菜单路由",field:"formRouterName","min-width":"250px"}),(0,l.bF)(r,{title:"操作",fixed:"right",width:"160px"},{default:(0,l.k6)(e=>[(0,l.bF)(a,{onClick:t=>M(e.row),type:"primary",size:(0,o.R1)(I).defaultFormItemSize,link:"",disabled:!(0,o.R1)(R)("formSysMenu:fragmentSysMenu:update")||null!=e.row.onlineFormId&&e.row.menuType===(0,o.R1)(f.SysMenuType).BUTTON},{default:(0,l.k6)(()=>t[2]||(t[2]=[(0,l.eW)(" 编辑 ")])),_:2,__:[2]},1032,["onClick","size","disabled"]),(0,l.bF)(a,{onClick:t=>W(e.row),type:"primary",size:(0,o.R1)(I).defaultFormItemSize,link:"",disabled:!(0,o.R1)(R)("formSysMenu:fragmentSysMenu:add")||e.row.menuType===(0,o.R1)(f.SysMenuType).BUTTON},{default:(0,l.k6)(()=>t[3]||(t[3]=[(0,l.eW)(" 添加 ")])),_:2,__:[3]},1032,["onClick","size","disabled"]),(0,l.bF)(a,{onClick:t=>F(e.row),type:"danger",size:(0,o.R1)(I).defaultFormItemSize,link:"",disabled:!(0,o.R1)(R)("formSysMenu:fragmentSysMenu:delete")||null!=e.row.onlineFormId&&e.row.menuType===(0,o.R1)(f.SysMenuType).BUTTON},{default:(0,l.k6)(()=>t[4]||(t[4]=[(0,l.eW)(" 删除 ")])),_:2,__:[4]},1032,["onClick","size","disabled"])]),_:1})]),_:1},8,["data"])])}}});const w=I;var C=w},93889:function(e,t,a){a.d(t,{Z:function(){return d},x:function(){return s}});var n=a(3027),i=a(47378),l=a(20464),o=a(58501),c=a(92056),u=a(12235),r=a(24232);const d=(0,i.b_)({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:n.x},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:l.Ze},activeActionIcon:{type:l.Ze},activeIcon:{type:l.Ze},inactiveIcon:{type:l.Ze},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:(0,i.jq)(Function)},id:String,tabindex:{type:[String,Number]},...(0,o.l)(["ariaLabel"])}),s={[c.l4]:e=>(0,u.Lm)(e)||(0,r.Kg)(e)||(0,u.Et)(e),[c.YU]:e=>(0,u.Lm)(e)||(0,r.Kg)(e)||(0,u.Et)(e),[c.qs]:e=>(0,u.Lm)(e)||(0,r.Kg)(e)||(0,u.Et)(e)}}}]);