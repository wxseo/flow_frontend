"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[4160],{3740:function(e,t,a){a.d(t,{qi:function(){return C}});var i=a(56768),n=a(90144),l=a(24232),o=a(45130),s=a(91542),r=a(57477),c=a(93889),u=a(99077),d=a(44216),f=a(37207),p=a(93513),v=a(93558),m=a(92056),k=a(86894),y=a(12235);const g="ElSwitch",h=(0,i.pM)({name:g}),R=(0,i.pM)({...h,props:c.Z,emits:c.x,setup(e,{expose:t,emit:a}){const c=e,{formItem:u}=(0,d.j)(),h=(0,f.NV)(),R=(0,p.DU)("switch"),{inputId:b}=(0,d.W)(c,{formItemContext:u}),I=(0,f.CB)((0,i.EW)(()=>c.loading)),C=(0,n.KR)(!1!==c.modelValue),F=(0,n.KR)(),x=(0,n.KR)(),_=(0,i.EW)(()=>[R.b(),R.m(h.value),R.is("disabled",I.value),R.is("checked",D.value)]),W=(0,i.EW)(()=>[R.e("label"),R.em("label","left"),R.is("active",!D.value)]),N=(0,i.EW)(()=>[R.e("label"),R.em("label","right"),R.is("active",D.value)]),S=(0,i.EW)(()=>({width:(0,v._V)(c.width)}));(0,i.wB)(()=>c.modelValue,()=>{C.value=!0});const w=(0,i.EW)(()=>!!C.value&&c.modelValue),D=(0,i.EW)(()=>w.value===c.activeValue);[c.activeValue,c.inactiveValue].includes(w.value)||(a(m.l4,c.inactiveValue),a(m.YU,c.inactiveValue),a(m.qs,c.inactiveValue)),(0,i.wB)(D,e=>{var t;F.value.checked=e,c.validateEvent&&(null==(t=null==u?void 0:u.validate)||t.call(u,"change").catch(e=>(0,k.U)(e)))});const E=()=>{const e=D.value?c.inactiveValue:c.activeValue;a(m.l4,e),a(m.YU,e),a(m.qs,e),(0,i.dY)(()=>{F.value.checked=D.value})},V=()=>{if(I.value)return;const{beforeChange:e}=c;if(!e)return void E();const t=e(),a=[(0,l.yL)(t),(0,y.Lm)(t)].includes(!0);a||(0,k.$)(g,"beforeChange must return type `Promise<boolean>` or `boolean`"),(0,l.yL)(t)?t.then(e=>{e&&E()}).catch(e=>{(0,k.U)(g,`some error occurred: ${e}`)}):t&&E()},T=()=>{var e,t;null==(t=null==(e=F.value)?void 0:e.focus)||t.call(e)};return(0,i.sV)(()=>{F.value.checked=D.value}),t({focus:T,checked:D}),(e,t)=>((0,i.uX)(),(0,i.CE)("div",{class:(0,l.C4)((0,n.R1)(_)),onClick:(0,o.D$)(V,["prevent"])},[(0,i.Lk)("input",{id:(0,n.R1)(b),ref_key:"input",ref:F,class:(0,l.C4)((0,n.R1)(R).e("input")),type:"checkbox",role:"switch","aria-checked":(0,n.R1)(D),"aria-disabled":(0,n.R1)(I),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:(0,n.R1)(I),tabindex:e.tabindex,onChange:E,onKeydown:(0,o.jR)(V,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,l.C4)((0,n.R1)(W))},[e.inactiveIcon?((0,i.uX)(),(0,i.Wv)((0,n.R1)(s.tk),{key:0},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.inactiveIcon)))]),_:1})):(0,i.Q3)("v-if",!0),!e.inactiveIcon&&e.inactiveText?((0,i.uX)(),(0,i.CE)("span",{key:1,"aria-hidden":(0,n.R1)(D)},(0,l.v_)(e.inactiveText),9,["aria-hidden"])):(0,i.Q3)("v-if",!0)],2)),(0,i.Lk)("span",{ref_key:"core",ref:x,class:(0,l.C4)((0,n.R1)(R).e("core")),style:(0,l.Tr)((0,n.R1)(S))},[e.inlinePrompt?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,l.C4)((0,n.R1)(R).e("inner"))},[e.activeIcon||e.inactiveIcon?((0,i.uX)(),(0,i.Wv)((0,n.R1)(s.tk),{key:0,class:(0,l.C4)((0,n.R1)(R).is("icon"))},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.Wv)((0,i.$y)((0,n.R1)(D)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?((0,i.uX)(),(0,i.CE)("span",{key:1,class:(0,l.C4)((0,n.R1)(R).is("text")),"aria-hidden":!(0,n.R1)(D)},(0,l.v_)((0,n.R1)(D)?e.activeText:e.inactiveText),11,["aria-hidden"])):(0,i.Q3)("v-if",!0)],2)):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",{class:(0,l.C4)((0,n.R1)(R).e("action"))},[e.loading?((0,i.uX)(),(0,i.Wv)((0,n.R1)(s.tk),{key:0,class:(0,l.C4)((0,n.R1)(R).is("loading"))},{default:(0,i.k6)(()=>[(0,i.bF)((0,n.R1)(r.Loading))]),_:1},8,["class"])):(0,n.R1)(D)?(0,i.RG)(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?((0,i.uX)(),(0,i.Wv)((0,n.R1)(s.tk),{key:0},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.activeActionIcon)))]),_:1})):(0,i.Q3)("v-if",!0)]):(0,n.R1)(D)?(0,i.Q3)("v-if",!0):(0,i.RG)(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?((0,i.uX)(),(0,i.Wv)((0,n.R1)(s.tk),{key:0},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.inactiveActionIcon)))]),_:1})):(0,i.Q3)("v-if",!0)])],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("span",{key:1,class:(0,l.C4)((0,n.R1)(N))},[e.activeIcon?((0,i.uX)(),(0,i.Wv)((0,n.R1)(s.tk),{key:0},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.activeIcon)))]),_:1})):(0,i.Q3)("v-if",!0),!e.activeIcon&&e.activeText?((0,i.uX)(),(0,i.CE)("span",{key:1,"aria-hidden":!(0,n.R1)(D)},(0,l.v_)(e.activeText),9,["aria-hidden"])):(0,i.Q3)("v-if",!0)],2))],10,["onClick"]))}});var b=(0,u.A)(R,[["__file","switch.vue"]]),I=a(25376);const C=(0,I.GU)(b)},29811:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var i=a(70944),n=a(65451),l=(a(97042),a(63390),a(69080)),o=(a(25374),a(25136)),s=(a(69957),a(21929)),r=(a(98421),a(30058)),c=(a(32465),a(14022)),u=(a(72343),a(44114),a(18111),a(22489),a(56768)),d=a(90144),f=a(45130),p=a(81387),v=a(61617),m=a(60265),k=a(22414),y=a(82572);const g={style:{position:"relative"}};var h=(0,u.pM)({__name:"formMyTask",setup(e,{expose:t}){const a=(0,p.rd)(),h=(0,y.l5)(),R=(0,d.KR)(),b=e=>(null==e&&(e={}),e={processDefinitionName:F.value.formFilterCopy.processDefinitionName,processDefinitionKey:F.value.formFilterCopy.processDefinitionKey,taskName:F.value.formFilterCopy.taskName,...e},new Promise((t,a)=>{v.wI.listRuntimeTask(e).then(e=>{t({dataList:e.data.dataList,totalCount:e.data.totalCount})}).catch(e=>{a(e)})})),I=()=>(F.value.formFilterCopy.processDefinitionName=F.value.formFilter.processDefinitionName,F.value.formFilterCopy.processDefinitionKey=F.value.formFilter.processDefinitionKey,F.value.formFilterCopy.taskName=F.value.formFilter.taskName,!0),C={loadTableData:b,verifyTableParameter:I,paged:!0,orderFieldName:"entryId",ascending:!0},F=(0,d.KR)({formFilter:{processDefinitionName:void 0,processDefinitionKey:void 0,taskName:void 0},formFilterCopy:{processDefinitionName:void 0,processDefinitionKey:void 0,taskName:void 0},taskWidget:(0,m.K)(C),isInit:!1}),x=(e=!1)=>{e?F.value.taskWidget.refreshTable(!0,1):F.value.taskWidget.refreshTable()},_=()=>{R.value.resetFields(),x(!0)},W=()=>{x()},N=()=>{x()},S=e=>{let t={processInstanceId:e.processInstanceId,processDefinitionId:e.processDefinitionId,taskId:e.taskId};v.wI.viewRuntimeTaskInfo(t).then(t=>{console.log("......",t),t.data&&a.push({name:t.data.routerName||"handlerFlowTask",query:{isRuntime:"true",isDraft:e.isDraft,taskId:e.taskId,processDefinitionKey:e.processDefinitionKey,processInstanceId:e.processInstanceId,processDefinitionId:e.processDefinitionId,formId:t.data.formId,routerName:t.data.routerName,readOnly:t.data.readOnly,taskName:e.taskName,taskKey:t.data.taskKey,flowEntryName:e.processDefinitionName,processInstanceInitiator:e.showName,operationList:JSON.stringify((t.data.operationList||[]).filter(e=>e.type!==k.SysFlowTaskOperationType.CO_SIGN&&e.type!==k.SysFlowTaskOperationType.REVOKE&&e.type!==k.SysFlowTaskOperationType.SIGN_REDUCTION)),variableList:JSON.stringify(t.data.variableList)}})}).catch(e=>{console.warn(e)})};return(0,u.sV)(()=>{N()}),(0,u.n)(()=>{W()}),t({onResume:W}),(e,t)=>{const a=c.WK,p=s.xE,v=r.A,m=s.US,k=(0,u.g2)("vxe-column"),y=o.S2,b=l.aQ,I=n.S2,C=i.A;return(0,u.uX)(),(0,u.CE)("div",g,[(0,u.bF)(m,{ref_key:"form",ref:R,model:(0,d.R1)(F),"label-width":"80px",size:(0,d.R1)(h).defaultFormItemSize,"label-position":"right",onSubmit:t[4]||(t[4]=(0,f.D$)(()=>{},["prevent"]))},{default:(0,u.k6)(()=>[(0,u.bF)(v,{"item-width":350,onSearch:t[3]||(t[3]=e=>x(!0)),onReset:_},{default:(0,u.k6)(()=>[(0,u.bF)(p,{label:"流程名称",prop:"formFilter.processDefinitionName"},{default:(0,u.k6)(()=>[(0,u.bF)(a,{class:"filter-item",modelValue:(0,d.R1)(F).formFilter.processDefinitionName,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,d.R1)(F).formFilter.processDefinitionName=e),clearable:!0,placeholder:"流程名称"},null,8,["modelValue"])]),_:1}),(0,u.bF)(p,{label:"流程标识",prop:"formFilter.processDefinitionKey"},{default:(0,u.k6)(()=>[(0,u.bF)(a,{class:"filter-item",modelValue:(0,d.R1)(F).formFilter.processDefinitionKey,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,d.R1)(F).formFilter.processDefinitionKey=e),clearable:!0,placeholder:"流程标识"},null,8,["modelValue"])]),_:1}),(0,u.bF)(p,{label:"任务名称",prop:"formFilter.taskName"},{default:(0,u.k6)(()=>[(0,u.bF)(a,{class:"filter-item",modelValue:(0,d.R1)(F).formFilter.taskName,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,d.R1)(F).formFilter.taskName=e),clearable:!0,placeholder:"任务名称"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model","size"]),(0,u.bF)(C,{class:"page-table",data:(0,d.R1)(F).taskWidget.dataList,size:(0,d.R1)(h).defaultFormItemSize,onSortChange:(0,d.R1)(F).taskWidget.onSortChange,onRefresh:t[5]||(t[5]=e=>x(!0)),"seq-config":{startIndex:((0,d.R1)(F).taskWidget.currentPage-1)*(0,d.R1)(F).taskWidget.pageSize},hasExtend:!1},{pagination:(0,u.k6)(()=>[(0,u.bF)(I,{type:"flex",justify:"end",style:{"margin-top":"16px"}},{default:(0,u.k6)(()=>[(0,u.bF)(b,{total:(0,d.R1)(F).taskWidget.totalCount,"current-page":(0,d.R1)(F).taskWidget.currentPage,"page-size":(0,d.R1)(F).taskWidget.pageSize,"page-sizes":[10,20,50,100],layout:"total, prev, pager, next, sizes",onCurrentChange:(0,d.R1)(F).taskWidget.onCurrentPageChange,onSizeChange:(0,d.R1)(F).taskWidget.onPageSizeChange},null,8,["total","current-page","page-size","onCurrentChange","onSizeChange"])]),_:1})]),default:(0,u.k6)(()=>[(0,u.bF)(k,{title:"序号",type:"seq",width:"70px",index:(0,d.R1)(F).taskWidget.getTableIndex},null,8,["index"]),(0,u.bF)(k,{title:"流程名称",field:"processDefinitionName"}),(0,u.bF)(k,{title:"流程主题",field:"summaryData"}),(0,u.bF)(k,{title:"当前任务",field:"taskName"}),(0,u.bF)(k,{title:"发起人登录名",field:"processInstanceInitiator"}),(0,u.bF)(k,{title:"发起人昵称",field:"showName"}),(0,u.bF)(k,{title:"任务发起时间",field:"processInstanceStartTime"}),(0,u.bF)(k,{title:"操作",width:"80px"},{default:(0,u.k6)(e=>[(0,u.bF)(y,{size:(0,d.R1)(h).defaultFormItemSize,link:"",type:"primary",onClick:t=>S(e.row)},{default:(0,u.k6)(()=>t[6]||(t[6]=[(0,u.eW)("办理")])),_:2,__:[6]},1032,["size","onClick"])]),_:1})]),_:1},8,["data","size","onSortChange","seq-config"])])}}});const R=h;var b=R},30058:function(e,t,a){a.d(t,{A:function(){return k}});var i=a(65451),n=(a(97042),a(63390),a(91542)),l=(a(37985),a(25136)),o=(a(69957),a(76408)),s=(a(87535),a(18111),a(22489),a(56768)),r=a(90144),c=a(24232),u=a(57477);const d={style:{"margin-right":"4px","font-size":"14px"}},f={key:2,style:{"flex-grow":"1","min-width":"10px"}};var p=(0,s.pM)({__name:"index",props:{hasSearch:{type:Boolean,default:!0},hasReset:{type:Boolean,default:!0}},emits:["reset","search"],setup(e,{emit:t}){const a=(0,s.Ht)(),p=t,v=(0,r.KR)(!1),m=()=>{p("search")},k=()=>{p("reset")},y=(0,s.EW)(()=>{let e=a.default?a.default():[];return e.filter(e=>e.type&&e.type.name&&null!==e.type.name)}),g=(0,s.EW)(()=>{if(v.value){let e=y.value.length%4;return 0===e?24:6*(4-e)}return y.value.length<=3?6*(4-y.value.length):6});return(0,s.sV)(()=>{null!=a.operation&&(v.value=!0)}),(e,t)=>{const p=o.uD,h=l.S2,R=n.tk,b=i.S2;return(0,s.uX)(),(0,s.Wv)(b,{class:"flex-box",type:"flex"},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,r.R1)(y),(e,t)=>((0,s.uX)(),(0,s.CE)(s.FK,{key:t},[t<((0,r.R1)(v)?(0,r.R1)(y).length:3)?((0,s.uX)(),(0,s.Wv)(p,{key:0,span:6},{default:(0,s.k6)(()=>[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e),{style:{width:"100%"}}))]),_:2},1024)):(0,s.Q3)("",!0)],64))),128)),e.hasSearch?((0,s.uX)(),(0,s.Wv)(p,{key:0,span:(0,r.R1)(g),class:"search-box"},{default:(0,s.k6)(()=>[(0,s.bF)(b,{type:"flex",align:"middle"},{default:(0,s.k6)(()=>[(0,s.bF)(h,{class:"search-btn",type:"default",plain:"",onClick:m,icon:(0,r.R1)(u.Search)},{default:(0,s.k6)(()=>t[1]||(t[1]=[(0,s.eW)(" 查询 ")])),_:1,__:[1]},8,["icon"]),e.hasReset?((0,s.uX)(),(0,s.Wv)(h,{key:0,type:"default",plain:"",onClick:k,style:{width:"72px"}},{default:(0,s.k6)(()=>t[2]||(t[2]=[(0,s.eW)("重置")])),_:1,__:[2]})):(0,s.Q3)("",!0),(0,r.R1)(y).length>3&&null==(0,r.R1)(a).operation?((0,s.uX)(),(0,s.Wv)(b,{key:1,type:"flex",align:"middle",class:"expand-btn",onClick:t[0]||(t[0]=e=>v.value=!(0,r.R1)(v))},{default:(0,s.k6)(()=>[(0,s.Lk)("span",d,(0,c.v_)((0,r.R1)(v)?"收起":"展开"),1),(0,s.bF)(R,null,{default:(0,s.k6)(()=>[(0,r.R1)(v)?((0,s.uX)(),(0,s.Wv)((0,r.R1)(u.ArrowUp),{key:0})):((0,s.uX)(),(0,s.Wv)((0,r.R1)(u.ArrowDown),{key:1}))]),_:1})]),_:1})):(0,s.Q3)("",!0),(0,r.R1)(a).operation?((0,s.uX)(),(0,s.CE)("div",f)):(0,s.Q3)("",!0),(0,s.RG)(e.$slots,"operation")]),_:3})]),_:3},8,["span"])):(0,s.Q3)("",!0)]),_:3})}}}),v=a(71241);const m=(0,v.A)(p,[["__scopeId","data-v-3d53564d"]]);var k=m},42899:function(e,t,a){a(97042)},93889:function(e,t,a){a.d(t,{Z:function(){return u},x:function(){return d}});var i=a(3027),n=a(47378),l=a(20464),o=a(58501),s=a(92056),r=a(12235),c=a(24232);const u=(0,n.b_)({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:i.x},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:l.Ze},activeActionIcon:{type:l.Ze},activeIcon:{type:l.Ze},inactiveIcon:{type:l.Ze},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:(0,n.jq)(Function)},id:String,tabindex:{type:[String,Number]},...(0,o.l)(["ariaLabel"])}),d={[s.l4]:e=>(0,r.Lm)(e)||(0,c.Kg)(e)||(0,r.Et)(e),[s.YU]:e=>(0,r.Lm)(e)||(0,c.Kg)(e)||(0,r.Et)(e),[s.qs]:e=>(0,r.Lm)(e)||(0,c.Kg)(e)||(0,r.Et)(e)}}}]);