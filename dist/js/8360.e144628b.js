"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[8360],{7502:function(e,a,l){l.d(a,{s:function(){return d}});var t=l(31372),r=l(56768);const d=()=>{const e=(0,r.WQ)("defaultFormItemSize","default"),a=(a,l,r,d,u)=>(d||(d={}),d.defaultFormItemSize=e,t.l.show(a,l,r,d,u));return{show:a}}},20709:function(e,a,l){l(97042)},22369:function(e,a,l){l.d(a,{A:function(){return p}});var t=l(25136),r=(l(97042),l(69957),l(56768)),d=l(90144),u=l(57477),i=l(82572),o=(0,r.pM)({__name:"RightAddBtn",props:{size:{default:"default"}},setup(e){const a=(0,i.l5)();return(e,l)=>{const i=t.S2;return(0,r.uX)(),(0,r.Wv)(i,(0,r.v6)(e.$attrs,{type:"primary",class:"right-add-btn",size:(0,d.R1)(a).defaultFormItemSize,link:"",icon:(0,d.R1)(u.CirclePlusFilled)}),{default:(0,r.k6)(()=>[(0,r.RG)(e.$slots,"default")]),_:3},16,["size","icon"])}}}),s=l(71241);const n=(0,s.A)(o,[["__scopeId","data-v-efc91e7a"]]);var p=n},28360:function(e,a,l){l.r(a),l.d(a,{default:function(){return N}});var t=l(25136),r=(l(97042),l(69957),l(21929)),d=(l(98421),l(65451)),u=(l(63390),l(14022)),i=(l(72343),l(85415)),o=(l(22243),l(7409),l(76408)),s=(l(87535),l(32465),l(18888)),n=(l(3172),l(44114),l(18111),l(22489),l(7588),l(61701),l(18237),l(56768)),p=l(90144),m=l(24232),f=l(164),v=l(7502),c=l(27007),b=l(63019),h=l(71066),y=l(34894),_=l(82572),V=l(92380),F=l(37383),k=l(4271),g=l(71962);const w={style:{margin:"0px 10px"}},P={key:0,class:"el-icon-sort-up",style:{color:"#878d9f","margin-right":"5px","font-size":"12px"}},T={key:1,class:"el-icon-sort-down",style:{color:"#878d9f","margin-right":"5px","font-size":"12px"}};var R=(0,n.pM)({__name:"editTemplateWordDataset",props:{printInfo:{},rowData:{},datasetTree:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const a=(0,_.l5)(),l=(0,v.s)(),R=e,{thirdParams:x,onCloseThirdDialog:I}=(0,h.P)(R),N=(0,n.EW)(()=>({printInfo:R.printInfo||x.value.printInfo,rowData:R.rowData||x.value.rowData,datasetTree:R.datasetTree||x.value.datasetTree||[]})),A=(0,p.KR)({showName:"",variableName:"",bindPath:[],datasetId:void 0,loop:!1,datasetFilterParams:[],filterParams:[],orderParam:[]}),C=(0,p.KR)({showName:[{required:!0,message:"请输入数据名称",trigger:"blur"}],variableName:[{required:!0,message:"请输入数据标识",trigger:"blur"}],bindPath:[{required:!0,message:"请选择数据集",trigger:"blur"}]}),D=(0,n.EW)(()=>{if(null==A.value.datasetId)return null;let e=(0,c.I_)(N.value.datasetTree,A.value.datasetId);return e[e.length-1]}),L=(0,p.KR)(),z=()=>{R.dialog?R.dialog.cancel():I(!1)},W=()=>{L.value.validate(e=>{e&&(R.dialog?R.dialog.submit(A.value):I(!1,N.value.rowData,A.value))})},E=e=>{A.value.datasetId=e[e.length-1]},S=()=>new Promise((e,a)=>{if(null==D.value)return e([]);Array.isArray(D.value.columnList)&&D.value.columnList.length>0?e(D.value.columnList):y.TR.view({datasetId:D.value.id}).then(a=>{a.data.columnList.forEach(e=>{e.id=e.columnName,e.name=e.columnName}),D.value.columnList=a.data.columnList,e(a.data.columnList)}).catch(e=>{a(e)})}),U=e=>{A.value.datasetFilterParams=(e||[]).map(e=>({paramName:e.paramName,filterValueType:e.filterValueType,paramValue:e.paramValue}))},K=(e,a)=>{null==e?A.value.filterParams.push({paramId:a.paramId,required:a.required,paramName:a.paramName,filterType:a.filterType,filterValueType:a.filterValueType,paramDictId:a.paramDictId,paramValue:a.paramValue,relationId:a.relationId}):A.value.filterParams=A.value.filterParams.map(e=>e.paramId===a.paramId?{paramId:a.paramId,required:a.required,paramName:a.paramName,filterType:a.filterType,filterValueType:a.filterValueType,paramDictId:a.paramDictId,paramValue:a.paramValue,relationId:a.relationId}:e)},X=(e,a)=>{null==e?A.value.orderParam.push({...a}):A.value.orderParam=A.value.orderParam.map(l=>l.fieldName===e.fieldName?{...a}:l),A.value.orderParam=A.value.orderParam.sort((e,a)=>e.showOrder-a.showOrder)},O=()=>{S().then(e=>l.show("数据集参数",g["default"],{area:["900px","650px"]},{datasetParamList:(D.value||{}).datasetParamList,datasetFilterParams:A.value.datasetFilterParams,formParamList:R.printInfo.paramJson.map(e=>e.variableName),validFilterValueType:[V.FilterValueKind.PRINT_INPUT_PARAM,V.FilterValueKind.INPUT_DATA],path:"thirdSetReportDatasetParam"},{width:"900px",height:"700px",pathName:"/thirdParty/thirdSetReportDatasetParam"})).then(e=>{U(e)}).catch(e=>{console.error(e)})},M=e=>{f.s.confirm("是否删除此数据集参数？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(a=>{A.value.datasetFilterParams=A.value.datasetFilterParams.filter(a=>a.paramName!==e.paramName)}).catch(e=>{console.error(e)})},q=e=>{S().then(a=>l.show("过滤字段",k["default"],{area:["600px"]},{rowData:e,columnList:a,formParamList:R.printInfo.paramJson.map(e=>e.variableName),validFilterValueType:[V.FilterValueKind.DICT_DATA,V.FilterValueKind.COLUMN_DATA,V.FilterValueKind.PRINT_INPUT_PARAM,V.FilterValueKind.INNER_VARIABLE,V.FilterValueKind.INPUT_DATA],path:"thirdEditReportColumnFilter"},{width:"600px",height:"500px",pathName:"/thirdParty/thirdEditReportColumnFilter"})).then(a=>{K(e,a)}).catch(e=>{console.error(e)})},B=e=>{f.s.confirm("是否删除此过滤条件？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(a=>{A.value.filterParams=A.value.filterParams.filter(a=>a!==e)}).catch(e=>{console.error(e)})},Q=e=>{S().then(a=>l.show("排序",F["default"],{area:["600px"]},{rowData:e,columnList:a,usedColumnList:(A.value.orderParam||[]).filter(a=>!e||a.fieldName!==e.fieldName).map(e=>e.fieldName),maxOrder:(A.value.orderParam||[]).reduce((e,a)=>Math.max(e,a.showOrder||0),0),path:"thirdEditReportColumnOrder"},{width:"600px",height:"500px",pathName:"/thirdParty/thirdEditReportColumnOrder"})).then(a=>{X(e,a)}).catch(e=>{console.error(e)})},G=e=>{f.s.confirm("是否删除此排序？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(a=>{A.value.orderParam=A.value.orderParam.filter(a=>a!==e)}).catch(e=>{console.error(e)})};return(0,n.sV)(()=>{R.rowData&&(A.value={...A.value,...R.rowData})}),(e,l)=>{const f=s._m,v=r.xE,c=o.uD,h=i.P9,y=i.AV,_=u.WK,F=d.S2,k=r.US,g=t.S2;return(0,n.uX)(),(0,n.Wv)(F,{class:"form-single-fragment third-party-dlg edit-template-word-dataset",style:{position:"relative"}},{default:(0,n.k6)(()=>[(0,n.bF)(c,{class:"form-box"},{default:(0,n.k6)(()=>[(0,n.bF)(k,{ref_key:"form",ref:L,"label-width":"70px","label-position":"top",model:A.value,rules:C.value,size:(0,p.R1)(a).defaultFormItemSize},{default:(0,n.k6)(()=>[(0,n.bF)(F,{gutter:16},{default:(0,n.k6)(()=>[(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(v,{label:"数据集",prop:"dataset"},{default:(0,n.k6)(()=>[(0,n.bF)(f,{style:{width:"100%"},modelValue:A.value.bindPath,"onUpdate:modelValue":l[0]||(l[0]=e=>A.value.bindPath=e),options:N.value.datasetTree,props:{value:"id",label:"name"},onChange:E},null,8,["modelValue","options"])]),_:1})]),_:1}),(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(v,{label:"是否迭代"},{default:(0,n.k6)(()=>[(0,n.bF)(y,{modelValue:A.value.loop,"onUpdate:modelValue":l[1]||(l[1]=e=>A.value.loop=e),style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(h,{label:"是",value:!0}),(0,n.bF)(h,{label:"否",value:!1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(v,{label:"数据名称",prop:"showName"},{default:(0,n.k6)(()=>[(0,n.bF)(_,{modelValue:A.value.showName,"onUpdate:modelValue":l[2]||(l[2]=e=>A.value.showName=e)},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(v,{label:"数据标识",prop:"variableName"},{default:(0,n.k6)(()=>[(0,n.bF)(_,{modelValue:A.value.variableName,"onUpdate:modelValue":l[3]||(l[3]=e=>A.value.variableName=e)},null,8,["modelValue"])]),_:1})]),_:1}),(D.value||{}).datasetType===(0,p.R1)(V.DatasetType).SQL||(D.value||{}).datasetType===(0,p.R1)(V.DatasetType).API?((0,n.uX)(),(0,n.Wv)(c,{key:0,span:24},{default:(0,n.k6)(()=>[(0,n.bF)(b.A,{label:"数据集参数",data:A.value.datasetFilterParams,disabled:null==D.value,onAdd:l[4]||(l[4]=e=>O()),onEdit:l[5]||(l[5]=e=>O()),onDelete:M,prop:{label:"paramName",value:"paramName"}},{default:(0,n.k6)(e=>[(0,n.Lk)("span",null,(0,m.v_)(e.data.paramName),1),l[10]||(l[10]=(0,n.Lk)("span",{style:{margin:"0px 10px"}},"等于",-1)),(0,n.Lk)("span",null,(0,m.v_)(e.data.paramValue),1)]),_:1},8,["data","disabled"])]),_:1})):(0,n.Q3)("",!0),(D.value||{}).datasetType!==(0,p.R1)(V.DatasetType).API?((0,n.uX)(),(0,n.Wv)(c,{key:1,span:24},{default:(0,n.k6)(()=>[(0,n.bF)(b.A,{label:"过滤器",data:A.value.filterParams,disabled:null==D.value,onAdd:l[6]||(l[6]=e=>q()),onEdit:q,onDelete:B,prop:{label:"paramName",value:"paramId"}},{default:(0,n.k6)(e=>[(0,n.Lk)("span",null,(0,m.v_)((e.data||{}).paramName),1),(0,n.Lk)("span",w,(0,m.v_)((0,p.R1)(V.CriteriaFilterType).getValue((e.data||{}).filterType)),1),(0,n.Lk)("span",null,(0,m.v_)((e.data||{}).filterValueType===(0,p.R1)(V.FilterValueKind).INNER_VARIABLE?(0,p.R1)(V.CustomDateValueType).getValue((e.data||{}).paramValue):(e.data||{}).paramValue),1)]),_:1},8,["data","disabled"])]),_:1})):(0,n.Q3)("",!0),(D.value||{}).datasetType!==(0,p.R1)(V.DatasetType).API?((0,n.uX)(),(0,n.Wv)(c,{key:2,span:24},{default:(0,n.k6)(()=>[(0,n.bF)(b.A,{label:"排序",data:A.value.orderParam,disabled:null==D.value,onAdd:l[7]||(l[7]=e=>Q()),onEdit:Q,onDelete:G,prop:{label:"fieldName",value:"fieldName"}},{right:(0,n.k6)(e=>[e.data.asc?((0,n.uX)(),(0,n.CE)("i",P," 正序 ")):(0,n.Q3)("",!0),e.data.asc?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("i",T," 倒序 "))]),_:1},8,["data","disabled"])]),_:1})):(0,n.Q3)("",!0)]),_:1})]),_:1},8,["model","rules","size"])]),_:1}),(0,n.bF)(c,{class:"menu-box",span:24,style:{"margin-top":"15px","flex-basis":"0"}},{default:(0,n.k6)(()=>[(0,n.bF)(F,{type:"flex",justify:"end"},{default:(0,n.k6)(()=>[(0,n.bF)(g,{size:(0,p.R1)(a).defaultFormItemSize,plain:!0,onClick:l[8]||(l[8]=e=>z(!1))},{default:(0,n.k6)(()=>l[11]||(l[11]=[(0,n.eW)(" 取消 ")])),_:1,__:[11]},8,["size"]),(0,n.bF)(g,{type:"primary",size:(0,p.R1)(a).defaultFormItemSize,onClick:l[9]||(l[9]=e=>W())},{default:(0,n.k6)(()=>l[12]||(l[12]=[(0,n.eW)(" 确定 ")])),_:1,__:[12]},8,["size"])]),_:1})]),_:1})]),_:1})}}}),x=l(71241);const I=(0,x.A)(R,[["__scopeId","data-v-31b8828d"]]);var N=I},37383:function(e,a,l){l.r(a),l.d(a,{default:function(){return _}});var t=l(25136),r=(l(97042),l(69957),l(21929)),d=(l(98421),l(65451)),u=(l(63390),l(77649)),i=(l(87603),l(17851)),o=(l(68489),l(20709),l(76408)),s=(l(87535),l(32465),l(85415)),n=(l(22243),l(7409),l(56768)),p=l(90144),m=l(45130),f=l(26695),v=l(71066),c=l(82572);const b={class:"edit-report-template-order third-party-dlg"};var h=(0,n.pM)({__name:"editReportColumnOrder",props:{rowData:{},columnList:{},usedColumnList:{},maxOrder:{},defaultFormItemSize:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const a=(0,c.l5)(),l=e,h=(0,n.EW)(()=>a.defaultFormItemSize||y.value.defaultFormItemSize?.value),{thirdParams:y,onCloseThirdDialog:_}=(0,v.P)(l),V=(0,p.KR)(),F=(0,p.KR)({fieldName:void 0,asc:!0,showOrder:0}),k={fieldName:[{required:!0,message:"排序字段不能为空",trigger:"blur"}],showOrder:[{required:!0,message:"排序顺序不能为空",trigger:"blur"}]},g=(0,n.EW)(()=>({rowData:l.rowData||y.value.rowData,columnList:l.columnList||y.value.columnList||[],usedColumnList:l.usedColumnList||[],maxOrder:l.maxOrder})),w=()=>{l.dialog?l.dialog.cancel():_(!1)},P=()=>{V.value.validate(e=>{e&&(null==g.value.usedColumnList||-1===g.value.usedColumnList.indexOf(F.value.fieldName)?l.dialog?l.dialog.submit(F.value):_(!0,g.value.rowData,F.value):f.nk.error("此字段已被使用，不能重复添加！"))})};return(0,n.sV)(()=>{F.value.showOrder=(g.value&&g.value.maxOrder?g.value.maxOrder:0)+1,null!=g.value.rowData&&(F.value={...F.value,...g.value.rowData})}),(e,a)=>{const l=s.P9,f=s.AV,v=r.xE,c=o.uD,y=i.Zh,_=i.MQ,T=u.lq,R=d.S2,x=r.US,I=t.S2;return(0,n.uX)(),(0,n.CE)("div",b,[(0,n.bF)(x,{class:"form-box",ref_key:"form",ref:V,model:(0,p.R1)(F),rules:k,"label-width":"80px",size:(0,p.R1)(h),onSubmit:a[3]||(a[3]=(0,m.D$)(()=>{},["prevent"]))},{default:(0,n.k6)(()=>[(0,n.bF)(R,null,{default:(0,n.k6)(()=>[(0,n.bF)(c,{span:24},{default:(0,n.k6)(()=>[(0,n.bF)(R,{class:"full-width-input"},{default:(0,n.k6)(()=>[(0,n.bF)(c,{span:24},{default:(0,n.k6)(()=>[(0,n.bF)(v,{label:"排序字段",prop:"fieldName"},{default:(0,n.k6)(()=>[(0,n.bF)(f,{modelValue:(0,p.R1)(F).fieldName,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,p.R1)(F).fieldName=e),placeholder:"",clearable:""},{default:(0,n.k6)(()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,p.R1)(g).columnList,e=>((0,n.uX)(),(0,n.Wv)(l,{key:e.columnName,label:e.columnName,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(c,{span:24},{default:(0,n.k6)(()=>[(0,n.bF)(v,{label:"排序类型",prop:"asc",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(_,{modelValue:(0,p.R1)(F).asc,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,p.R1)(F).asc=e)},{default:(0,n.k6)(()=>[(0,n.bF)(y,{value:!0},{default:(0,n.k6)(()=>a[4]||(a[4]=[(0,n.eW)("升序")])),_:1,__:[4]}),(0,n.bF)(y,{value:!1},{default:(0,n.k6)(()=>a[5]||(a[5]=[(0,n.eW)("降序")])),_:1,__:[5]})]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(c,{span:24},{default:(0,n.k6)(()=>[(0,n.bF)(v,{label:"排序顺序",prop:"showOrder"},{default:(0,n.k6)(()=>[(0,n.bF)(T,{modelValue:(0,p.R1)(F).showOrder,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,p.R1)(F).showOrder=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","size"]),(0,n.bF)(R,{type:"flex",class:"menu-box",style:{"margin-top":"15px"},justify:"end"},{default:(0,n.k6)(()=>[(0,n.bF)(I,{size:(0,p.R1)(h),plain:!0,onClick:w},{default:(0,n.k6)(()=>a[6]||(a[6]=[(0,n.eW)(" 取消 ")])),_:1,__:[6]},8,["size"]),(0,n.bF)(I,{type:"primary",size:(0,p.R1)(h),onClick:P},{default:(0,n.k6)(()=>a[7]||(a[7]=[(0,n.eW)(" 确定 ")])),_:1,__:[7]},8,["size"])]),_:1})])}}});const y=h;var _=y},63019:function(e,a,l){l.d(a,{A:function(){return V}});var t=l(21929),r=(l(97042),l(32465),l(91542)),d=(l(37985),l(54620)),u=(l(53086),l(65451)),i=(l(63390),l(56768)),o=l(24232),s=l(90144),n=l(45130),p=l(37972),m=l(57477),f=l(22369);const v={class:"item",style:{width:"100%",padding:"0 15px"}},c={key:1},b={class:"right",style:{"line-height":"20px","font-size":"12px"}};var h=(0,i.pM)({__name:"index",props:{label:{},data:{},disabled:{type:Boolean,default:!1},maxCount:{},supportSort:{type:Boolean,default:!1},supportAdd:{type:Boolean,default:!0},dragGroup:{default:"componentsGroup"},prop:{default:()=>({label:"name",value:"id",disabled:void 0})},addText:{}},emits:["add","edit","delete","update:data"],setup(e,{emit:a}){const l=a,h=e,y=(0,i.Ht)();console.log("slots",y);const _=(0,i.EW)(()=>(console.log("addDisabled",h.label,h.disabled,!h.supportAdd,h.maxCount,(F.value||[]).length),h.disabled||!h.supportAdd||h.maxCount&&h.maxCount<=(F.value||[]).length)),V=(0,i.EW)(()=>(console.log("getCurrentInstance.slots",(0,i.nI)()?.slots),(0,i.nI)()?.slots.default)),F=(0,i.EW)({get:()=>(console.log("dataList 0>>>",h.data),null==h.data?[]:Array.isArray(h.data)?h.data:[h.data]),set:e=>{console.log("MultiItemList data change",e),l("update:data",e)}}),k=e=>{let a=!1;return null!=e&&null!=h.prop.disabled&&(a="function"===typeof h.prop.disabled?h.prop.disabled(e):e[h.prop.disabled]),h.disabled||null==e||a},g=e=>{h.disabled||(null==e?l("add"):l("edit",e))},w=e=>{k(e)||l("delete",e)},P=e=>"function"===typeof h.prop.value?h.prop.value(e):e[h.prop.value],T=e=>"function"===typeof h.prop.label?h.prop.label(e):e[h.prop.label];return(e,a)=>{const l=u.S2,h=d.C4,y=r.tk,R=t.xE;return(0,i.uX)(),(0,i.Wv)(R,{class:(0,o.C4)(["multi-item-list",{empty:((0,s.R1)(F)||[]).length<=0}])},{label:(0,i.k6)(()=>[(0,i.bF)(l,{justify:"space-between",align:"middle",style:{width:"100%"}},{default:(0,i.k6)(()=>[(0,i.Lk)("span",null,(0,o.v_)(e.label),1),(0,i.bF)(f.A,{class:"add-btn",disabled:(0,s.R1)(_),onClick:a[0]||(a[0]=(0,n.D$)(e=>g(null),["prevent","stop"]))},{default:(0,i.k6)(()=>[(0,i.eW)((0,o.v_)(e.addText?e.addText:"添加"),1)]),_:1},8,["disabled"])]),_:1})]),default:(0,i.k6)(()=>[(0,i.bF)((0,s.R1)(p.MA),{draggable:".list-item",modelValue:(0,s.R1)(F),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,s.i9)(F)?F.value=e:null),group:e.dragGroup,style:{display:"inline-block",overflow:"hidden",width:"100%",height:"100%"},disabled:!e.supportSort},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,s.R1)(F),a=>((0,i.uX)(),(0,i.Wv)(l,{class:"list-item",key:P(a),align:"middle",justify:"space-between",style:{width:"100%","flex-wrap":"nowrap"}},{default:(0,i.k6)(()=>[(0,i.Lk)("div",v,[(0,i.bF)(l,{align:"middle",justify:"space-between",style:{"min-height":"32px",padding:"6px 0"}},{default:(0,i.k6)(()=>[(0,i.bF)(h,{style:{"font-size":"12px",color:"#333","line-height":"20px"},disabled:e.disabled,onClick:e=>g(a)},{default:(0,i.k6)(()=>[(0,s.R1)(V)?(0,i.RG)(e.$slots,"default",{key:0,data:a}):((0,i.uX)(),(0,i.CE)("span",c,(0,o.v_)(T(a)),1))]),_:2},1032,["disabled","onClick"]),(0,i.Lk)("div",b,[(0,i.RG)(e.$slots,"right",{data:a})])]),_:2},1024)]),(0,i.bF)(y,{style:{"margin-left":"8px",color:"#333"},class:(0,o.C4)(["close-btn",{disabled:k(a)}]),onClick:(0,n.D$)(e=>w(a),["stop"])},{default:(0,i.k6)(()=>[(0,i.bF)((0,s.R1)(m.Remove))]),_:2},1032,["class","onClick"])]),_:2},1024))),128))]),_:3},8,["modelValue","group","disabled"])]),_:3},8,["class"])}}}),y=l(71241);const _=(0,y.A)(h,[["__scopeId","data-v-6dcd60d8"]]);var V=_},68489:function(e,a,l){l(97042)},71962:function(e,a,l){l.r(a),l.d(a,{default:function(){return F}});var t=l(65451),r=(l(97042),l(63390),l(25136)),d=(l(69957),l(76408)),u=(l(87535),l(68368)),i=(l(81208),l(88284)),o=(l(36715),l(77649)),s=(l(87603),l(14022)),n=(l(72343),l(85415)),p=(l(22243),l(7409),l(47001),l(18111),l(22489),l(61701),l(56768)),m=l(90144),f=l(61473),v=l(27007),c=l(92380),b=l(71066),h=l(82572);const y={class:"set-dataset-param third-party-dlg"};var _=(0,p.pM)({__name:"SetReportDatasetParam",props:{datasetParamList:{},datasetFilterParams:{},formParamList:{},validFilterValueType:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const a=(0,h.l5)(),l=e,_=(0,p.EW)(()=>a.defaultFormItemSize||V.value.defaultFormItemSize?.value),{thirdParams:V,onCloseThirdDialog:F}=(0,b.P)(l),k=(0,p.EW)(()=>({datasetParamList:l.datasetParamList||V.value.datasetParamList||[],datasetFilterParams:l.datasetFilterParams||V.value.datasetFilterParams||[],formParamList:l.formParamList||V.value.formParamList||[],validFilterValueType:l.validFilterValueType||V.value.validFilterValueType||[]})),g=(0,p.EW)(()=>k.value.datasetParamList.map(e=>{let a=(0,v.PH)(k.value.datasetFilterParams,e.paramName,"paramName")||{};return{...e,filterValueType:a.filterValueType||c.FilterValueKind.INPUT_DATA,paramValue:a.paramValue}})),w=()=>{l.dialog?l.dialog.cancel():F(!1)},P=()=>{l.dialog?l.dialog.submit(g.value.filter(e=>null!=e.paramValue)):F(!0,g.value.filter(e=>null!=e.paramValue))},T=e=>{e.paramValue=void 0};return(e,a)=>{const l=u.o8,v=n.P9,b=n.AV,h=s.WK,V=o.lq,F=i.MG,R=u.Up,x=d.uD,I=r.S2,N=t.S2;return(0,p.uX)(),(0,p.CE)("div",y,[(0,p.bF)(x,{span:24,class:"form-box"},{default:(0,p.k6)(()=>[(0,p.bF)(R,{data:(0,m.R1)(g),size:"default","header-cell-class-name":"table-header-gray",border:"",height:"100%"},{empty:(0,p.k6)(()=>a[0]||(a[0]=[(0,p.Lk)("div",{class:"table-empty unified-font"},[(0,p.Lk)("img",{src:f}),(0,p.Lk)("span",null,"暂无数据")],-1)])),default:(0,p.k6)(()=>[(0,p.bF)(l,{type:"index",width:"55px",label:"序号"}),(0,p.bF)(l,{label:"参数名称",prop:"paramName",width:"200px"}),(0,p.bF)(l,{label:"参数值类型",prop:"filterValueType",width:"200px"},{default:(0,p.k6)(e=>[(0,p.bF)(b,{modelValue:e.row.filterValueType,"onUpdate:modelValue":a=>e.row.filterValueType=a,placeholder:"",size:"default",onChange:a=>T(e.row)},{default:(0,p.k6)(()=>[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)((0,m.R1)(k).validFilterValueType,e=>((0,p.uX)(),(0,p.Wv)(v,{key:e,label:(0,m.R1)(c.FilterValueKind).getValue(e),value:e},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),(0,p.bF)(l,{label:"参数值",prop:"paramValue"},{default:(0,p.k6)(e=>["String"===e.row.paramType&&e.row.filterValueType===(0,m.R1)(c.FilterValueKind).INPUT_DATA?((0,p.uX)(),(0,p.Wv)(h,{key:0,modelValue:e.row.paramValue,"onUpdate:modelValue":a=>e.row.paramValue=a,size:"default",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):(0,p.Q3)("",!0),"Number"===e.row.paramType&&e.row.filterValueType===(0,m.R1)(c.FilterValueKind).INPUT_DATA?((0,p.uX)(),(0,p.Wv)(V,{key:1,modelValue:e.row.paramValue,"onUpdate:modelValue":a=>e.row.paramValue=a,size:"default",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):(0,p.Q3)("",!0),"Date"===e.row.paramType&&e.row.filterValueType===(0,m.R1)(c.FilterValueKind).INPUT_DATA?((0,p.uX)(),(0,p.Wv)(F,{key:2,type:"datetime",modelValue:e.row.paramValue,"onUpdate:modelValue":a=>e.row.paramValue=a,size:"default",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):(0,p.Q3)("",!0),e.row.filterValueType===(0,m.R1)(c.FilterValueKind).PRINT_INPUT_PARAM||e.row.filterValueType===(0,m.R1)(c.FilterValueKind).FORM_PARAM?((0,p.uX)(),(0,p.Wv)(b,{key:3,modelValue:e.row.paramValue,"onUpdate:modelValue":a=>e.row.paramValue=a,style:{width:"100%"},size:"default",clearable:"",placeholder:""},{default:(0,p.k6)(()=>[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)((0,m.R1)(k).formParamList,e=>((0,p.uX)(),(0,p.Wv)(v,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):(0,p.Q3)("",!0)]),_:1})]),_:1},8,["data"])]),_:1}),(0,p.bF)(N,{class:"no-scroll menu-box",justify:"end",style:{"margin-top":"15px"}},{default:(0,p.k6)(()=>[(0,p.bF)(I,{size:(0,m.R1)(_),plain:!0,onClick:w},{default:(0,p.k6)(()=>a[1]||(a[1]=[(0,p.eW)(" 取消 ")])),_:1,__:[1]},8,["size"]),(0,p.bF)(I,{type:"primary",size:(0,m.R1)(_),onClick:P},{default:(0,p.k6)(()=>a[2]||(a[2]=[(0,p.eW)(" 保存 ")])),_:1,__:[2]},8,["size"])]),_:1})])}}});const V=_;var F=V}}]);