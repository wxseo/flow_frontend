"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[1002,1066],{71066:function(e,a,o){o.d(a,{P:function(){return i},i:function(){return l}});var s=o(81387),t=o(27007),n=o(56768),r=o(90144);const i=e=>{console.log("接收到的第三方参数",e);const a=(0,r.KR)(0),o=(0,n.EW)(()=>{let a={};try{e.thirdParamsString&&(a=JSON.parse(e.thirdParamsString))}catch(o){console.log(o),a={}}return a});console.log("thirdParams",o);const s=(s,t,n)=>{console.log("onCloseThirdDialog",t,n),window.parent&&window.parent.postMessage({type:"closeDialog",data:{index:a.value,dialogKey:e.dialogKey,path:o.value.path,rowData:t?JSON.parse(JSON.stringify(t)):void 0,data:n?JSON.parse(JSON.stringify(n)):void 0,isSuccess:s}},"*")},i=(e,o)=>{switch(e){case"setToken":o.token&&(0,t.WG)(o.token);break;case"dialogIndex":a.value=o;break;case"refreshData":break;case"message":break}},l=e=>{i(e.data.type,e.data.data)};return(0,n.sV)(()=>{console.log("onMounted message"),window.addEventListener("message",l,!1)}),(0,n.hi)(()=>{console.log("onUnmounted message"),window.removeEventListener("message",l)}),{thirdParams:o,onCloseThirdDialog:s}},l=()=>{let e;const a=(0,s.lq)(),o=()=>{window.parent&&window.parent.postMessage({type:"refreshToken"},"*")};-1!==a.path.indexOf("/thirdParty/")&&((0,n.sV)(()=>{(0,t.R7)()&&(e=setInterval(()=>{console.log("refreshToken thirdParty"),o()},18e4))}),(0,n.hi)(()=>{e&&clearInterval(e)}))}}}]);