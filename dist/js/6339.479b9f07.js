"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[1066,6339,8720],{61473:function(e,a,o){e.exports=o.p+"img/empty.7e47f88a.png"},71066:function(e,a,o){o.d(a,{P:function(){return i},i:function(){return l}});var t=o(81387),n=o(27007),s=o(56768),r=o(90144);const i=e=>{console.log("接收到的第三方参数",e);const a=(0,r.KR)(0),o=(0,s.EW)(()=>{let a={};try{e.thirdParamsString&&(a=JSON.parse(e.thirdParamsString))}catch(o){console.log(o),a={}}return a});console.log("thirdParams",o);const t=(t,n,s)=>{console.log("onCloseThirdDialog",n,s),window.parent&&window.parent.postMessage({type:"closeDialog",data:{index:a.value,dialogKey:e.dialogKey,path:o.value.path,rowData:n?JSON.parse(JSON.stringify(n)):void 0,data:s?JSON.parse(JSON.stringify(s)):void 0,isSuccess:t}},"*")},i=(e,o)=>{switch(e){case"setToken":o.token&&(0,n.WG)(o.token);break;case"dialogIndex":a.value=o;break;case"refreshData":break;case"message":break}},l=e=>{i(e.data.type,e.data.data)};return(0,s.sV)(()=>{console.log("onMounted message"),window.addEventListener("message",l,!1)}),(0,s.hi)(()=>{console.log("onUnmounted message"),window.removeEventListener("message",l)}),{thirdParams:o,onCloseThirdDialog:t}},l=()=>{let e;const a=(0,t.lq)(),o=()=>{window.parent&&window.parent.postMessage({type:"refreshToken"},"*")};-1!==a.path.indexOf("/thirdParty/")&&((0,s.sV)(()=>{(0,n.R7)()&&(e=setInterval(()=>{console.log("refreshToken thirdParty"),o()},18e4))}),(0,s.hi)(()=>{e&&clearInterval(e)}))}}}]);