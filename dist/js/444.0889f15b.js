"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[444,1066,6339,7107,8720],{21013:function(e,t,s){s.d(t,{A:function(){return l}});var a=s(55583),r=s(18384);class l extends a.w{static getUserList(e,t){return super.post(r.x+"/upms/sysUser/list",e,t)}static addUser(e,t){return super.post(r.x+"/upms/sysUser/add",e,t)}static updateUser(e,t){return super.post(r.x+"/upms/sysUser/update",e,t)}static deleteUser(e,t){return super.post(r.x+"/upms/sysUser/delete",e,t)}static viewMenu(e,t){return super.post(r.x+"/upms/sysMenu/view",e,t)}static syncAzureUser(e){return super.post(r.x+"/upms/sysUser/syncAzureUser",e)}static getUser(e,t){return super.get(r.x+"/upms/sysUser/view",e,t)}static resetUserPassword(e,t){return super.post(r.x+"/upms/sysUser/resetPassword",e,t)}static listSysPermWithDetail(e,t){return super.get(r.x+"/upms/sysUser/listSysPermWithDetail",e,t)}static listSysPermCodeWithDetail(e,t){return super.get(r.x+"/upms/sysUser/listSysPermCodeWithDetail",e,t)}static listSysMenuWithDetail(e,t){return super.get(r.x+"/upms/sysUser/listSysMenuWithDetail",e,t)}}},42421:function(e,t,s){s.r(t),s.d(t,{default:function(){return R}});var a=s(65451),r=(s(97042),s(63390),s(21929)),l=(s(98421),s(18888)),u=(s(3172),s(25136)),i=(s(69957),s(32465),s(85415)),o=(s(22243),s(7409),s(44114),s(18111),s(22489),s(7588),s(61701),s(56768)),p=s(90144),n=s(45130),d=s(26695),c=s(57477),y=s(27007),m=s(99397),v=s(19183),g=s(99564),w=s(31372),x=s(22414),h=s(71066),P=s(82572);const D={class:"form-single-fragment third-party-dlg",style:{position:"relative"}};var S=(0,o.pM)({__name:"addCopyForItem",props:{deptList:{},postList:{},deptPostList:{},roleList:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const t=(0,P.l5)(),s=e,{thirdParams:S,onCloseThirdDialog:b}=(0,h.P)(s),f=(0,p.KR)(),R=(0,p.KR)([]),F=(0,p.KR)({type:x.SysFlowCopyForType.USER,id:void 0}),k=(0,p.KR)([]),I=(0,o.EW)(()=>({deptList:s.deptList||S.value.deptList,postList:s.postList||S.value.postList,deptPostList:s.deptPostList||S.value.deptPostList,roleList:s.roleList||S.value.roleList})),_=(0,o.EW)(()=>{let e=Array.isArray(f.value)?f.value[f.value.length-1]:void 0;return null==e?[]:I.value.deptPostList.filter(t=>t.deptId===e)}),T=()=>{s.dialog?s.dialog.cancel():b(!1)},U=()=>{if(F.value.type===x.SysFlowCopyForType.DEPT_POST&&(null==f.value||""===f.value))return void d.nk.warning("请选择抄送部门");if((null==F.value.id||""===F.value.id)&&F.value.type!==x.SysFlowCopyForType.SELF_DEPT_LEADER&&F.value.type!==x.SysFlowCopyForType.UP_DEPT_LEADER)return void d.nk.warning("请选择"+x.SysFlowCopyForType.getValue(F.value.type));let e=null;switch(F.value.type){case x.SysFlowCopyForType.ROLE:e=F.value.id.join(",");break;case x.SysFlowCopyForType.USER:case x.SysFlowCopyForType.DEPT:e=F.value.id;break;case x.SysFlowCopyForType.POST:case x.SysFlowCopyForType.SELF_DEPT_POST:case x.SysFlowCopyForType.SLIBING_DEPT_POST:case x.SysFlowCopyForType.UP_DEPT_POST:case x.SysFlowCopyForType.DEPT_POST:e=F.value.id.join(",");break;default:e="";break}const t={type:F.value.type,id:e,userName:k.value};s.dialog?s.dialog.submit(t):b(!1,void 0,t)},C=()=>{F.value.id=void 0},E=()=>{F.value.id=void 0,f.value=void 0,k.value=[],R.value=[]},L=()=>{let e=null==F.value.id||""===F.value.id?[]:F.value.id.split(",");w.l.show("添加抄送人",v["default"],{area:["1000px","650px"]},{multiple:!0,props:{label:"showName",value:"userId"},usedUserIdList:e,path:"thirdTaskUserSelect"},{width:"1000px",height:"690px",pathName:"/thirdParty/thirdTaskUserSelect"}).then(e=>{M(e)}).catch(e=>{console.warn(e)})},M=e=>{if(Array.isArray(e)){let t=k.value.map(e=>e.id);const s=[];e.forEach(e=>{-1===t.indexOf(e.loginName)&&s.push({id:e.loginName,name:e.showName||e.loginName})}),k.value=k.value.concat(s)}else k.value=e?[{id:e.loginName,name:e.showName||e.loginName}]:[]},W=()=>{let e=null==F.value.id||""===F.value.id?[]:F.value.id.split(",");w.l.show("选择部门",g["default"],{area:["600px","600px"]},{allGroupList:I.value.deptList,usedIdList:e,path:"thirdTaskGroupSelect"},{width:"600px",height:"630px",pathName:"/thirdParty/thirdTaskGroupSelect"}).then(e=>{A(e)}).catch(e=>{console.warn(e)})},A=e=>{if(Array.isArray(e)){const t=[];e.forEach(e=>{null==(0,y.PH)(R.value,e.id,"id")&&t.push(e)}),R.value=t}F.value.id=Array.isArray(R.value)?R.value.map(e=>e.id).join(","):""};return(0,o.wB)(k,e=>{let t=e.map(e=>e.id);F.value.id=t.join(",")},{deep:!0}),(e,s)=>{const d=i.P9,y=i.AV,v=r.xE,g=u.S2,w=l._m,h=r.US,P=a.S2;return(0,o.uX)(),(0,o.CE)("div",D,[(0,o.bF)(h,{ref:"form",model:(0,p.R1)(F),class:"full-width-input form-box",style:{width:"100%"},"label-width":"90px",size:(0,p.R1)(t).defaultFormItemSize,"label-position":"right",onSubmit:s[7]||(s[7]=(0,n.D$)(()=>{},["prevent"]))},{default:(0,o.k6)(()=>[(0,o.bF)(v,{label:"抄送类型",prop:"type"},{default:(0,o.k6)(()=>[(0,o.bF)(y,{class:"input-item",modelValue:(0,p.R1)(F).type,"onUpdate:modelValue":s[0]||(s[0]=e=>(0,p.R1)(F).type=e),placeholder:"抄送类型",onChange:E},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,p.R1)(x.SysFlowCopyForType).getList(),e=>((0,o.uX)(),(0,o.Wv)(d,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,p.R1)(F).type===(0,p.R1)(x.SysFlowCopyForType).USER?((0,o.uX)(),(0,o.Wv)(v,{key:0,label:"抄送人",prop:"id"},{default:(0,o.k6)(()=>[(0,o.bF)(m.A,{value:(0,p.R1)(k),"onUpdate:value":s[1]||(s[1]=e=>(0,p.i9)(k)?k.value=e:null)},{append:(0,o.k6)(()=>[(0,o.bF)(g,{class:"append-add",type:"default",icon:(0,p.R1)(c.Plus),onClick:L},null,8,["icon"])]),_:1},8,["value"])]),_:1})):(0,o.Q3)("",!0),(0,p.R1)(F).type===(0,p.R1)(x.SysFlowCopyForType).ROLE?((0,o.uX)(),(0,o.Wv)(v,{key:1,label:"抄送角色",prop:"id"},{default:(0,o.k6)(()=>[(0,o.bF)(y,{modelValue:(0,p.R1)(F).id,"onUpdate:modelValue":s[2]||(s[2]=e=>(0,p.R1)(F).id=e),placeholder:"",multiple:!0},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,p.R1)(I).roleList,e=>((0,o.uX)(),(0,o.Wv)(d,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):(0,o.Q3)("",!0),(0,p.R1)(F).type===(0,p.R1)(x.SysFlowCopyForType).DEPT?((0,o.uX)(),(0,o.Wv)(v,{key:2,label:"抄送部门",prop:"id"},{default:(0,o.k6)(()=>[(0,o.bF)(m.A,{value:(0,p.R1)(R),"onUpdate:value":s[3]||(s[3]=e=>(0,p.i9)(R)?R.value=e:null)},{append:(0,o.k6)(()=>[(0,o.bF)(g,{class:"append-add",type:"default",icon:(0,p.R1)(c.Plus),onClick:W},null,8,["icon"])]),_:1},8,["value"])]),_:1})):(0,o.Q3)("",!0),-1!==[(0,p.R1)(x.SysFlowCopyForType).POST,(0,p.R1)(x.SysFlowCopyForType).SELF_DEPT_POST,(0,p.R1)(x.SysFlowCopyForType).SLIBING_DEPT_POST,(0,p.R1)(x.SysFlowCopyForType).UP_DEPT_POST].indexOf((0,p.R1)(F).type)?((0,o.uX)(),(0,o.Wv)(v,{key:3,label:(0,p.R1)(x.SysFlowCopyForType).getValue((0,p.R1)(F).type),prop:"id"},{default:(0,o.k6)(()=>[(0,o.bF)(y,{modelValue:(0,p.R1)(F).id,"onUpdate:modelValue":s[4]||(s[4]=e=>(0,p.R1)(F).id=e),placeholder:"",multiple:!0},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,p.R1)(I).postList,e=>((0,o.uX)(),(0,o.Wv)(d,{key:e.postId,label:e.postName,value:e.postId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):(0,o.Q3)("",!0),(0,p.R1)(F).type===(0,p.R1)(x.SysFlowCopyForType).DEPT_POST?((0,o.uX)(),(0,o.Wv)(v,{key:4,label:"抄送部门",prop:"deptId"},{default:(0,o.k6)(()=>[(0,o.bF)(w,{modelValue:(0,p.R1)(f),"onUpdate:modelValue":s[5]||(s[5]=e=>(0,p.i9)(f)?f.value=e:null),clearable:!0,size:(0,p.R1)(t).defaultFormItemSize,placeholder:"",props:{value:"id",label:"name",checkStrictly:!0},options:(0,p.R1)(I).deptList,onChange:C},null,8,["modelValue","size","options"])]),_:1})):(0,o.Q3)("",!0),(0,p.R1)(F).type===(0,p.R1)(x.SysFlowCopyForType).DEPT_POST?((0,o.uX)(),(0,o.Wv)(v,{key:5,label:"抄送岗位",prop:"id"},{default:(0,o.k6)(()=>[(0,o.bF)(y,{modelValue:(0,p.R1)(F).id,"onUpdate:modelValue":s[6]||(s[6]=e=>(0,p.R1)(F).id=e),placeholder:"",multiple:!0},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,p.R1)(_),e=>((0,o.uX)(),(0,o.Wv)(d,{key:e.deptPostId,label:e.postShowName,value:e.deptPostId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):(0,o.Q3)("",!0)]),_:1},8,["model","size"]),(0,o.bF)(P,{type:"flex",justify:"end",class:"no-scroll menu-box"},{default:(0,o.k6)(()=>[(0,o.bF)(g,{size:(0,p.R1)(t).defaultFormItemSize,plain:!0,onClick:T},{default:(0,o.k6)(()=>s[8]||(s[8]=[(0,o.eW)(" 取消 ")])),_:1,__:[8]},8,["size"]),(0,o.bF)(g,{type:"primary",size:(0,p.R1)(t).defaultFormItemSize,onClick:U},{default:(0,o.k6)(()=>s[9]||(s[9]=[(0,o.eW)(" 保存 ")])),_:1,__:[9]},8,["size"])]),_:1})])}}}),b=s(71241);const f=(0,b.A)(S,[["__scopeId","data-v-6e74d280"]]);var R=f},54428:function(e,t,s){s.d(t,{v9:function(){return u},n5:function(){return i},lE:function(){return g},_4:function(){return h},C7:function(){return n},If:function(){return P},qY:function(){return p},ek:function(){return d},$z:function(){return c},$D:function(){return x},S_:function(){return v},fe:function(){return o},sV:function(){return y},r0:function(){return m.A}});s(18111),s(61701);var a=s(55583),r=s(52081),l=s(18384);class u extends a.w{static dictSysRole(e,t){return new Promise((s,a)=>{super.get(l.x+"/upms/sysRole/listDict",e,t).then(e=>{const t=new r.w("角色字典",e.data);s(t)}).catch(e=>{a(e)})})}static dictGlobalDict(e,t){return new Promise((s,a)=>{super.get(l.x+"/upms/globalDict/listDict",e,t).then(e=>{const t=new r.w("编码字典",(e.data||[]).map(e=>({...e,disabled:1===e.status})));s(t)}).catch(e=>{a(e)})})}static dictGlobalDictByIds(e,t){return new Promise((s,a)=>{super.get(l.x+"/upms/globalDict/listDictByIds",e,t).then(e=>{const t=new r.w("编码字典",e.data);s(t)}).catch(e=>{a(e)})})}static dictAllMenu(e,t){return new Promise((s,a)=>{super.get(l.x+"/upms/sysMenu/listDict",e,t).then(e=>{const t=new r.w("菜单字典",e.data);s(t)}).catch(e=>{a(e)})})}static dictSysMenu(e,t){return new Promise((s,a)=>{super.get(l.x+"/upms/sysMenu/listMenuDict",e,t).then(e=>{const t=new r.w("菜单字典",e.data);s(t)}).catch(e=>{a(e)})})}static dictDeptPost(e,t){return new Promise((s,a)=>{super.get(l.x+"/upms/sysDept/listSysDeptPostWithRelation",e,t).then(e=>{s(e.data)}).catch(e=>{a(e)})})}static dictSysPost(e,t){return new Promise((s,a)=>{super.get(l.x+"/upms/sysPost/listDict",e,t).then(e=>{const t=new r.w("岗位字典",e.data);s(t)}).catch(e=>{a(e)})})}static dictReportDblink(e,t){return new Promise((s,a)=>{super.get(l.x+"/report/reportDblink/listDict",e,t).then(e=>{const t=new r.w("数据库链接",e.data);s(t)}).catch(e=>{a(e)})})}static dictReportDict(e,t){return new Promise((s,a)=>{super.get(l.x+"/report/reportDict/listDict",e,t).then(e=>{const t=new r.w("字典管理",e.data);s(t)}).catch(e=>{a(e)})})}static dictSysUser(e,t){return new Promise((s,a)=>{super.get("/admin/upms/sysUser/listDict",e,t).then(e=>{let t=new r.w("用户字典",e.data);s(t)}).catch(e=>{a(e)})})}static dictSysDept(e,t){return new Promise((s,a)=>{super.get("/admin/upms/sysDept/listDict",e,t).then(e=>{let t=new r.w("部门字典",e.data);s(t)}).catch(e=>{a(e)})})}static dictSysDeptByParentId(e,t){return new Promise((s,a)=>{super.get("/admin/upms/sysDept/listDictByParentId",e,t).then(e=>{let t=new r.w("部门字典",e.data);s(t)}).catch(e=>{a(e)})})}}class i extends a.w{static listSysLoginUser(e,t){return super.post(l.x+"/upms/loginUser/list",e,t)}static deleteSysLoginUser(e,t){return super.post(l.x+"/upms/loginUser/delete",e,t)}}class o extends a.w{static getMenuPermList(e,t){return super.post(l.x+"/upms/sysMenu/list",e,t)}static addMenu(e,t){return super.post(l.x+"/upms/sysMenu/add",e,t)}static updateMenu(e,t){return super.post(l.x+"/upms/sysMenu/update",e,t)}static deleteMenu(e,t){return super.post(l.x+"/upms/sysMenu/delete",e,t)}static viewMenu(e,t){return super.get(l.x+"/upms/sysMenu/view",e,t)}static listMenuPermCode(e,t){return super.get(l.x+"/upms/sysMenu/listMenuPerm",e,t)}static listSysPermByMenuIdWithDetail(e,t){return super.get(l.x+"/upms/sysMenu/listSysPermWithDetail",e,t)}static listSysUserByMenuIdWithDetail(e,t){return super.get(l.x+"/upms/sysMenu/listSysUserWithDetail",e,t)}}class p extends a.w{static updateSysConf(e,t){return super.post(l.x+"/upms/sysConf/update",e,t)}static getSysConf(e,t){return super.get(l.x+"/upms/sysConf/view",e,t)}}class n extends a.w{static getPermCodeList(e,t){return super.get(l.x+"/upms/login/getAllPermCodes",e,t)}}class d extends a.w{static add(e,t){return super.post(l.x+"/upms/sysDataPerm/add",e,t)}static update(e,t){return super.post(l.x+"/upms/sysDataPerm/update",e,t)}static delete(e,t){return super.post(l.x+"/upms/sysDataPerm/delete",e,t)}static list(e,t){return super.post(l.x+"/upms/sysDataPerm/list",e,t)}static view(e,t){return super.get(l.x+"/upms/sysDataPerm/view",e,t)}static listDataPermUser(e,t){return super.post(l.x+"/upms/sysDataPerm/listDataPermUser",e,t)}static addDataPermUser(e,t){return super.post(l.x+"/upms/sysDataPerm/addDataPermUser",e,t)}static deleteDataPermUser(e,t){return super.post(l.x+"/upms/sysDataPerm/deleteDataPermUser",e,t)}static listNotInDataPermUser(e,t){return super.post(l.x+"/upms/sysDataPerm/listNotInDataPermUser",e,t)}}class c extends a.w{static list(e,t){return super.post(l.x+"/upms/sysDept/list",e,t)}static view(e,t){return super.get(l.x+"/upms/sysDept/view",e,t)}static export(e,t){return super.download(l.x+"/upms/sysDept/export",e,t)}static add(e,t){return super.post(l.x+"/upms/sysDept/add",e,t)}static update(e,t){return super.post(l.x+"/upms/sysDept/update",e,t)}static delete(e,t){return super.post(l.x+"/upms/sysDept/delete",e,t)}static listNotInSysDeptPost(e,t){return super.post(l.x+"/upms/sysDept/listNotInSysDeptPost",e,t)}static listSysDeptPost(e,t){return super.post(l.x+"/upms/sysDept/listSysDeptPost",e,t)}static addSysDeptPost(e,t){return super.post(l.x+"/upms/sysDept/addSysDeptPost",e,t)}static updateSysDeptPost(e,t){return super.post(l.x+"/upms/sysDept/updateSysDeptPost",e,t)}static deleteSysDeptPost(e,t){return super.post(l.x+"/upms/sysDept/deleteSysDeptPost",e,t)}static viewSysDeptPost(e,t){return super.get(l.x+"/upms/sysDept/viewSysDeptPost",e,t)}}class y extends a.w{static getRoleList(e,t){return super.post(l.x+"/upms/sysRole/list",e,t)}static getRole(e,t){return super.get(l.x+"/upms/sysRole/view",e,t)}static deleteRole(e,t){return super.post(l.x+"/upms/sysRole/delete",e,t)}static addRole(e,t){return super.post(l.x+"/upms/sysRole/add",e,t)}static updateRole(e,t){return super.post(l.x+"/upms/sysRole/update",e,t)}static listRoleUser(e,t){return super.post(l.x+"/upms/sysRole/listUserRole",e,t)}static listNotInUserRole(e,t){return super.post(l.x+"/upms/sysRole/listNotInUserRole",e,t)}static addRoleUser(e,t){return super.post(l.x+"/upms/sysRole/addUserRole",e,t)}static deleteRoleUser(e,t){return super.post(l.x+"/upms/sysRole/deleteUserRole",e,t)}}var m=s(21013);class v extends a.w{static list(e,t){return super.post(l.x+"/upms/sysPost/list",e,t)}static view(e,t){return super.get(l.x+"/upms/sysPost/view",e,t)}static add(e,t){return super.post(l.x+"/upms/sysPost/add",e,t)}static update(e,t){return super.post(l.x+"/upms/sysPost/update",e,t)}static delete(e,t){return super.post(l.x+"/upms/sysPost/delete",e,t)}}class g extends a.w{static list(e,t){return super.post(l.x+"/mobile/mobileEntry/list",e,t)}static view(e,t){return super.get(l.x+"/mobile/mobileEntry/view",e,t)}static add(e,t){return super.post(l.x+"/mobile/mobileEntry/add",e,t)}static update(e,t){return super.post(l.x+"/mobile/mobileEntry/update",e,t)}static delete(e,t){return super.post(l.x+"/mobile/mobileEntry/delete",e,t)}static uploadImage(e,t){return super.post(l.x+"/mobile/mobileEntry/uploadImage",e,t)}static downloadImage(e,t){return super.post(l.x+"/mobile/mobileEntry/downloadImage",e,t)}}var w=s(53155);class x{static list(e,t){return(0,w.bE)(l.x+"/upms/globalDict/list",e,t)}static listAll(e,t){return(0,w.Jt)(l.x+"/upms/globalDict/listAll",e,t)}static add(e,t){return(0,w.bE)(l.x+"/upms/globalDict/add",e,t)}static update(e,t){return(0,w.bE)(l.x+"/upms/globalDict/update",e,t)}static delete(e,t){return(0,w.bE)(l.x+"/upms/globalDict/delete",e,t)}static addItem(e,t){return(0,w.bE)(l.x+"/upms/globalDict/addItem",e,t)}static updateItem(e,t){return(0,w.bE)(l.x+"/upms/globalDict/updateItem",e,t)}static updateItemStatus(e,t){return(0,w.bE)(l.x+"/upms/globalDict/updateItemStatus",e,t)}static deleteItem(e,t){return(0,w.bE)(l.x+"/upms/globalDict/deleteItem",e,t)}static reloadCachedData(e,t){return(0,w.Jt)(l.x+"/upms/globalDict/reloadCachedData",e,t)}}class h extends a.w{static listSysOperationLog(e,t){return super.post(l.x+"/upms/sysOperationLog/list",e,t)}}class P extends a.w{static list(e,t){return super.post(l.x+"/commonext/bizwidget/list",e,t)}static viewByIds(e,t){return super.post(l.x+"/commonext/bizwidget/view",e,t)}}},61473:function(e,t,s){e.exports=s.p+"img/empty.7e47f88a.png"},68489:function(e,t,s){s(97042)},71066:function(e,t,s){s.d(t,{P:function(){return i},i:function(){return o}});var a=s(81387),r=s(27007),l=s(56768),u=s(90144);const i=e=>{console.log("接收到的第三方参数",e);const t=(0,u.KR)(0),s=(0,l.EW)(()=>{let t={};try{e.thirdParamsString&&(t=JSON.parse(e.thirdParamsString))}catch(s){console.log(s),t={}}return t});console.log("thirdParams",s);const a=(a,r,l)=>{console.log("onCloseThirdDialog",r,l),window.parent&&window.parent.postMessage({type:"closeDialog",data:{index:t.value,dialogKey:e.dialogKey,path:s.value.path,rowData:r?JSON.parse(JSON.stringify(r)):void 0,data:l?JSON.parse(JSON.stringify(l)):void 0,isSuccess:a}},"*")},i=(e,s)=>{switch(e){case"setToken":s.token&&(0,r.WG)(s.token);break;case"dialogIndex":t.value=s;break;case"refreshData":break;case"message":break}},o=e=>{i(e.data.type,e.data.data)};return(0,l.sV)(()=>{console.log("onMounted message"),window.addEventListener("message",o,!1)}),(0,l.hi)(()=>{console.log("onUnmounted message"),window.removeEventListener("message",o)}),{thirdParams:s,onCloseThirdDialog:a}},o=()=>{let e;const t=(0,a.lq)(),s=()=>{window.parent&&window.parent.postMessage({type:"refreshToken"},"*")};-1!==t.path.indexOf("/thirdParty/")&&((0,l.sV)(()=>{(0,r.R7)()&&(e=setInterval(()=>{console.log("refreshToken thirdParty"),s()},18e4))}),(0,l.hi)(()=>{e&&clearInterval(e)}))}},99397:function(e,t,s){s.d(t,{A:function(){return y}});var a=s(12687),r=(s(97042),s(31112),s(18111),s(22489),s(61701),s(56768)),l=s(90144),u=s(24232),i=s(82572);const o={class:"tag-select"},p={class:"tag-box"};var n=(0,r.pM)({__name:"TagSelect",props:{value:{}},emits:["update:value"],setup(e,{emit:t}){const s=t,n=e,d=(0,i.l5)(),c=(0,l.KR)([]),y={"${startUserName}":"流程发起人","${appointedAssignee}":"指定审批人 "},m=e=>{let t=c.value.filter(t=>t.id!==e.id);Array.isArray(n.value)?s("update:value",t):s("update:value",t.map(e=>e.id).join(","))};return(0,r.wB)(()=>n.value,e=>{null==e||""===e?c.value=[]:Array.isArray(e)?c.value=[...e].map(e=>({id:e.id,name:y[e.id]?y[e.id]:e.name||e.id})):c.value=e.split(",").map(e=>({id:e,name:y[e]?y[e]:e}))},{immediate:!0,deep:!0}),(e,t)=>{const s=a.u;return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("div",p,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(c),e=>((0,r.uX)(),(0,r.Wv)(s,{key:e.id,effect:"dark",style:{"margin-right":"5px"},type:"primary",size:(0,l.R1)(d).defaultFormItemSize,closable:"",onClose:t=>m(e)},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.name),1)]),_:2},1032,["size","onClose"]))),128))]),(0,r.RG)(e.$slots,"append")])}}}),d=s(71241);const c=(0,d.A)(n,[["__scopeId","data-v-907c424c"]]);var y=c},99564:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var a=s(76408),r=(s(97042),s(87535),s(68368)),l=(s(81208),s(47001),s(21929)),u=(s(98421),s(65451)),i=(s(63390),s(25136)),o=(s(69957),s(56768)),p=s(90144),n=s(45130),d=s(61473),c=s(71066),y=s(82572);const m={class:"form-single-fragment",style:{position:"relative"}};var v=(0,o.pM)({__name:"TaskGroupSelect",props:{allGroupList:{},usedIdList:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const t=e,{thirdParams:s,onCloseThirdDialog:v}=(0,c.P)(t),g=(0,y.l5)();let w=(0,p.KR)([]);const x=(0,o.EW)(()=>({allGroupList:t.allGroupList||s.value.allGroupList,usedIdList:t.usedIdList||s.value.usedIdList})),h=(0,o.EW)(()=>w.value.length>0),P=e=>{w.value=e},D=()=>{t.dialog?t.dialog.submit(w.value):v(!0,void 0,w.value)},S=e=>!(Array.isArray(x.value.usedIdList)&&x.value.usedIdList.length>0)||-1===x.value.usedIdList.indexOf(e.id);return(e,t)=>{const s=i.S2,c=u.S2,y=l.US,v=r.o8,w=r.Up,b=a.uD;return(0,o.uX)(),(0,o.CE)("div",m,[(0,o.bF)(y,{"label-width":"100px",size:(0,p.R1)(g).defaultFormItemSize,"label-position":"right",onSubmit:t[0]||(t[0]=(0,n.D$)(()=>{},["prevent"]))},{default:(0,o.k6)(()=>[(0,o.bF)(c,{type:"flex",justify:"end"},{default:(0,o.k6)(()=>[(0,o.bF)(s,{type:"primary",size:(0,p.R1)(g).defaultFormItemSize,onClick:D,disabled:!(0,p.R1)(h)},{default:(0,o.k6)(()=>t[1]||(t[1]=[(0,o.eW)(" 添加分组 ")])),_:1,__:[1]},8,["size","disabled"])]),_:1})]),_:1},8,["size"]),(0,o.bF)(c,{style:{"margin-top":"18px"}},{default:(0,o.k6)(()=>[(0,o.bF)(b,{span:24},{default:(0,o.k6)(()=>[(0,o.bF)(w,{data:(0,p.R1)(x).allGroupList,size:(0,p.R1)(g).defaultFormItemSize,height:"452px","header-cell-class-name":"table-header-gray","row-key":"id","default-expand-all":!0,onSelectionChange:P},{empty:(0,o.k6)(()=>t[2]||(t[2]=[(0,o.Lk)("div",{class:"table-empty unified-font"},[(0,o.Lk)("img",{src:d}),(0,o.Lk)("span",null,"暂无数据")],-1)])),default:(0,o.k6)(()=>[(0,o.bF)(v,{type:"selection",width:"50px","header-align":"center",align:"center",selectable:S}),(0,o.bF)(v,{label:"部门名称",prop:"name"})]),_:1},8,["data","size"])]),_:1})]),_:1})])}}});const g=v;var w=g}}]);