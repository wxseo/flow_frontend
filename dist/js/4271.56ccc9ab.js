"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[4271],{4271:function(e,l,a){a.r(l),a.d(l,{default:function(){return k}});var i=a(21929),r=(a(97042),a(98421),a(25136)),t=(a(69957),a(14022)),u=(a(72343),a(88284)),d=(a(36715),a(77649)),n=(a(87603),a(85415)),o=(a(22243),a(7409),a(3740)),p=(a(42899),a(76408)),m=(a(87535),a(32465),a(18888)),s=(a(3172),a(65451)),f=(a(63390),a(12687)),v=(a(31112),a(18111),a(61701),a(56768)),T=a(90144),c=a(45130),y=a(24232),V=a(28705),b=a(92380),F=a(34894),R=a(27007),_=a(71066),I=a(82572);const D={key:0,style:{"margin-left":"15px",color:"#e6a23c","flex-grow":"0"}};var A=(0,v.pM)({__name:"editReportColumnFilter",props:{rowData:{},columnList:{},formParamList:{},reportDictList:{},widgetList:{},validFilterValueType:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const l=(0,I.l5)(),a=e,A=(0,v.EW)(()=>l.defaultFormItemSize||C.value.defaultFormItemSize?.value),{thirdParams:C,onCloseThirdDialog:k}=(0,_.P)(a),g=(0,T.KR)(),N=(0,T.KR)({paramId:void 0,paramName:void 0,required:!1,filterType:void 0,filterValueType:b.FilterValueKind.INPUT_DATA,paramDictId:void 0,formWidgetId:void 0,formWidgetColumn:void 0,paramValue:void 0,relationId:void 0,paramPath:[]}),L=(0,T.KR)([]),W={paramName:[{required:!0,message:"过滤字段不能为空",trigger:"blur"}],filterType:[{required:!0,message:"过滤规则不能为空",trigger:"blur"}],filterValueType:[{required:!0,message:"过滤值类型不能为空",trigger:"blur"}],paramDictId:[{required:!0,message:"过滤值字典不能为空",trigger:"blur"}],formWidgetId:[{required:!0,message:"过滤组件不能为空",trigger:"blur"}],formWidgetColumn:[{required:!0,message:"过滤组件字段不能为空",trigger:"blur"}],paramValue:[{required:!0,message:"过滤值不能为空",trigger:"blur"}]},h=(0,v.EW)(()=>({rowData:a.rowData||C.value.rowData,columnList:a.columnList||C.value.columnList||[],formParamList:a.formParamList||C.value.formParamList||[],reportDictList:a.reportDictList||C.value.reportDictList||[],widgetList:a.widgetList||C.value.widgetList||[],validFilterValueType:a.validFilterValueType||C.value.validFilterValueType||[]})),K=(0,v.EW)(()=>N.value.filterType!==b.CriteriaFilterType.NOT_NULL&&N.value.filterType!==b.CriteriaFilterType.IS_NULL),E=(0,v.EW)(()=>{if(null==N.value.relationId)return(0,R.PH)(h.value.columnList,N.value.paramName,"id");{let e=(0,R.PH)(h.value.columnList,N.value.relationId,"id");if(null!=e)return(0,R.PH)(e.children,N.value.paramName,"id")}return null}),P=(0,v.EW)(()=>{let e=E.value;if(null==e)return[];let l=(0,V.q2)(e.fieldType);return l}),U=(0,v.EW)(()=>{let e=E.value;return null==e?h.value.validFilterValueType:(0,V.D3)(h.value.validFilterValueType,N.value.filterType,e)}),O=(0,v.EW)(()=>null==E.value?[]:h.value.reportDictList.map(e=>({...e,dictDataList:e.dictDataList}))),X=(0,v.EW)(()=>{for(let e=0;e<O.value.length;e++)if(N.value.paramDictId===O.value[e].id)return O.value[e];return null}),M=(0,v.EW)(()=>(0,R.PH)(h.value.widgetList,N.value.formWidgetId,"widgetId")),w=()=>{a.dialog?a.dialog.cancel():k(!1)},x=()=>{g.value.validate(e=>{e&&(a.dialog?a.dialog.submit(N.value):k(!0,h.value.rowData,N.value))})},z=e=>{N.value.filterType=b.CriteriaFilterType.EQ,N.value.required=!1,N.value.relationId=void 0,Array.isArray(e)&&e.length>0?(N.value.paramName=e[e.length-1],2===e.length&&(N.value.relationId=e[0])):N.value.paramName=void 0,Q(b.CriteriaFilterType.EQ)},Q=e=>{e===b.CriteriaFilterType.IN||e===b.CriteriaFilterType.NOT_IN?N.value.filterValueType=b.FilterValueKind.DICT_DATA:N.value.filterValueType=b.FilterValueKind.INPUT_DATA,q()},q=()=>{N.value.formInputParam=void 0,N.value.reportPrintVariable=void 0,N.value.customParam=void 0,N.value.paramDictId=(E.value||{}).dictId,N.value.paramDictData=void 0,N.value.paramColumnData=void 0,N.value.innerVeriable=void 0,N.value.paramValue=void 0},S=e=>{null==e||Array.isArray(e.dictDataList)?L.value=(e||{}).dictDataList:F.vO.listDictData({dictId:e.id}).then(l=>{L.value=l.data,e.dictDataList=l.data}).catch(e=>{console.warn(e)})},B=()=>{null!=E.value&&(Array.isArray(E.value.columnDataList)||F.TR.listDataWithColumn({datasetId:E.value.datasetId,columnId:E.value.columnId}).then(e=>{let l=E.value?.columnName;E.value&&(E.value.columnDataList=e.data.map(e=>null!=e[l+"__DictMap"]?{...e[l+"__DictMap"]}:{id:e[l],name:e[l]}))}).catch(e=>{console.warn(e)}))};return(0,v.wB)(()=>X.value,e=>{S(e)},{immediate:!0}),(0,v.wB)(()=>E.value,()=>{B()},{immediate:!0}),(0,v.sV)(()=>{null!=h.value.rowData?(N.value={...N.value,...h.value.rowData},N.value.paramPath=null==N.value.relationId?[N.value.paramName]:[N.value.relationId,N.value.paramName],S(X.value),B()):N.value.paramId=(new Date).getTime()}),(e,l)=>{const a=f.u,V=s.S2,F=m._m,R=i.xE,_=p.uD,I=o.qi,C=n.P9,k=n.AV,X=d.lq,S=u.MG,B=t.WK,G=r.S2,Y=i.US;return(0,v.uX)(),(0,v.Wv)(Y,{class:"edit-report-template-filter third-party-dlg",ref_key:"form",ref:g,model:(0,T.R1)(N),rules:W,"label-width":"92px",size:"default",onSubmit:l[18]||(l[18]=(0,c.D$)(()=>{},["prevent"]))},{default:(0,v.k6)(()=>[(0,v.bF)(V,{class:"full-width-input form-box"},{default:(0,v.k6)(()=>[(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,v.bF)(R,{label:"过滤字段",prop:"paramName"},{default:(0,v.k6)(()=>[(0,v.bF)(F,{modelValue:(0,T.R1)(N).paramPath,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,T.R1)(N).paramPath=e),options:(0,T.R1)(h).columnList,props:{label:"name",value:"id"},style:{width:"100%"},size:"default",onChange:z},{default:(0,v.k6)(({data:e})=>[(0,v.bF)(V,{type:"flex",justify:"space-between",align:"middle"},{default:(0,v.k6)(()=>[(0,v.Lk)("span",null,(0,y.v_)(e.name),1),null!=e.dictId?((0,v.uX)(),(0,v.Wv)(a,{key:0,size:"default",style:{"margin-left":"20px"}},{default:(0,v.k6)(()=>l[19]||(l[19]=[(0,v.eW)("字典")])),_:1,__:[19]})):(0,v.Q3)("",!0)]),_:2},1024)]),_:1},8,["modelValue","options"])]),_:1})]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,v.bF)(R,{label:"是否必填",required:""},{default:(0,v.k6)(()=>[(0,v.bF)(I,{modelValue:(0,T.R1)(N).required,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,T.R1)(N).required=e)},null,8,["modelValue"])]),_:1})]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,v.bF)(R,{label:"过滤规则",prop:"filterType"},{default:(0,v.k6)(()=>[(0,v.bF)(k,{modelValue:(0,T.R1)(N).filterType,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,T.R1)(N).filterType=e),size:"default",onChange:Q},{default:(0,v.k6)(()=>[((0,v.uX)(!0),(0,v.CE)(v.FK,null,(0,v.pI)((0,T.R1)(P),e=>((0,v.uX)(),(0,v.Wv)(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,v.bF)(R,{label:"过滤值类型",prop:"filterValueType"},{default:(0,v.k6)(()=>[(0,v.bF)(k,{modelValue:(0,T.R1)(N).filterValueType,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,T.R1)(N).filterValueType=e),size:"default",placeholder:"",disabled:!(0,T.R1)(K),onChange:q},{default:(0,v.k6)(()=>[((0,v.uX)(!0),(0,v.CE)(v.FK,null,(0,v.pI)((0,T.R1)(U),e=>((0,v.uX)(),(0,v.Wv)(C,{key:e,label:(0,T.R1)(b.FilterValueKind).getValue(e),value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,T.R1)(N).filterValueType===(0,T.R1)(b.FilterValueKind).FORM_PARAM?((0,v.uX)(),(0,v.Wv)(R,{key:0,label:"过滤值",prop:(0,T.R1)(K)?"paramValue":void 0,disabled:!(0,T.R1)(K)},{default:(0,v.k6)(()=>[(0,v.bF)(k,{modelValue:(0,T.R1)(N).paramValue,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,T.R1)(N).paramValue=e),size:"default",clearable:"",placeholder:""},{default:(0,v.k6)(()=>[((0,v.uX)(!0),(0,v.CE)(v.FK,null,(0,v.pI)((0,T.R1)(h).formParamList,e=>((0,v.uX)(),(0,v.Wv)(C,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["prop","disabled"])):(0,v.Q3)("",!0)]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,T.R1)(N).filterValueType===(0,T.R1)(b.FilterValueKind).WIDGET_DATA?((0,v.uX)(),(0,v.Wv)(R,{key:0,label:"过滤组件",prop:(0,T.R1)(K)?"formWidgetId":void 0,disabled:!(0,T.R1)(K)},{default:(0,v.k6)(()=>[(0,v.bF)(k,{modelValue:(0,T.R1)(N).formWidgetId,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,T.R1)(N).formWidgetId=e),key:"formWidgetId",size:"default",clearable:"",placeholder:"",onChange:l[6]||(l[6]=e=>(0,T.R1)(N).formWidgetColumn=void 0)},{default:(0,v.k6)(()=>[((0,v.uX)(!0),(0,v.CE)(v.FK,null,(0,v.pI)((0,T.R1)(h).widgetList,e=>((0,v.uX)(),(0,v.Wv)(C,{key:e.id,label:e.showName,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["prop","disabled"])):(0,v.Q3)("",!0)]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,T.R1)(N).filterValueType===(0,T.R1)(b.FilterValueKind).WIDGET_DATA&&null!=(0,T.R1)(M)&&Array.isArray((0,T.R1)(M).children)&&(0,T.R1)(M).children.length>0?((0,v.uX)(),(0,v.Wv)(R,{key:0,label:"组件字段",prop:(0,T.R1)(K)?"formWidgetColumn":void 0,disabled:!(0,T.R1)(K)},{default:(0,v.k6)(()=>[(0,v.bF)(k,{modelValue:(0,T.R1)(N).formWidgetColumn,"onUpdate:modelValue":l[7]||(l[7]=e=>(0,T.R1)(N).formWidgetColumn=e),key:"formWidgetColumn",size:"default",clearable:"",placeholder:""},{default:(0,v.k6)(()=>[((0,v.uX)(!0),(0,v.CE)(v.FK,null,(0,v.pI)(((0,T.R1)(M)||{}).children,e=>((0,v.uX)(),(0,v.Wv)(C,{key:e.id,label:e.showName,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["prop","disabled"])):(0,v.Q3)("",!0)]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,T.R1)(N).filterValueType===(0,T.R1)(b.FilterValueKind).DICT_DATA?((0,v.uX)(),(0,v.Wv)(R,{key:0,label:"过滤值字典",prop:(0,T.R1)(K)?"paramDictId":void 0,disabled:!(0,T.R1)(K)},{default:(0,v.k6)(()=>[(0,v.bF)(V,{type:"flex"},{default:(0,v.k6)(()=>[(0,v.bF)(k,{modelValue:(0,T.R1)(N).paramDictId,"onUpdate:modelValue":l[8]||(l[8]=e=>(0,T.R1)(N).paramDictId=e),key:"paramDictId",style:{width:"200px","flex-grow":"1"},size:"default",clearable:"",placeholder:"",disabled:null==(0,T.R1)(E)||null!=(0,T.R1)(E).dictId,onChange:l[9]||(l[9]=e=>(0,T.R1)(N).paramValue=void 0)},{default:(0,v.k6)(()=>[((0,v.uX)(!0),(0,v.CE)(v.FK,null,(0,v.pI)((0,T.R1)(O),e=>((0,v.uX)(),(0,v.Wv)(C,{key:e.id,label:e.name,value:e.id,disabled:e.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue","disabled"]),null!=((0,T.R1)(E)||{}).dictId?((0,v.uX)(),(0,v.CE)("span",D,"只显示字段绑定字典")):(0,v.Q3)("",!0)]),_:1})]),_:1},8,["prop","disabled"])):(0,v.Q3)("",!0)]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,T.R1)(N).filterValueType===(0,T.R1)(b.FilterValueKind).DICT_DATA?((0,v.uX)(),(0,v.Wv)(R,{key:0,label:"字典数据",prop:(0,T.R1)(K)?"paramValue":void 0,disabled:!(0,T.R1)(K)},{default:(0,v.k6)(()=>[(0,v.bF)(k,{modelValue:(0,T.R1)(N).paramValue,"onUpdate:modelValue":l[10]||(l[10]=e=>(0,T.R1)(N).paramValue=e),size:"default",clearable:"",placeholder:"",multiple:(0,T.R1)(N).filterType===(0,T.R1)(b.CriteriaFilterType).IN||(0,T.R1)(N).filterType===(0,T.R1)(b.CriteriaFilterType).NOT_IN},{default:(0,v.k6)(()=>[((0,v.uX)(!0),(0,v.CE)(v.FK,null,(0,v.pI)((0,T.R1)(L),e=>((0,v.uX)(),(0,v.Wv)(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","multiple"])]),_:1},8,["prop","disabled"])):(0,v.Q3)("",!0)]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,T.R1)(N).filterValueType===(0,T.R1)(b.FilterValueKind).COLUMN_DATA?((0,v.uX)(),(0,v.Wv)(R,{key:0,label:"参数值",prop:(0,T.R1)(K)?"paramValue":void 0,disabled:!(0,T.R1)(K)},{default:(0,v.k6)(()=>[(0,v.bF)(k,{modelValue:(0,T.R1)(N).paramValue,"onUpdate:modelValue":l[11]||(l[11]=e=>(0,T.R1)(N).paramValue=e),size:"default",clearable:"",placeholder:"",multiple:(0,T.R1)(N).filterType===(0,T.R1)(b.CriteriaFilterType).IN||(0,T.R1)(N).filterType===(0,T.R1)(b.CriteriaFilterType).NOT_IN},{default:(0,v.k6)(()=>[((0,v.uX)(!0),(0,v.CE)(v.FK,null,(0,v.pI)(((0,T.R1)(E)||{}).columnDataList,e=>((0,v.uX)(),(0,v.Wv)(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","multiple"])]),_:1},8,["prop","disabled"])):(0,v.Q3)("",!0)]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,T.R1)(N).filterValueType===(0,T.R1)(b.FilterValueKind).PRINT_INPUT_PARAM?((0,v.uX)(),(0,v.Wv)(R,{key:0,label:"过滤值",prop:(0,T.R1)(K)?"paramValue":void 0},{default:(0,v.k6)(()=>[(0,v.bF)(k,{modelValue:(0,T.R1)(N).paramValue,"onUpdate:modelValue":l[12]||(l[12]=e=>(0,T.R1)(N).paramValue=e),size:"default",clearable:"",placeholder:"",disabled:!(0,T.R1)(K)},{default:(0,v.k6)(()=>[((0,v.uX)(!0),(0,v.CE)(v.FK,null,(0,v.pI)((0,T.R1)(h).formParamList,e=>((0,v.uX)(),(0,v.Wv)(C,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1},8,["prop"])):(0,v.Q3)("",!0)]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,T.R1)(N).filterValueType===(0,T.R1)(b.FilterValueKind).INNER_VARIABLE?((0,v.uX)(),(0,v.Wv)(R,{key:0,label:"过滤值",prop:(0,T.R1)(K)?"paramValue":void 0},{default:(0,v.k6)(()=>[(0,v.bF)(k,{modelValue:(0,T.R1)(N).paramValue,"onUpdate:modelValue":l[13]||(l[13]=e=>(0,T.R1)(N).paramValue=e),size:"default",clearable:"",placeholder:"",disabled:!(0,T.R1)(K)},{default:(0,v.k6)(()=>[((0,v.uX)(!0),(0,v.CE)(v.FK,null,(0,v.pI)((0,T.R1)(b.CustomDateValueType).getList(),e=>((0,v.uX)(),(0,v.Wv)(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1},8,["prop"])):(0,v.Q3)("",!0)]),_:1}),(0,v.bF)(_,{span:24},{default:(0,v.k6)(()=>[(0,T.R1)(N).filterValueType===(0,T.R1)(b.FilterValueKind).INPUT_DATA?((0,v.uX)(),(0,v.Wv)(R,{key:0,label:"过滤值",prop:(0,T.R1)(K)?"paramValue":void 0},{default:(0,v.k6)(()=>[null!=(0,T.R1)(E)&&-1!==["Integer","Long","Double","BigDecimal"].indexOf((0,T.R1)(E).fieldType)?((0,v.uX)(),(0,v.Wv)(X,{key:0,modelValue:(0,T.R1)(N).paramValue,"onUpdate:modelValue":l[14]||(l[14]=e=>(0,T.R1)(N).paramValue=e),"controls-position":"right",size:"default",placeholder:"",disabled:!(0,T.R1)(K)},null,8,["modelValue","disabled"])):null!=(0,T.R1)(E)&&"Boolean"===(0,T.R1)(E).fieldType?((0,v.uX)(),(0,v.Wv)(I,{key:1,modelValue:(0,T.R1)(N).paramValue,"onUpdate:modelValue":l[15]||(l[15]=e=>(0,T.R1)(N).paramValue=e),size:"default",disabled:!(0,T.R1)(K)},null,8,["modelValue","disabled"])):null!=(0,T.R1)(E)&&"Date"===(0,T.R1)(E).fieldType?((0,v.uX)(),(0,v.Wv)(S,{key:2,modelValue:(0,T.R1)(N).paramValue,"onUpdate:modelValue":l[16]||(l[16]=e=>(0,T.R1)(N).paramValue=e),type:"datetime",size:"default",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",disabled:!(0,T.R1)(K)},null,8,["modelValue","disabled"])):((0,v.uX)(),(0,v.Wv)(B,{key:3,disabled:!(0,T.R1)(K),modelValue:(0,T.R1)(N).paramValue,"onUpdate:modelValue":l[17]||(l[17]=e=>(0,T.R1)(N).paramValue=e),size:"default",placeholder:"",clearable:""},null,8,["disabled","modelValue"]))]),_:1},8,["prop"])):(0,v.Q3)("",!0)]),_:1})]),_:1}),(0,v.bF)(V,{type:"flex",justify:"end",class:"menu-box",style:{"margin-top":"15px"}},{default:(0,v.k6)(()=>[(0,v.bF)(G,{size:(0,T.R1)(A),plain:!0,onClick:w},{default:(0,v.k6)(()=>l[20]||(l[20]=[(0,v.eW)(" 取消 ")])),_:1,__:[20]},8,["size"]),(0,v.bF)(G,{type:"primary",size:(0,T.R1)(A),onClick:x},{default:(0,v.k6)(()=>l[21]||(l[21]=[(0,v.eW)(" 确定 ")])),_:1,__:[21]},8,["size"])]),_:1})]),_:1},8,["model"])}}});const C=A;var k=C},28705:function(e,l,a){a.d(l,{D3:function(){return u},JY:function(){return n},Sb:function(){return o},Uo:function(){return s},dU:function(){return d},oG:function(){return m},ok:function(){return f},q2:function(){return t},wr:function(){return p}});a(44114),a(18111),a(22489),a(7588);var i=a(27007),r=a(92380);function t(e){return r.CriteriaFilterType.getList().filter(l=>{switch(e){case"Boolean":return-1!==[r.CriteriaFilterType.EQ,r.CriteriaFilterType.NOT_EQ].indexOf(l.id);case"String":return-1!==[r.CriteriaFilterType.EQ,r.CriteriaFilterType.NOT_EQ,r.CriteriaFilterType.LIKE,r.CriteriaFilterType.NOT_NULL,r.CriteriaFilterType.IS_NULL,r.CriteriaFilterType.IN,r.CriteriaFilterType.NOT_IN].indexOf(l.id);case"Date":return-1!==[r.CriteriaFilterType.EQ,r.CriteriaFilterType.GE,r.CriteriaFilterType.GT,r.CriteriaFilterType.LE,r.CriteriaFilterType.LT,r.CriteriaFilterType.BETWEEN,r.CriteriaFilterType.NOT_NULL,r.CriteriaFilterType.IS_NULL].indexOf(l.id);case"Integer":case"Long":case"Double":case"BigDecimal":return-1!==[r.CriteriaFilterType.EQ,r.CriteriaFilterType.NOT_EQ,r.CriteriaFilterType.GE,r.CriteriaFilterType.GT,r.CriteriaFilterType.LE,r.CriteriaFilterType.LT,r.CriteriaFilterType.NOT_NULL,r.CriteriaFilterType.IS_NULL,r.CriteriaFilterType.IN,r.CriteriaFilterType.NOT_IN].indexOf(l.id);default:return[]}})}function u(e,l,a){return Array.isArray(e)?e.filter(e=>{switch(a.fieldType){case"Boolean":return-1!==[r.FilterValueKind.FORM_PARAM,r.FilterValueKind.WIDGET_DATA,r.FilterValueKind.DICT_DATA,r.FilterValueKind.PRINT_INPUT_PARAM,r.FilterValueKind.INPUT_DATA].indexOf(e);case"String":return-1!==[r.FilterValueKind.FORM_PARAM,r.FilterValueKind.WIDGET_DATA,r.FilterValueKind.DICT_DATA,r.FilterValueKind.COLUMN_DATA,r.FilterValueKind.PRINT_INPUT_PARAM,r.FilterValueKind.INPUT_DATA].indexOf(e);case"Date":return-1!==[r.FilterValueKind.FORM_PARAM,r.FilterValueKind.WIDGET_DATA,r.FilterValueKind.DICT_DATA,r.FilterValueKind.COLUMN_DATA,r.FilterValueKind.PRINT_INPUT_PARAM,r.FilterValueKind.INNER_VARIABLE,r.FilterValueKind.INPUT_DATA].indexOf(e);case"Integer":case"Long":case"Double":case"BigDecimal":return-1!==[r.FilterValueKind.FORM_PARAM,r.FilterValueKind.WIDGET_DATA,r.FilterValueKind.DICT_DATA,r.FilterValueKind.COLUMN_DATA,r.FilterValueKind.PRINT_INPUT_PARAM,r.FilterValueKind.INPUT_DATA].indexOf(e);default:return[]}}).filter(e=>l!==r.CriteriaFilterType.IN&&l!==r.CriteriaFilterType.NOT_IN||(e===r.FilterValueKind.DICT_DATA||e===r.FilterValueKind.COLUMN_DATA)):[]}function d(e,l){let a=null;if(null==l||""===l)return a;switch(e){case r.CalculateType.SUM:a="sumOf";break;case r.CalculateType.COUNT:a="countOf";break;case r.CalculateType.AVG:a="avgOf";break;case r.CalculateType.MIN_BY:a="minOf";break;case r.CalculateType.MAX_BY:a="maxOf";break;case r.CalculateType.STD_DEV:a="stddevOf";break;case r.CalculateType.MEAN_DEV:a="varpopOf";break}return a+(0,i.ET)(l,1)}const n=(e,l,a)=>{if(null==e)return null;if(Array.isArray(l)){let i=l.length>0?e:void 0;for(let e=0;e<l.length;e++){const a=l[e];if(null==a||null==i){i=void 0;break}i=i[a]}return null!=i&&"number"===typeof i?o(i,a):i}{const a=l+"__DictMap";return e[a]?e[a].name:e[l]}},o=(e,l)=>void 0===l||null==e||null==e.toFixed?e:Number(e.toFixed(l)),p=(e,l)=>{const a=[];return l.forEach(l=>{a.push(o(e[l.columnName],l.fixed))}),a},m=(e,l)=>{if(e){if(Array.isArray(l)){let a=l.length>0?e:void 0;for(let e=0;e<l.length;e++){const i=l[e];if(!i||!a){a=void 0;break}const r=i+"__DictMap";a=a[r]?a[r].name:a[i]}return a}{const a=l,i=a+"__DictMap";return e[i]?e[i].name:e[a]}}},s=e=>Array.isArray(e)?e.join("__"):e,f=(e,l)=>{const a=[];return l.forEach(l=>{a.push(m(e,l.columnName))}),a.join("\r\n")}}}]);