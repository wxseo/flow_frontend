(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[7106],{10115:function(e,t,a){"use strict";a.d(t,{A:function(){return m}});var l=a(56768),o=a(90144),n=a(37569);const i={triggerCharacters:["."],getCompletions:function(e,t,a,l,o){const n=t.getLine(a.row),i=n.substring(0,a.column),s=i.includes("//")||i.includes("/*");if(s)return void o(null,[]);const r=i.split("."),d=(r[r.length-1],{instance:[{caption:"formData",value:"formData",meta:"property",docText:"表单数据对象",type:"object",score:100},{caption:"props",value:"props",meta:"property",docText:"组件props对象",type:"object",score:100},{caption:"formProps",value:"formProps",meta:"property",docText:"表单props对象",type:"object",score:100},{caption:"loginStore",value:"loginStore",meta:"property",docText:"登录状态管理对象",type:"object",score:100},{caption:"ElMessage",value:"ElMessage('')",meta:"method",docText:"Element Plus消息提示组件",type:"object",score:100},{caption:"router",value:"router",meta:"property",docText:"路由对象",type:"object",score:100},{caption:"Dialog",value:"Dialog",meta:"property",docText:"对话框组件",type:"object",score:100},{caption:"showDialog",value:"showDialog",meta:"method",docText:"显示对话框方法",type:"function",score:100},{caption:"showOnlineDialog",value:"showOnlineDialog",meta:"method",docText:"显示在线对话框方法",type:"function",score:100},{caption:"getFormWidget",value:"getFormWidget()",meta:"method",docText:"获取表单组件实例",type:"function",score:100},{caption:"showMessage",value:"showMessage(type, message)",meta:"method",docText:"显示消息提示",type:"function",score:100},{caption:"close",value:"close()",meta:"method",docText:"关闭当前页面",type:"function",score:100},{caption:"refresh",value:"refresh()",meta:"method",docText:"刷新当前页面",type:"function",score:100},{caption:"axios",value:"axios",meta:"property",docText:"axios请求对象，包含post和get方法",type:"object",score:100},{caption:"tableInstance",value:"tableInstance",meta:"property",docText:"表格实例对象",type:"object",score:100}]});let u=[];u=d.instance,o(null,u)}},s=[{name:"consl",tabTrigger:"console.log",content:"console.log('${1:message}');"},{name:"conserr",tabTrigger:"console.error",content:"console.error('${1:message}');"},{name:"select*",tabTrigger:"select",content:"select * from ${1:table} where ${2:condition}"},{name:"insert*",tabTrigger:"insert",content:"insert into ${1:table} (${2:column1}, ${3:column2}) values (${4:value1}, ${5:value2})"},{name:"update*",tabTrigger:"update",content:"update ${1:table} set ${2:column1} = ${3:value1}, ${4:column2} = ${5:value2} where ${6:condition}"},{name:"delete*",tabTrigger:"delete",content:"delete from ${1:table} where ${2:condition}"},{name:"useDbLink*",tabTrigger:"useDbLink",content:"api.useDblink('${1:数据源名称}', true);"},{name:"newQueryBuilder*",tabTrigger:"newQueryBuilder",content:'var queryBuilder = new ApiQueryBuilder()\n    .sql("${1:sql}")\n    .addParams(${2:params})\n    .pageParam(new MyPageParam(${3:pageNum}, ${4:pageSize}))\n    .relations(${5:relations})\n    .dictRelations(${6:relationDicts});\n    '},{name:"axiosget*",tabTrigger:"axios.get",content:"axios.get('${1:url}', ${2:params})\n    .then(res => {\n      console.log(res);\n    })\n    .catch(err => {\n      console.error(err);\n    });\n    "},{name:"axiospost*",tabTrigger:"axios.post",content:"axios.post('${1:url}', ${2:params})\n    .then(res => {\n      console.log(res);\n    })\n    .catch(err => {\n      console.error(err);\n    });\n    "}];var r=a(1145),d=a.n(r);a(69931),a(85306),a(80776),a(15612);const u={useWrapMode:!1,enableSnippets:!0,useWorker:!1,enableLiveAutocompletion:!0,enableBasicAutocompletion:!0,tabSize:2,fontSize:14};var p=(0,l.pM)({__name:"index",props:{value:{},type:{default:"javascript"},options:{default:()=>u},completer:{}},emits:["update:value","save"],setup(e,{expose:t,emit:a}){const r=a,p=e,c=(0,o.KR)();let m=null;(0,l.wB)(()=>p.value,e=>{m&&m.getValue()!==e&&(m.setValue(e||""),m.moveCursorTo(0,0))},{deep:!0,immediate:!0}),(0,l.sV)(()=>{let e={...u,...p.options};m=(0,n.edit)(c.value,e),m.getSession().setMode("ace/mode/javascript"),m.session.setMode("ace/mode/javascript");const t=window.ace.require("ace/ext/language_tools"),a=window.ace.require("ace/snippets").snippetManager;a.register(s,"javascript"),m.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),t.addCompleter(i),m.getSession().on("change",()=>{m&&r("update:value",m.getValue())}),p.value&&m.setValue(p.value),m.commands.addCommand({name:"saveCommand",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:e=>{r("save")}})}),(0,l.wB)(()=>p.completer,e=>{if(m&&e&&"function"===typeof e.getCompletions){const t=window.ace.require("ace/ext/language_tools");t.addCompleter(e)}},{deep:!0}),(0,l.xo)(()=>{m&&(m.destroy(),m.container.remove(),m=null)});const f=()=>{if(m){var e=m.getValue(),t=d().js_beautify(e);m.setValue(t)}};return t({formatCode:f}),(e,t)=>((0,l.uX)(),(0,l.CE)("div",{ref_key:"root",ref:c,style:{position:"absolute","font-size":"14px"}},null,512))}});const c=p;var m=c},21231:function(e,t,a){"use strict";a.d(t,{A:function(){return h}});var l=a(94682),o=(a(97042),a(65451)),n=(a(63390),a(91542)),i=(a(37985),a(54620)),s=(a(53086),a(56768)),r=a(90144),d=a(24232),u=a(45130),p=a(37972),c=a(57477);const m={class:"multi-item-box"},f={key:1},b={class:"right"};var v=(0,s.pM)({__name:"index",props:{addType:{default:"info"},data:{},itemType:{default:"success"},addText:{default:"请点击添加数据项"},disabled:{type:Boolean,default:!1},maxCount:{},supportSort:{type:Boolean,default:!1},supportAdd:{type:Boolean,default:!0},dragGroup:{default:"componentsGroup"},prop:{default:()=>({label:"name",value:"id"})}},emits:["add","edit","delete","update:data"],setup(e,{emit:t}){const a=t,v=e,g=(0,s.EW)(()=>(0,s.nI)()?.slots.default),y=(0,s.EW)({get:()=>null==v.data?[]:Array.isArray(v.data)?v.data:[v.data],set:e=>{a("update:data",e)}}),h=e=>{v.disabled||(null==e?a("add"):a("edit",e))},x=e=>{v.disabled||a("delete",e)};return(e,t)=>{const a=i.C4,v=n.tk,T=o.S2,_=l.KR;return(0,s.uX)(),(0,s.CE)("div",m,[(0,s.bF)((0,r.R1)(p.MA),{draggable:".column-item",modelValue:(0,r.R1)(y),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.i9)(y)?y.value=e:null),group:e.dragGroup,style:{overflow:"hidden",height:"100%"},disabled:!e.supportSort},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,r.R1)(y),t=>((0,s.uX)(),(0,s.Wv)(_,{key:t[e.prop.value],class:"column-item",type:e.itemType,closable:!1},{title:(0,s.k6)(()=>[(0,s.bF)(T,{type:"flex",align:"middle",justify:"space-between",style:{width:"100%"}},{default:(0,s.k6)(()=>[(0,s.bF)(a,{type:e.itemType,disabled:e.disabled,onClick:e=>h(t)},{default:(0,s.k6)(()=>[(0,r.R1)(g)?(0,s.RG)(e.$slots,"default",{key:0,data:t}):((0,s.uX)(),(0,s.CE)("span",f,(0,d.v_)(t[e.prop.label]),1))]),_:2},1032,["type","disabled","onClick"]),(0,s.Lk)("div",b,[(0,s.RG)(e.$slots,"right",{data:t}),(0,s.bF)(v,{onClick:e=>x(t),style:{cursor:"pointer"}},{default:(0,s.k6)(()=>[(0,s.bF)((0,r.R1)(c.Close))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1032,["type"]))),128))]),_:3},8,["modelValue","group","disabled"]),(0,s.bo)((0,s.bF)(_,{class:"column-item",type:e.addType,closable:!1},{title:(0,s.k6)(()=>[(0,s.bF)(T,{type:"flex",align:"middle",justify:"space-between",style:{width:"100%"}},{default:(0,s.k6)(()=>[(0,s.bF)(a,{disabled:e.disabled,type:e.addType,onClick:t[1]||(t[1]=e=>h(null))},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(e.addText),1)]),_:1},8,["disabled","type"])]),_:1})]),_:1},8,["type"]),[[u.aG,null==e.maxCount||e.maxCount>(e.data||[]).length]]),(0,s.RG)(e.$slots,"default")])}}}),g=a(71241);const y=(0,g.A)(v,[["__scopeId","data-v-7fc77c97"]]);var h=y},22369:function(e,t,a){"use strict";a.d(t,{A:function(){return p}});var l=a(25136),o=(a(97042),a(69957),a(56768)),n=a(90144),i=a(57477),s=a(82572),r=(0,o.pM)({__name:"RightAddBtn",props:{size:{default:"default"}},setup(e){const t=(0,s.l5)();return(e,a)=>{const s=l.S2;return(0,o.uX)(),(0,o.Wv)(s,(0,o.v6)(e.$attrs,{type:"primary",class:"right-add-btn",size:(0,n.R1)(t).defaultFormItemSize,link:"",icon:(0,n.R1)(i.CirclePlusFilled)}),{default:(0,o.k6)(()=>[(0,o.RG)(e.$slots,"default")]),_:3},16,["size","icon"])}}}),d=a(71241);const u=(0,d.A)(r,[["__scopeId","data-v-efc91e7a"]]);var p=u},40235:function(e,t,a){"use strict";a.d(t,{A:function(){return g}});var l=a(65451),o=(a(97042),a(63390),a(21929)),n=(a(98421),a(32465),a(18111),a(22489),a(61701),a(56768)),i=a(90144),s=a(45130),r=a(164),d=a(63019),u=a(21231),p=a(31372),c=a(21016),m=a(82572),f=a(46304),b=(0,n.pM)({__name:"index",props:{value:{},allowEventList:{default:()=>[]},label:{default:"表单脚本"},labelPosition:{default:"top"},labelWidth:{default:"110px"},formConfig:{},mode:{default:"pc"}},emits:["update:value"],setup(e,{emit:t}){const a=t,b=e,v=(0,n.EW)({get(){return b.value},set(e){a("update:value",e)}}),g=(0,m.l5)(),y=(0,n.EW)(()=>{let e=(b.value||[]).map(e=>e.eventType);return b.allowEventList.map(t=>({id:t,name:c.OnlineFormEventType.getValue(t),disabled:-1!==e.indexOf(t)}))}),h=(e,t)=>{let l=[];l=null==e?[...b.value,t]:(b.value||[]).map(a=>e.eventType===a.eventType?t:a),a("update:value",l)},x=e=>{p.l.show(e?"编辑脚本":"添加脚本",f["default"],{area:["1200px","792px"]},{rowData:e,eventList:y.value,formConfig:b.formConfig,mode:b.mode},{width:"1200px",height:"800px",pathName:"/thirdParty/thirdEditCustomEvent"}).then(t=>{h(e,t)}).catch(e=>{console.log(e)})},T=e=>{r.s.confirm("是否移除此脚本？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{a("update:value",(b.value||[]).filter(t=>t.eventType!==e.eventType))})};return(e,t)=>{const a=o.xE,r=o.US,p=l.S2;return(0,n.uX)(),(0,n.Wv)(p,{style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(r,{style:{width:"100%"},"label-position":e.labelPosition,"label-width":e.labelWidth,size:(0,i.R1)(g).defaultFormItemSize,onSubmit:t[4]||(t[4]=(0,s.D$)(()=>{},["prevent"]))},{default:(0,n.k6)(()=>["top"===e.labelPosition?((0,n.uX)(),(0,n.Wv)(d.A,{key:0,label:e.label,data:(0,i.R1)(v),"onUpdate:data":t[0]||(t[0]=e=>(0,i.i9)(v)?v.value=e:null),addText:"添加",onAdd:t[1]||(t[1]=e=>x(null)),onEdit:x,onDelete:T,prop:{label:"showName",value:"eventType"}},null,8,["label","data"])):((0,n.uX)(),(0,n.Wv)(a,{key:1,label:e.label},{default:(0,n.k6)(()=>[(0,n.bF)(u.A,{data:(0,i.R1)(v),"onUpdate:data":t[2]||(t[2]=e=>(0,i.i9)(v)?v.value=e:null),addText:"添加",onAdd:t[3]||(t[3]=e=>x(null)),onEdit:x,onDelete:T,prop:{label:"showName",value:"eventType"}},null,8,["data"])]),_:1},8,["label"]))]),_:1},8,["label-position","label-width","size"])]),_:1})}}});const v=b;var g=v},46304:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var l=a(21929),o=(a(97042),a(98421),a(65451)),n=(a(63390),a(25136)),i=(a(69957),a(76408)),s=(a(87535),a(32465),a(85415)),r=(a(22243),a(7409),a(44114),a(18111),a(22489),a(7588),a(61701),a(56768)),d=a(90144),u=a(45130),p=a(10766),c=a(27007),m=a(10115),f=a(21016),b=a(36525),v=a(71066),g=a(82572);const y="\nexport default {\n  props: {\n  },\n  data () {\n    return {\n      formData: {\n        <%_ if (Array.isArray(form.tableList)) { -%>\n          <%_ form.tableList.forEach(table => { -%>\n        // <%= table.showName %>\n            <%_ if (table.isObject) { -%>\n        <%= table.variableName %>: {\n              <%_ table.columnList.forEach(column => { -%>\n          // <%= column.columnComment %>\n          <%= column.columnName %>: undefined,\n              <%_ }) -%>\n        },\n            <%_ } else { -%>\n              <%_ table.columnList.forEach(column => { -%>\n        // <%= column.columnName %>: <%= column.columnComment %>\n              <%_ }) -%>\n        <%= table.variableName %>: [],\n            <%_ } -%>\n          <%_ }) -%>\n        <%_ } -%>\n        // 自定义字段\n        customField: {\n          <%_ if (Array.isArray(form.customFieldList)) { -%>\n            <%_ form.customFieldList.forEach(field => { -%>\n          <%= field.fieldName %>: undefined,\n            <%_ }); -%>\n          <%_ } -%>\n        }\n      }\n    };\n  }\n};\n",h="\nexport default {\n  props: {\n  },\n  data () {\n    return {\n      formData: {\n        <%_ if (Array.isArray(form.widgetList)) { -%>\n          <%_ form.widgetList.forEach(widget => { -%>\n        // <%= widget.showName %>\n        <%= widget.variableName %>: undefined,\n          <%_ }) -%>\n        <%_ } -%>\n      }\n    };\n  }\n};\n";var x={queryFrom:y,reportForm:h},T=a(69106);const _={class:"form-single-fragment third-party-dlg",style:{position:"relative"}};var w=(0,r.pM)({__name:"editCustomEvent",props:{rowData:{},eventList:{},formConfig:{},mode:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const t=(0,g.l5)(),a=(0,d.KR)({}),y=e,h=(0,r.EW)(()=>t.defaultFormItemSize),{thirdParams:w,onCloseThirdDialog:C}=(0,v.P)(y),k=(0,d.KR)(),F=(0,d.KR)({eventType:"",scriptString:""}),$=(0,d.KR)(""),R={eventType:{required:!0,message:"请选择脚本类型",trigger:"blur"}},L=(0,r.EW)(()=>({rowData:y.rowData||w.value.rowData,eventList:y.eventList||w.value.eventList,formConfig:y.formConfig||w.value.formConfig,mode:y.mode||w.value.mode})),N=(0,r.EW)(()=>(0,c.PH)("pc"===L.value.mode?T.MD:T.aX,F.value.eventType,"id")),E=()=>{let e={...F.value,showName:f.OnlineFormEventType.getValue(F.value.eventType)};k.value.validate(t=>{t&&(y.dialog?y.dialog.submit(e):C(!0,L.value.rowData,e))})},A=()=>{F.value.scriptString=N.value?N.value.comment.trim():""};return(0,r.sV)(()=>{let e={tableList:[],customFieldList:L.value.formConfig.form.customFieldList,widgetList:L.value.formConfig.form.allWidgetList};if(L.value.formConfig.getMasterTable)if(null==L.value.formConfig.getMasterTable.relationType)L.value.formConfig.form.formType===f.SysOnlineFormType.QUERY?e.tableList=L.value.formConfig.getAllTableList.map(e=>e.relationType!==b.SysOnlineRelationType.ONE_TO_MANY?{showName:`${e.tag.datasourceName||e.tag.relationName} (${b.SysOnlineRelationType.getValue(e.relationType)||"主表"})`,variableName:e.tag.variableName,columnList:e.columnList.filter(e=>0!==e.filterType),isObject:!0}:void 0).filter(e=>null!=e):e.tableList=L.value.formConfig.getAllTableList.map(e=>({showName:`${e.tag.datasourceName||e.tag.relationName} (${b.SysOnlineRelationType.getValue(e.relationType)||"主表"})`,variableName:e.tag.variableName,columnList:e.columnList,isObject:e.relationType!==b.SysOnlineRelationType.ONE_TO_MANY})).filter(e=>null!=e);else{let t=y.formConfig.getMasterTable;e.tableList=[{showName:`${t.tag.datasourceName||t.tag.relationName} (${b.SysOnlineRelationType.getValue(t.relationType)||"主表"})`,variableName:t.tag.variableName,columnList:y.formConfig.form.formType===f.SysOnlineFormType.QUERY?t.columnList.filter(e=>0!==e.filterType):t.columnList,isObject:!0}]}let t=null==L.value.formConfig.form.pageCode?x.queryFrom.trim():x.reportForm.trim();$.value=(0,p.render)(t,{form:e}),a.value={triggerCharacters:["formData."],getCompletions:function(t,a,l,o,n){let i=[];e.tableList.forEach((e,t)=>{i.push({caption:e.variableName,value:e.variableName,meta:e.isObject?"object":"array",docText:e.showName,type:e.isObject?"object":"array",score:100-t}),e.isObject?e.columnList.forEach((a,l)=>{i.push({caption:`${e.variableName}.${a.columnName}`,value:`${e.variableName}.${a.columnName}`,meta:"property",docText:a.columnComment||a.columnName,type:"object",score:99-t-.01*l})}):e.columnList.forEach((a,l)=>{i.push({caption:`${e.variableName}[].${a.columnName}`,value:`${e.variableName}[].${a.columnName}`,meta:"property",docText:a.columnComment||a.columnName,type:"object",score:99-t-.01*l})})}),e.customFieldList&&e.customFieldList.length>0&&(i.push({caption:"customField",value:"customField",meta:"object",docText:"自定义字段",type:"object",score:50}),e.customFieldList.forEach((e,t)=>{i.push({caption:`customField.${e.fieldName}`,value:`customField.${e.fieldName}`,meta:"property",docText:e.fieldComment||e.fieldName,type:"object",score:49-.01*t})})),n(null,i)}},L.value.rowData&&(F.value={...L.value.rowData})}),(e,t)=>{const p=s.P9,c=s.AV,f=l.xE,b=i.uD,v=n.S2,g=o.S2,y=l.US;return(0,r.uX)(),(0,r.CE)("div",_,[(0,r.bF)(y,{ref_key:"form",ref:k,class:"full-width-input form-box",model:(0,d.R1)(F),rules:R,style:{width:"100%"},"label-width":"80px",size:(0,d.R1)(h),"label-position":"left",onSubmit:t[2]||(t[2]=(0,u.D$)(()=>{},["prevent"]))},{default:(0,r.k6)(()=>[(0,r.bF)(g,{gutter:20},{default:(0,r.k6)(()=>[(0,r.bF)(b,{span:8},{default:(0,r.k6)(()=>[(0,r.bF)(f,{label:"脚本类型",prop:"eventType"},{default:(0,r.k6)(()=>[(0,r.bF)(c,{modelValue:(0,d.R1)(F).eventType,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,d.R1)(F).eventType=e),clearable:!0,placeholder:"脚本类型",style:{width:"200px"},onChange:A},{default:(0,r.k6)(()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,d.R1)(L).eventList,e=>((0,r.uX)(),(0,r.Wv)(p,{key:e.id,label:e.name,value:e.id,disabled:e.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,r.bF)(b,{span:16},{default:(0,r.k6)(()=>[(0,r.bF)(f,null,{default:(0,r.k6)(()=>[(0,r.bF)(g,{class:"no-scroll flex-box",style:{width:"100%"},justify:"end"},{default:(0,r.k6)(()=>[(0,r.bF)(v,{type:"primary",size:(0,d.R1)(h),onClick:E},{default:(0,r.k6)(()=>t[3]||(t[3]=[(0,r.eW)(" 保存 ")])),_:1,__:[3]},8,["size"])]),_:1})]),_:1})]),_:1})]),_:1}),(0,r.bF)(g,{gutter:15,justify:"space-between"},{default:(0,r.k6)(()=>[(0,r.bF)(b,{span:11,style:{height:"640px"}},{default:(0,r.k6)(()=>[(0,r.bF)(g,null,{default:(0,r.k6)(()=>[(0,r.bF)(m.A,{value:(0,d.R1)($),title:"表单数据",options:{readOnly:!0},style:{width:"100%",height:"640px",border:"1px solid #dcdcdc"}},null,8,["value"])]),_:1})]),_:1}),(0,r.bF)(b,{span:13,style:{height:"640px"}},{default:(0,r.k6)(()=>[(0,r.bF)(g,null,{default:(0,r.k6)(()=>[(0,r.bF)(m.A,{value:(0,d.R1)(F).scriptString,"onUpdate:value":t[1]||(t[1]=e=>(0,d.R1)(F).scriptString=e),style:{width:"100%",height:"640px",border:"1px solid #dcdcdc"},title:(0,d.R1)(N)?(0,d.R1)(N).functionName:"事件脚本",completer:(0,d.R1)(a)},null,8,["value","title","completer"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","size"])])}}});const C=w;var k=C},63019:function(e,t,a){"use strict";a.d(t,{A:function(){return x}});var l=a(21929),o=(a(97042),a(32465),a(91542)),n=(a(37985),a(54620)),i=(a(53086),a(65451)),s=(a(63390),a(56768)),r=a(24232),d=a(90144),u=a(45130),p=a(37972),c=a(57477),m=a(22369);const f={class:"item",style:{width:"100%",padding:"0 15px"}},b={key:1},v={class:"right",style:{"line-height":"20px","font-size":"12px"}};var g=(0,s.pM)({__name:"index",props:{label:{},data:{},disabled:{type:Boolean,default:!1},maxCount:{},supportSort:{type:Boolean,default:!1},supportAdd:{type:Boolean,default:!0},dragGroup:{default:"componentsGroup"},prop:{default:()=>({label:"name",value:"id",disabled:void 0})},addText:{}},emits:["add","edit","delete","update:data"],setup(e,{emit:t}){const a=t,g=e,y=(0,s.Ht)();console.log("slots",y);const h=(0,s.EW)(()=>(console.log("addDisabled",g.label,g.disabled,!g.supportAdd,g.maxCount,(T.value||[]).length),g.disabled||!g.supportAdd||g.maxCount&&g.maxCount<=(T.value||[]).length)),x=(0,s.EW)(()=>(console.log("getCurrentInstance.slots",(0,s.nI)()?.slots),(0,s.nI)()?.slots.default)),T=(0,s.EW)({get:()=>(console.log("dataList 0>>>",g.data),null==g.data?[]:Array.isArray(g.data)?g.data:[g.data]),set:e=>{console.log("MultiItemList data change",e),a("update:data",e)}}),_=e=>{let t=!1;return null!=e&&null!=g.prop.disabled&&(t="function"===typeof g.prop.disabled?g.prop.disabled(e):e[g.prop.disabled]),g.disabled||null==e||t},w=e=>{g.disabled||(null==e?a("add"):a("edit",e))},C=e=>{_(e)||a("delete",e)},k=e=>"function"===typeof g.prop.value?g.prop.value(e):e[g.prop.value],F=e=>"function"===typeof g.prop.label?g.prop.label(e):e[g.prop.label];return(e,t)=>{const a=i.S2,g=n.C4,y=o.tk,$=l.xE;return(0,s.uX)(),(0,s.Wv)($,{class:(0,r.C4)(["multi-item-list",{empty:((0,d.R1)(T)||[]).length<=0}])},{label:(0,s.k6)(()=>[(0,s.bF)(a,{justify:"space-between",align:"middle",style:{width:"100%"}},{default:(0,s.k6)(()=>[(0,s.Lk)("span",null,(0,r.v_)(e.label),1),(0,s.bF)(m.A,{class:"add-btn",disabled:(0,d.R1)(h),onClick:t[0]||(t[0]=(0,u.D$)(e=>w(null),["prevent","stop"]))},{default:(0,s.k6)(()=>[(0,s.eW)((0,r.v_)(e.addText?e.addText:"添加"),1)]),_:1},8,["disabled"])]),_:1})]),default:(0,s.k6)(()=>[(0,s.bF)((0,d.R1)(p.MA),{draggable:".list-item",modelValue:(0,d.R1)(T),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,d.i9)(T)?T.value=e:null),group:e.dragGroup,style:{display:"inline-block",overflow:"hidden",width:"100%",height:"100%"},disabled:!e.supportSort},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,d.R1)(T),t=>((0,s.uX)(),(0,s.Wv)(a,{class:"list-item",key:k(t),align:"middle",justify:"space-between",style:{width:"100%","flex-wrap":"nowrap"}},{default:(0,s.k6)(()=>[(0,s.Lk)("div",f,[(0,s.bF)(a,{align:"middle",justify:"space-between",style:{"min-height":"32px",padding:"6px 0"}},{default:(0,s.k6)(()=>[(0,s.bF)(g,{style:{"font-size":"12px",color:"#333","line-height":"20px"},disabled:e.disabled,onClick:e=>w(t)},{default:(0,s.k6)(()=>[(0,d.R1)(x)?(0,s.RG)(e.$slots,"default",{key:0,data:t}):((0,s.uX)(),(0,s.CE)("span",b,(0,r.v_)(F(t)),1))]),_:2},1032,["disabled","onClick"]),(0,s.Lk)("div",v,[(0,s.RG)(e.$slots,"right",{data:t})])]),_:2},1024)]),(0,s.bF)(y,{style:{"margin-left":"8px",color:"#333"},class:(0,r.C4)(["close-btn",{disabled:_(t)}]),onClick:(0,u.D$)(e=>C(t),["stop"])},{default:(0,s.k6)(()=>[(0,s.bF)((0,d.R1)(c.Remove))]),_:2},1032,["class","onClick"])]),_:2},1024))),128))]),_:3},8,["modelValue","group","disabled"])]),_:3},8,["class"])}}}),y=a(71241);const h=(0,y.A)(g,[["__scopeId","data-v-6dcd60d8"]]);var x=h},77280:function(){}}]);