"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[1066,1196,6339,8720],{6301:function(e,t,n){n.d(t,{A:function(){return f}});var r=n(60168),i=n(39578),a=function(){return i.A.Date.now()},o=a,u=n(10754),l="Expected a function",s=Math.max,d=Math.min;function c(e,t,n){var i,a,c,f,v,p,g=0,h=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError(l);function b(t){var n=i,r=a;return i=a=void 0,g=t,f=e.apply(r,n),f}function w(e){return g=e,v=setTimeout(S,t),h?b(e):f}function A(e){var n=e-p,r=e-g,i=t-n;return m?d(i,c-r):i}function k(e){var n=e-p,r=e-g;return void 0===p||n>=t||n<0||m&&r>=c}function S(){var e=o();if(k(e))return L(e);v=setTimeout(S,A(e))}function L(e){return v=void 0,y&&i?b(e):(i=a=void 0,f)}function x(){void 0!==v&&clearTimeout(v),g=0,i=p=a=v=void 0}function I(){return void 0===v?f:L(o())}function T(){var e=o(),n=k(e);if(i=arguments,a=this,p=e,n){if(void 0===v)return w(p);if(m)return clearTimeout(v),v=setTimeout(S,t),b(p)}return void 0===v&&(v=setTimeout(S,t)),f}return t=(0,u.A)(t)||0,(0,r.A)(n)&&(h=!!n.leading,m="maxWait"in n,c=m?s((0,u.A)(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),T.cancel=x,T.flush=I,T}var f=c},10754:function(e,t,n){n.d(t,{A:function(){return m}});var r=/\s/;function i(e){var t=e.length;while(t--&&r.test(e.charAt(t)));return t}var a=i,o=/^\s+/;function u(e){return e?e.slice(0,a(e)+1).replace(o,""):e}var l=u,s=n(60168),d=n(18095),c=NaN,f=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,p=/^0o[0-7]+$/i,g=parseInt;function h(e){if("number"==typeof e)return e;if((0,d.A)(e))return c;if((0,s.A)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,s.A)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=l(e);var n=v.test(e);return n||p.test(e)?g(e.slice(2),n?2:8):f.test(e)?c:+e}var m=h},17582:function(e,t,n){n.d(t,{A:function(){return G}});var r=n(12739),i=n(57179),a=1,o=2;function u(e,t,n,u){var l=n.length,s=l,d=!u;if(null==e)return!s;e=Object(e);while(l--){var c=n[l];if(d&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}while(++l<s){c=n[l];var f=c[0],v=e[f],p=c[1];if(d&&c[2]){if(void 0===v&&!(f in e))return!1}else{var g=new r.A;if(u)var h=u(v,p,f,e,t,g);if(!(void 0===h?(0,i.A)(p,v,a|o,u,g):h))return!1}}return!0}var l=u,s=n(60168);function d(e){return e===e&&!(0,s.A)(e)}var c=d,f=n(96166);function v(e){var t=(0,f.A)(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,c(i)]}return t}var p=v;function g(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var h=g;function m(e){var t=p(e);return 1==t.length&&t[0][2]?h(t[0][0],t[0][1]):function(n){return n===e||l(n,e,t)}}var y=m,b=n(29615),w=n(6865),A=n(71191),k=n(13708),S=1,L=2;function x(e,t){return(0,A.A)(e)&&c(t)?h((0,k.A)(e),t):function(n){var r=(0,b.A)(n,e);return void 0===r&&r===t?(0,w.A)(n,e):(0,i.A)(t,r,S|L)}}var I=x,T=n(69937),F=n(23506);function O(e){return function(t){return null==t?void 0:t[e]}}var P=O,_=n(12623);function z(e){return function(t){return(0,_.A)(t,e)}}var D=z;function C(e){return(0,A.A)(e)?P((0,k.A)(e)):D(e)}var E=C;function R(e){return"function"==typeof e?e:null==e?T.A:"object"==typeof e?(0,F.A)(e)?I(e[0],e[1]):y(e):E(e)}var G=R},31112:function(e,t,n){n(97042)},61473:function(e,t,n){e.exports=n.p+"img/empty.7e47f88a.png"},71066:function(e,t,n){n.d(t,{P:function(){return u},i:function(){return l}});var r=n(81387),i=n(27007),a=n(56768),o=n(90144);const u=e=>{console.log("接收到的第三方参数",e);const t=(0,o.KR)(0),n=(0,a.EW)(()=>{let t={};try{e.thirdParamsString&&(t=JSON.parse(e.thirdParamsString))}catch(n){console.log(n),t={}}return t});console.log("thirdParams",n);const r=(r,i,a)=>{console.log("onCloseThirdDialog",i,a),window.parent&&window.parent.postMessage({type:"closeDialog",data:{index:t.value,dialogKey:e.dialogKey,path:n.value.path,rowData:i?JSON.parse(JSON.stringify(i)):void 0,data:a?JSON.parse(JSON.stringify(a)):void 0,isSuccess:r}},"*")},u=(e,n)=>{switch(e){case"setToken":n.token&&(0,i.WG)(n.token);break;case"dialogIndex":t.value=n;break;case"refreshData":break;case"message":break}},l=e=>{u(e.data.type,e.data.data)};return(0,a.sV)(()=>{console.log("onMounted message"),window.addEventListener("message",l,!1)}),(0,a.hi)(()=>{console.log("onUnmounted message"),window.removeEventListener("message",l)}),{thirdParams:n,onCloseThirdDialog:r}},l=()=>{let e;const t=(0,r.lq)(),n=()=>{window.parent&&window.parent.postMessage({type:"refreshToken"},"*")};-1!==t.path.indexOf("/thirdParty/")&&((0,a.sV)(()=>{(0,i.R7)()&&(e=setInterval(()=>{console.log("refreshToken thirdParty"),n()},18e4))}),(0,a.hi)(()=>{e&&clearInterval(e)}))}},99564:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(76408),i=(n(97042),n(87535),n(68368)),a=(n(81208),n(47001),n(21929)),o=(n(98421),n(65451)),u=(n(63390),n(25136)),l=(n(69957),n(56768)),s=n(90144),d=n(45130),c=n(61473),f=n(71066),v=n(82572);const p={class:"form-single-fragment",style:{position:"relative"}};var g=(0,l.pM)({__name:"TaskGroupSelect",props:{allGroupList:{},usedIdList:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const t=e,{thirdParams:n,onCloseThirdDialog:g}=(0,f.P)(t),h=(0,v.l5)();let m=(0,s.KR)([]);const y=(0,l.EW)(()=>({allGroupList:t.allGroupList||n.value.allGroupList,usedIdList:t.usedIdList||n.value.usedIdList})),b=(0,l.EW)(()=>m.value.length>0),w=e=>{m.value=e},A=()=>{t.dialog?t.dialog.submit(m.value):g(!0,void 0,m.value)},k=e=>!(Array.isArray(y.value.usedIdList)&&y.value.usedIdList.length>0)||-1===y.value.usedIdList.indexOf(e.id);return(e,t)=>{const n=u.S2,f=o.S2,v=a.US,g=i.o8,m=i.Up,S=r.uD;return(0,l.uX)(),(0,l.CE)("div",p,[(0,l.bF)(v,{"label-width":"100px",size:(0,s.R1)(h).defaultFormItemSize,"label-position":"right",onSubmit:t[0]||(t[0]=(0,d.D$)(()=>{},["prevent"]))},{default:(0,l.k6)(()=>[(0,l.bF)(f,{type:"flex",justify:"end"},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"primary",size:(0,s.R1)(h).defaultFormItemSize,onClick:A,disabled:!(0,s.R1)(b)},{default:(0,l.k6)(()=>t[1]||(t[1]=[(0,l.eW)(" 添加分组 ")])),_:1,__:[1]},8,["size","disabled"])]),_:1})]),_:1},8,["size"]),(0,l.bF)(f,{style:{"margin-top":"18px"}},{default:(0,l.k6)(()=>[(0,l.bF)(S,{span:24},{default:(0,l.k6)(()=>[(0,l.bF)(m,{data:(0,s.R1)(y).allGroupList,size:(0,s.R1)(h).defaultFormItemSize,height:"452px","header-cell-class-name":"table-header-gray","row-key":"id","default-expand-all":!0,onSelectionChange:w},{empty:(0,l.k6)(()=>t[2]||(t[2]=[(0,l.Lk)("div",{class:"table-empty unified-font"},[(0,l.Lk)("img",{src:c}),(0,l.Lk)("span",null,"暂无数据")],-1)])),default:(0,l.k6)(()=>[(0,l.bF)(g,{type:"selection",width:"50px","header-align":"center",align:"center",selectable:k}),(0,l.bF)(g,{label:"部门名称",prop:"name"})]),_:1},8,["data","size"])]),_:1})]),_:1})])}}});const h=g;var m=h}}]);