"use strict";(self["webpackChunkorange"]=self["webpackChunkorange"]||[]).push([[2569],{3320:function(e,l,a){a.r(l),a.d(l,{default:function(){return k}});var u=a(25136),t=(a(97042),a(69957),a(21929)),d=(a(98421),a(65451)),i=(a(63390),a(14022)),o=(a(72343),a(18888)),n=(a(3172),a(76408)),r=(a(87535),a(32465),a(85415)),m=(a(22243),a(7409),a(18111),a(22489),a(61701),a(56768)),s=a(90144),p=a(45130),v=a(26695),b=a(78430),c=a(36525),f=a(71066),y=a(82572);const _={class:"form-single-fragment third-party-dlg",style:{position:"relative"}};var g=(0,m.pM)({__name:"EditDictParamValue",props:{rowData:{},paramList:{},columnList:{},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const l=(0,y.l5)(),a=e,g={...b.A},R=(0,m.EW)(()=>l.defaultFormItemSize||k.value.defaultFormItemSize?.value),{thirdParams:k,onCloseThirdDialog:F}=(0,f.P)(a),T=(0,s.KR)(),V=(0,s.KR)({dictParamName:void 0,dictValue:void 0,dictValueType:void 0}),h={label:"name",value:"id"},I=(0,s.KR)([]),C={dictParamName:[{required:!0,message:"请选择参数",trigger:"blur"}],dictValueType:[{required:!0,message:"请选择参数值类型",trigger:"blur"}],dictValue:[{required:!0,message:"请选择参数值",trigger:"blur"}]},E=(0,m.EW)(()=>({rowData:a.rowData||k.value.rowData,paramList:a.paramList||k.value.paramList,columnList:a.columnList||k.value.columnList})),W=()=>{a.dialog?a.dialog.cancel():F(!1)},N=()=>{T.value.validate(e=>{e&&(V.value.dictValueType!==c.SysOnlineParamValueType.STATIC_DICT||2===V.value.dictValue.length?a.dialog?a.dialog.submit(V.value):F(!0,E.value.rowData,V.value):v.nk.error("静态字典类型的参数值必须选择静态字典的值！"))})},L=()=>{V.value.dictValue=void 0,T.value.clearValidate()},S=()=>{const e=g;I.value=Object.keys(e).map(l=>{if("DictionaryBase"===l)return;let a=e[l];return{id:l,name:a.showName,children:a.getList()}}).filter(e=>null!=e)};return(0,m.sV)(()=>{V.value={...V.value,...E.value.rowData},S()}),(e,l)=>{const a=r.P9,v=r.AV,b=t.xE,f=n.uD,y=o._m,g=i.WK,k=d.S2,F=t.US,S=u.S2;return(0,m.uX)(),(0,m.CE)("div",_,[(0,m.bF)(F,{ref_key:"form",ref:T,model:(0,s.R1)(V),class:"full-width-input form-box",rules:C,"label-width":"100px",size:(0,s.R1)(R),"label-position":"right",onSubmit:l[5]||(l[5]=(0,p.D$)(()=>{},["prevent"]))},{default:(0,m.k6)(()=>[(0,m.bF)(k,null,{default:(0,m.k6)(()=>[(0,m.bF)(f,{span:24},{default:(0,m.k6)(()=>[(0,m.bF)(b,{label:"参数名称",prop:"dictParamName"},{default:(0,m.k6)(()=>[(0,m.bF)(v,{modelValue:(0,s.R1)(V).dictParamName,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,s.R1)(V).dictParamName=e),placeholder:"",disabled:null!=e.rowData},{default:(0,m.k6)(()=>[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)((0,s.R1)(E).paramList,e=>((0,m.uX)(),(0,m.Wv)(a,{key:e.dictParamName,label:e.dictParamName,value:e.dictParamName},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),(0,m.bF)(f,{span:24},{default:(0,m.k6)(()=>[(0,m.bF)(b,{label:"参数值类型",prop:"dictValueType"},{default:(0,m.k6)(()=>[(0,m.bF)(v,{class:"input-item",modelValue:(0,s.R1)(V).dictValueType,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,s.R1)(V).dictValueType=e),clearable:!0,placeholder:"参数值类型",onChange:L},{default:(0,m.k6)(()=>[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)((0,s.R1)(c.SysOnlineParamValueType).getList(),e=>((0,m.uX)(),(0,m.Wv)(a,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,s.R1)(V).dictValueType===(0,s.R1)(c.SysOnlineParamValueType).TABLE_COLUMN?((0,m.uX)(),(0,m.Wv)(f,{key:0,span:24},{default:(0,m.k6)(()=>[(0,m.bF)(b,{label:"参数值",prop:"dictValue"},{default:(0,m.k6)(()=>[(0,m.bF)(v,{class:"input-item",modelValue:(0,s.R1)(V).dictValue,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,s.R1)(V).dictValue=e),key:"TABLE_COLUMN",clearable:!0,placeholder:"参数值"},{default:(0,m.k6)(()=>[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)((0,s.R1)(E).columnList,e=>((0,m.uX)(),(0,m.Wv)(a,{key:e.columnId,label:e.objectFieldName,value:e.columnId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,m.Q3)("",!0),(0,s.R1)(V).dictValueType===(0,s.R1)(c.SysOnlineParamValueType).STATIC_DICT?((0,m.uX)(),(0,m.Wv)(f,{key:1,span:24},{default:(0,m.k6)(()=>[(0,m.bF)(b,{label:"参数值",prop:"dictValue"},{default:(0,m.k6)(()=>[(0,m.bF)(y,{modelValue:(0,s.R1)(V).dictValue,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,s.R1)(V).dictValue=e),options:(0,s.R1)(I),props:h},null,8,["modelValue","options"])]),_:1})]),_:1})):(0,m.Q3)("",!0),(0,s.R1)(V).dictValueType===(0,s.R1)(c.SysOnlineParamValueType).INPUT_VALUE?((0,m.uX)(),(0,m.Wv)(f,{key:2,span:24},{default:(0,m.k6)(()=>[(0,m.bF)(b,{label:"参数值",prop:"dictValue"},{default:(0,m.k6)(()=>[(0,m.bF)(g,{modelValue:(0,s.R1)(V).dictValue,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,s.R1)(V).dictValue=e),placeholder:"请输入参数值",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})):(0,m.Q3)("",!0)]),_:1})]),_:1},8,["model","size"]),(0,m.bF)(k,{class:"no-scroll menu-box",type:"flex",justify:"end",style:{"margin-top":"15px"}},{default:(0,m.k6)(()=>[(0,m.bF)(S,{size:(0,s.R1)(R),plain:!0,onClick:W},{default:(0,m.k6)(()=>l[6]||(l[6]=[(0,m.eW)(" 取消 ")])),_:1,__:[6]},8,["size"]),(0,m.bF)(S,{type:"primary",size:(0,s.R1)(R),onClick:N},{default:(0,m.k6)(()=>l[7]||(l[7]=[(0,m.eW)(" 保存 ")])),_:1,__:[7]},8,["size"])]),_:1})])}}});const R=g;var k=R},33739:function(e,l,a){a.d(l,{A:function(){return v}});var u=a(65451),t=(a(97042),a(63390),a(21929)),d=(a(98421),a(76408)),i=(a(87535),a(32465),a(85415)),o=(a(22243),a(7409),a(18111),a(22489),a(20116),a(61701),a(56768)),n=a(45130),r=a(90144),m=a(21016),s=(0,o.pM)({__name:"index",props:{value:{default:()=>({})},formSelect:{default:""},datasource:{default:""},allFormList:{default:()=>[]},formConfig:{},labelPosition:{default:"top"},labelWidth:{default:"115px"}},emits:["update:value"],setup(e,{emit:l}){const a=l,s=e,p=(0,r.KR)(""),v=(0,r.KR)(""),b=(0,r.KR)(""),c=(0,r.KR)(""),f=(0,r.KR)(""),y=(0,r.KR)(""),_=(0,r.KR)(""),g=(0,r.KR)([]),R=(0,r.KR)([]),k=()=>{a("update:value",{relativeFormId:p.value,relativeTableName:b.value,relativeColumn:v.value,relationId:f.value,datasourceId:y.value,variableName:_.value,displayField:c.value})},F=()=>{p.value="",v.value="",b.value="",c.value="",f.value="",y.value="",_.value="",k()},T=()=>{if(""===p.value||null==p.value)return;let e=s.allFormList.find(e=>e.formId===p.value);if(e){let l=s.formConfig.getAllTableList.find(l=>l.tableId===e?.onlineTable.tableId);p.value=e.formId,v.value=l.slaveColumnName,b.value=l.tableName,f.value=l.tag.relationId,y.value=l.tag.datasourceId,_.value=s.formConfig.currentWidget.datasource.variableName,R.value=l.columnList}},V=()=>{T(),k()};return(0,o.sV)(()=>{s.value&&(p.value=s.value.relativeFormId,v.value=s.value.relativeColumn,b.value=s.value.relativeTableName,f.value=s.value.relationId,y.value=s.value.datasourceId,_.value=s.value.variableName,c.value=s.value.displayField,T()),g.value=s.allFormList.filter(e=>e.formType===m.SysOnlineFormType.ONE_TO_ONE_QUERY).map(e=>({formName:e.formName,tableName:e.onlineTable.tableName,formId:e.formId}))}),(e,l)=>{const a=i.P9,m=i.AV,v=t.xE,b=d.uD,f=t.US,y=u.S2;return(0,o.uX)(),(0,o.Wv)(y,null,{default:(0,o.k6)(()=>[(0,o.bF)(f,{"label-position":s.labelPosition,"label-width":s.labelWidth,size:"default",style:{width:"100%"},onSubmit:l[2]||(l[2]=(0,n.D$)(()=>{},["prevent"]))},{default:(0,o.k6)(()=>[(0,o.bF)(b,{span:24},{default:(0,o.k6)(()=>[(0,o.bF)(v,{label:"弹窗表单"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{modelValue:(0,r.R1)(p),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,r.i9)(p)?p.value=e:null),clearable:"",placeholder:"",onChange:V,onClear:F,style:{width:"100%"}},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,r.R1)(g),e=>((0,o.uX)(),(0,o.Wv)(a,{key:e.formId,label:e.formName,value:e.formId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,o.bF)(v,{label:"显示字段",style:{"margin-top":"20px"}},{default:(0,o.k6)(()=>[(0,o.bF)(m,{modelValue:(0,r.R1)(c),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,r.i9)(c)?c.value=e:null),clearable:"",placeholder:"",onChange:k,style:{width:"100%"}},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,r.R1)(R),(e,l)=>((0,o.uX)(),(0,o.Wv)(a,{key:l,label:e.columnComment,value:e.columnName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["label-position","label-width"])]),_:1})}}});const p=s;var v=p},68489:function(e,l,a){a(97042)},72569:function(e,l,a){a.r(l),a.d(l,{default:function(){return S}});var u=a(25136),t=(a(97042),a(69957),a(21929)),d=(a(98421),a(3740)),i=(a(42899),a(77649)),o=(a(87603),a(85415)),n=(a(22243),a(7409),a(65451)),r=(a(63390),a(12687)),m=(a(31112),a(14022)),s=(a(72343),a(18888)),p=(a(3172),a(76408)),v=(a(87535),a(32465),a(17851)),b=(a(68489),a(20709),a(44114),a(18111),a(22489),a(20116),a(61701),a(56768)),c=a(90144),f=a(45130),y=a(24232),_=a(164),g=a(21016),R=a(36525),k=a(27007),F=a(31372),T=a(71066),V=a(82572),h=a(21231),I=a(40235),C=a(3320),E=a(33739);const W={class:"form-single-fragment third-party-dlg"};var N=(0,b.pM)({__name:"editOnlineTableColumn",props:{rowData:{},tableList:{},usedColumnList:{},groupColumnList:{},formConfig:{},supportGroup:{type:Boolean},dialog:{},thirdParamsString:{},dialogKey:{}},setup(e){const l=(0,V.l5)(),a=e,N=(0,b.EW)(()=>l.defaultFormItemSize||L.value.defaultFormItemSize?.value),{thirdParams:L,onCloseThirdDialog:S}=(0,T.P)(a),D=(0,c.KR)(),w=(0,c.KR)({id:void 0,isGroup:!1,parentId:void 0,columnId:void 0,tableId:void 0,showName:void 0,fixed:"none",filterable:!1,sortable:!1,inlineEdit:!1,inlineEditWidgetType:void 0,dictParams:void 0,columnWidth:void 0,fieldType:0,fieldShowType:0,textShowType:0,customFieldName:void 0,dateType:"YYYY-MM-DD",relativeTable:void 0,eventList:[]}),P=(0,c.KR)([{id:"YYYY-MM-DD",name:"日"},{id:"YYYY-MM",name:"月"},{id:"YYYY",name:"年"},{id:"YYYY-MM-DD HH:mm:ss",name:"时间"}]),U=(0,c.KR)(),X=(0,c.KR)([]),K={showName:[{required:!0,message:"表格列名不能为空",trigger:"blur"}],tableId:[{required:!0,message:"表格列绑定数据表不能为空",trigger:"blur"}],columnId:[{required:!0,message:"表格列绑定字段不能为空",trigger:"blur"}],customFieldName:[{required:!0,message:"自定义字段名不能为空",trigger:"blur"}]},x=(0,b.EW)(()=>({rowData:a.rowData||L.value.rowData,tableList:a.tableList||L.value.tableList,usedColumnList:a.usedColumnList||L.value.usedColumnList,formConfig:a.formConfig||L.value.formConfig,groupColumnList:a.groupColumnList||L.value.groupColumnList||[]})),A=(0,b.EW)(()=>null!=x.value.formConfig&&x.value.formConfig.currentWidget.bindData.dataType===g.SysCustomWidgetBindDataType.Custom);null!=x.value.formConfig&&(w.value.fieldType=A.value?1:0);const O=(0,b.EW)(()=>{let e=[g.OnlineFormEventType.CELL_CLICK,g.OnlineFormEventType.CELL_RENDER];return w.value.inlineEdit&&e.push(g.OnlineFormEventType.INLINE_VALUE_CHANGE),1===w.value.fieldShowType&&e.push(g.OnlineFormEventType.CELL_TAG_TYPE),e}),Y=(0,b.EW)(()=>(0,k.PH)(x.value.tableList,w.value.tableId,"tableId")),z=(0,b.EW)(()=>null!=Y.value?Y.value.columnList.filter(e=>-1===x.value.usedColumnList.indexOf(e.columnId)||U.value===e.columnId):[]),M=(0,b.EW)(()=>z.value.find(e=>e.columnId===w.value.columnId)),Q=(0,b.EW)(()=>{if(null==M.value||null==M.value.dictInfo)return[];let e=M.value.dictInfo,l=e.dictDataJson?JSON.parse(e.dictDataJson):void 0;return l.paramList}),B=(0,b.EW)(()=>(console.log("supportInlineEdit",M.value,w.value.tableId),null!=M.value&&x.value.tableList[0].tableId===w.value.tableId)),G=(0,b.EW)(()=>{if(null!=M.value)switch(M.value.objectFieldType){case"String":case"Long":return"String";case"Date":return"Date";case"Boolean":return"Boolean";case"Integer":case"Float":case"Double":case"BigDecimal":return"Number";default:return}}),q=(0,b.EW)(()=>{if(null==M.value||!w.value.inlineEdit)return[];let e=[];switch(G.value){case"String":e=[g.SysCustomWidgetType.INLINE_INPUT,g.SysCustomWidgetType.INLINE_DATE];break;case"Date":e=[g.SysCustomWidgetType.INLINE_DATE];break;case"Boolean":e=[g.SysCustomWidgetType.INLINE_SWITCH];break;case"Number":e=[g.SysCustomWidgetType.INLINE_NUMBER_INPUT,g.SysCustomWidgetType.INLINE_SWITCH];break;default:e=[];break}null!=M.value.dictInfo?(e=[g.SysCustomWidgetType.INLINE_SELECT],M.value.dictInfo.treeFlag&&e.push(g.SysCustomWidgetType.INLINE_CASCADE),M.value.dictInfo.dictType===g.SysOnlineDictType.TABLE&&e.push(g.SysCustomWidgetType.DictSelect)):M.value.fieldKind!==R.SysOnlineFieldKind.UPLOAD&&M.value.fieldKind!==R.SysOnlineFieldKind.UPLOAD_IMAGE||(e=[g.SysCustomWidgetType.INLINE_UPLOAD]),e.push(g.SysCustomWidgetType.UserSelect),e.push(g.SysCustomWidgetType.DeptSelect),0===w.value.fieldShowType&&e.push(g.SysCustomWidgetType.DataSelect);let l=e.map(e=>({id:e,name:g.SysCustomWidgetType.getValue(e)}));return l}),H=e=>{Array.isArray(e)&&e.length>0?w.value.parentId=e[e.length-1]:w.value.parentId=void 0},j=()=>{a.dialog?a.dialog.cancel():S(!1)},J=()=>{D.value.validate(e=>{e&&(1===w.value.fieldType?null==w.value.id&&(w.value.id="custom_"+(new Date).getTime()):null==w.value.id&&(w.value.id="column_"+w.value.columnId),w.value.table=Y.value,w.value.relationId=null==(Y.value||{}).relationType?void 0:Y.value?.id,a.dialog?a.dialog.submit(w.value):S(!0,x.value.rowData,w.value))})},$=()=>{w.value.columnId=void 0},Z=()=>{w.value.column=(0,k.PH)(z.value,w.value.columnId,"columnId"),w.value.showName=w.value.column?w.value.column.columnComment:void 0,w.value.fieldShowType=0,w.value.textShowType=0},ee=()=>{w.value.customFieldName=void 0,w.value.tableId=void 0,w.value.columnId=void 0,w.value.filterable=!1,w.value.sortable=!1,w.value.inlineEdit=!1,w.value.inlineEditWidgetType=void 0,w.value.dictParams=void 0,D.value&&D.value.clearValidate()},le=(e,l)=>{null==e?(null==w.value.dictParams&&(w.value.dictParams=[]),w.value.dictParams.push(l)):w.value.dictParams=w.value.dictParams.map(a=>a.dictParamName===e.dictParamName?l:a)},ae=e=>{let l=(Q.value||[]).filter(e=>{let l=w.value.dictParams,a=(0,k.PH)(l,e.dictParamName,"dictParamName");return null==a}),a=[];null!=Y.value&&(a=Y.value.columnList),F.l.show(e?"编辑参数":"添加参数",C["default"],{area:"600px"},{rowData:e,paramList:l,columnList:a,path:"thirdEditDictParamValue"},{width:"600px",height:"400px",pathName:"/thirdParty/thirdEditDictParamValue"}).then(l=>{le(e,l)}).catch(e=>{console.warn(e)})},ue=e=>{_.s.confirm("是否删除此参数？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{w.value.dictParams=w.value.dictParams.filter(l=>l.dictParamName!==e.dictParamName)})};return(0,b.sV)(()=>{x.value.rowData&&(w.value={...w.value,...x.value.rowData},U.value=w.value.columnId,X.value=(0,k.Zi)(x.value.groupColumnList,w.value.parentId,"columnId"))}),(e,l)=>{const a=v.Zh,_=v.MQ,R=t.xE,k=p.uD,F=s._m,T=m.WK,V=r.u,C=n.S2,L=o.P9,S=o.AV,U=i.lq,Y=d.qi,G=t.US,le=u.S2;return(0,b.uX)(),(0,b.CE)("div",W,[(0,b.bF)(G,{ref_key:"form",ref:D,model:(0,c.R1)(w),class:"form-box",rules:K,style:{width:"100%"},"label-width":"100px",size:(0,c.R1)(N),"label-position":"right",onSubmit:l[20]||(l[20]=(0,f.D$)(()=>{},["prevent"]))},{default:(0,b.k6)(()=>[(0,b.bF)(C,{class:"full-width-input"},{default:(0,b.k6)(()=>[e.supportGroup?((0,b.uX)(),(0,b.Wv)(k,{key:0,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"表格列类型"},{default:(0,b.k6)(()=>[(0,b.bF)(_,{modelValue:(0,c.R1)(w).isGroup,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,c.R1)(w).isGroup=e),disabled:null!=e.rowData},{default:(0,b.k6)(()=>[(0,b.bF)(a,{value:!1},{default:(0,b.k6)(()=>l[21]||(l[21]=[(0,b.eW)("数据列")])),_:1,__:[21]}),(0,b.bF)(a,{value:!0},{default:(0,b.k6)(()=>l[22]||(l[22]=[(0,b.eW)("分组列")])),_:1,__:[22]})]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})):(0,b.Q3)("",!0),e.supportGroup?((0,b.uX)(),(0,b.Wv)(k,{key:1,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"所属分组"},{default:(0,b.k6)(()=>[(0,b.bF)(F,{modelValue:(0,c.R1)(X),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,c.i9)(X)?X.value=e:null),options:(0,c.R1)(x).groupColumnList,props:{value:"columnId",label:"showName",children:"children",checkStrictly:!0},clearable:"",onChange:H},null,8,["modelValue","options"])]),_:1})]),_:1})):(0,b.Q3)("",!0),null!=(0,c.R1)(w).isGroup&&(0,c.R1)(w).isGroup?((0,b.uX)(),(0,b.Wv)(k,{key:3,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"表格列名",prop:"showName"},{default:(0,b.k6)(()=>[(0,b.bF)(T,{class:"input-item",modelValue:(0,c.R1)(w).showName,"onUpdate:modelValue":l[19]||(l[19]=e=>(0,c.R1)(w).showName=e),clearable:!0,placeholder:"表格列名"},null,8,["modelValue"])]),_:1})]),_:1})):((0,b.uX)(),(0,b.CE)(b.FK,{key:2},[(0,b.bF)(k,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"绑定类型"},{default:(0,b.k6)(()=>[(0,b.bF)(_,{modelValue:(0,c.R1)(w).fieldType,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,c.R1)(w).fieldType=e),disabled:null!=e.rowData||(0,c.R1)(A),onChange:ee},{default:(0,b.k6)(()=>[(0,b.bF)(a,{value:0},{default:(0,b.k6)(()=>l[23]||(l[23]=[(0,b.eW)("表字段")])),_:1,__:[23]}),(0,b.bF)(a,{value:1},{default:(0,b.k6)(()=>l[24]||(l[24]=[(0,b.eW)("自定义")])),_:1,__:[24]})]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),1===(0,c.R1)(w).fieldType?((0,b.uX)(),(0,b.Wv)(k,{key:0,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"字段名",prop:"customFieldName"},{default:(0,b.k6)(()=>[(0,b.bF)(T,{modelValue:(0,c.R1)(w).customFieldName,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,c.R1)(w).customFieldName=e),clearable:""},null,8,["modelValue"])]),_:1})]),_:1})):(0,b.Q3)("",!0),0===(0,c.R1)(w).fieldType?((0,b.uX)(),(0,b.Wv)(k,{key:1,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"字段数据表",prop:"tableId"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{class:"input-item",modelValue:(0,c.R1)(w).tableId,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,c.R1)(w).tableId=e),disabled:null!=(0,c.R1)(x).rowData,clearable:!0,placeholder:"字段数据表",onChange:$},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,c.R1)(x).tableList,(e,l)=>((0,b.uX)(),(0,b.Wv)(L,{key:e.tableId,label:e.tableName,value:e.tableId},{default:(0,b.k6)(()=>[(0,b.bF)(C,{type:"flex",justify:"space-between",align:"middle"},{default:(0,b.k6)(()=>[(0,b.Lk)("span",null,(0,y.v_)(e.tableName),1),(0,b.bF)(V,{type:null==e.relationType?"success":"",style:{"margin-left":"30px"},size:(0,c.R1)(N),effect:"dark"},{default:(0,b.k6)(()=>[(0,b.eW)((0,y.v_)(null==e.relationType||0===l?"主表":"一对一关联"),1)]),_:2},1032,["type","size"])]),_:2},1024)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})):(0,b.Q3)("",!0),0===(0,c.R1)(w).fieldType?((0,b.uX)(),(0,b.Wv)(k,{key:2,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"绑定列字段",prop:"columnId"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{class:"input-item",modelValue:(0,c.R1)(w).columnId,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,c.R1)(w).columnId=e),disabled:null!=(0,c.R1)(x).rowData,clearable:!0,placeholder:"字段数据表",onChange:Z},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,c.R1)(z),e=>((0,b.uX)(),(0,b.Wv)(L,{key:e.columnId,label:e.columnName,value:e.columnId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,b.bF)(k,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"表格列名",prop:"showName"},{default:(0,b.k6)(()=>[(0,b.bF)(T,{class:"input-item",modelValue:(0,c.R1)(w).showName,"onUpdate:modelValue":l[6]||(l[6]=e=>(0,c.R1)(w).showName=e),clearable:!0,placeholder:"表格列名"},null,8,["modelValue"])]),_:1})]),_:1}),(0,b.bF)(k,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"列固定"},{default:(0,b.k6)(()=>[(0,b.bF)(_,{modelValue:(0,c.R1)(w).fixed,"onUpdate:modelValue":l[7]||(l[7]=e=>(0,c.R1)(w).fixed=e)},{default:(0,b.k6)(()=>[(0,b.bF)(a,{value:"none"},{default:(0,b.k6)(()=>l[25]||(l[25]=[(0,b.eW)("不固定")])),_:1,__:[25]}),(0,b.bF)(a,{value:"left"},{default:(0,b.k6)(()=>l[26]||(l[26]=[(0,b.eW)("固定左侧")])),_:1,__:[26]}),(0,b.bF)(a,{value:"right"},{default:(0,b.k6)(()=>l[27]||(l[27]=[(0,b.eW)("固定右侧")])),_:1,__:[27]})]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,c.R1)(M)&&"Date"===(0,c.R1)(M).objectFieldType?((0,b.uX)(),(0,b.Wv)(k,{key:3,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"日期格式",prop:"dateType"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{class:"input-item",modelValue:(0,c.R1)(w).dateType,"onUpdate:modelValue":l[8]||(l[8]=e=>(0,c.R1)(w).dateType=e),clearable:!0,placeholder:"日期格式"},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,c.R1)(P),e=>((0,b.uX)(),(0,b.Wv)(L,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,b.bF)(k,{span:12},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"表格列宽"},{default:(0,b.k6)(()=>[(0,b.bF)(U,{class:"input-item",modelValue:(0,c.R1)(w).columnWidth,"onUpdate:modelValue":l[9]||(l[9]=e=>(0,c.R1)(w).columnWidth=e),placeholder:"表格列宽"},null,8,["modelValue"])]),_:1})]),_:1}),(0,b.bF)(k,{span:12},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"显示类型"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{class:"input-item",modelValue:(0,c.R1)(w).fieldShowType,"onUpdate:modelValue":l[10]||(l[10]=e=>(0,c.R1)(w).fieldShowType=e),disabled:(0,c.R1)(M)&&null==(0,c.R1)(M).dictInfo,placeholder:"显示类型"},{default:(0,b.k6)(()=>[(0,b.bF)(L,{label:"文本",value:0}),(0,b.bF)(L,{label:"标签",value:1})]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),0==(0,c.R1)(w).fieldShowType?((0,b.uX)(),(0,b.Wv)(k,{key:4,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"显示模式"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{class:"input-item",modelValue:(0,c.R1)(w).textShowType,"onUpdate:modelValue":l[11]||(l[11]=e=>(0,c.R1)(w).textShowType=e),placeholder:"显示模式"},{default:(0,b.k6)(()=>[(0,b.bF)(L,{label:"默认显示",value:0}),(0,b.bF)(L,{label:"单行省略",value:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,b.bF)(k,{span:8},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"支持筛选"},{default:(0,b.k6)(()=>[(0,b.bF)(Y,{modelValue:(0,c.R1)(w).filterable,"onUpdate:modelValue":l[12]||(l[12]=e=>(0,c.R1)(w).filterable=e),disabled:1==(0,c.R1)(w).fieldType},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,b.bF)(k,{span:8},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"支持排序"},{default:(0,b.k6)(()=>[(0,b.bF)(Y,{modelValue:(0,c.R1)(w).sortable,"onUpdate:modelValue":l[13]||(l[13]=e=>(0,c.R1)(w).sortable=e),disabled:1==(0,c.R1)(w).fieldType},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,c.R1)(B)?((0,b.uX)(),(0,b.Wv)(k,{key:5,span:8},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"行内编辑"},{default:(0,b.k6)(()=>[(0,b.bF)(Y,{modelValue:(0,c.R1)(w).inlineEdit,"onUpdate:modelValue":l[14]||(l[14]=e=>(0,c.R1)(w).inlineEdit=e),disabled:1==(0,c.R1)(w).fieldType||(0,c.R1)(M).aggregationColumn},null,8,["modelValue","disabled"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,c.R1)(w).inlineEdit?((0,b.uX)(),(0,b.Wv)(k,{key:6,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"编辑控件"},{default:(0,b.k6)(()=>[(0,b.bF)(S,{class:"input-item",modelValue:(0,c.R1)(w).inlineEditWidgetType,"onUpdate:modelValue":l[15]||(l[15]=e=>(0,c.R1)(w).inlineEditWidgetType=e),disabled:1==(0,c.R1)(w).fieldType||!(0,c.R1)(w).inlineEdit,clearable:!0,placeholder:"编辑控件"},{default:(0,b.k6)(()=>[((0,b.uX)(!0),(0,b.CE)(b.FK,null,(0,b.pI)((0,c.R1)(q),e=>((0,b.uX)(),(0,b.Wv)(L,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,c.R1)(w).inlineEdit&&(0,c.R1)(Q).length>0&&(0,c.R1)(w).inlineEditWidgetType!==(0,c.R1)(g.SysCustomWidgetType).DataSelect&&(0,c.R1)(w).inlineEditWidgetType!==(0,c.R1)(g.SysCustomWidgetType).DeptSelect&&(0,c.R1)(w).inlineEditWidgetType!==(0,c.R1)(g.SysCustomWidgetType).UserSelect?((0,b.uX)(),(0,b.Wv)(k,{key:7,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(R,{label:"字典参数"},{default:(0,b.k6)(()=>[(0,b.bF)(h.A,{data:(0,c.R1)(w).dictParams,addText:"添加字典过滤参数",maxCount:(0,c.R1)(Q)?(0,c.R1)(Q).length:0,onAdd:l[16]||(l[16]=e=>ae()),onEdit:ae,onDelete:ue,prop:{label:"dictParamName",value:"dictParamName"}},null,8,["data","maxCount"])]),_:1})]),_:1})):(0,b.Q3)("",!0),(0,c.R1)(w).inlineEdit&&(0,c.R1)(w).inlineEditWidgetType===(0,c.R1)(g.SysCustomWidgetType).DataSelect?((0,b.uX)(),(0,b.Wv)(k,{key:8,span:24},{default:(0,b.k6)(()=>[(0,b.bF)(E.A,{value:(0,c.R1)(w).relativeTable,"onUpdate:value":l[17]||(l[17]=e=>(0,c.R1)(w).relativeTable=e),"label-position":"right","label-width":"100px",allFormList:(0,c.R1)(x).formConfig.allFormList,formConfig:(0,c.R1)(x).formConfig},null,8,["value","allFormList","formConfig"])]),_:1})):(0,b.Q3)("",!0),(0,b.bF)(k,{span:24},{default:(0,b.k6)(()=>[(0,b.bF)(I.A,{label:"表格列脚本",value:(0,c.R1)(w).eventList,"onUpdate:value":l[18]||(l[18]=e=>(0,c.R1)(w).eventList=e),formConfig:(0,c.R1)(x).formConfig,labelPosition:"right",labelWidth:"100px",allowEventList:(0,c.R1)(O)},null,8,["value","formConfig","allowEventList"])]),_:1})],64))]),_:1})]),_:1},8,["model","size"]),(0,b.bF)(C,{class:"no-scroll menu-box",type:"flex",justify:"end"},{default:(0,b.k6)(()=>[(0,b.bF)(le,{size:(0,c.R1)(N),plain:!0,onClick:j},{default:(0,b.k6)(()=>l[28]||(l[28]=[(0,b.eW)(" 取消 ")])),_:1,__:[28]},8,["size"]),(0,b.bF)(le,{type:"primary",size:(0,c.R1)(N),onClick:J},{default:(0,b.k6)(()=>l[29]||(l[29]=[(0,b.eW)(" 保存 ")])),_:1,__:[29]},8,["size"])]),_:1})])}}});const L=N;var S=L}}]);